{"version":3,"file":"list_item-VW__kTWE.js","sources":["../../components/list_item/list_item_constants.js","../../components/list_item/list_item.vue"],"sourcesContent":["export const LIST_ITEM_TYPES = {\n  DEFAULT: 'default',\n  CUSTOM: 'custom',\n};\n\nexport const LIST_ITEM_NAVIGATION_TYPES = {\n  ARROW_KEYS: 'arrow-keys',\n  TAB: 'tab',\n  NONE: 'none',\n};\n\nexport default {\n  LIST_ITEM_TYPES,\n  LIST_ITEM_NAVIGATION_TYPES,\n};\n","<!-- eslint-disable vuejs-accessibility/mouse-events-have-key-events -->\n<template>\n  <component\n    :is=\"elementType\"\n    :id=\"id\"\n    :class=\"['dt-list-item', {\n      'dt-list-item--focusable': isFocusable,\n      'dt-list-item--highlighted': isHighlighted,\n      'dt-list-item--static': !isHoverable,\n    }]\"\n    :tabindex=\"isFocusable ? 0 : -1\"\n    :role=\"role\"\n    :aria-selected=\"isHighlighted\"\n    v-on=\"listItemListeners\"\n  >\n    <component\n      :is=\"listItemType\"\n      v-if=\"listItemType\"\n    >\n      <template\n        v-for=\"(_, slotName) in $slots\"\n        #[slotName]\n      >\n        <!-- @slot named slots for custom list items -->\n        <slot :name=\"slotName\" />\n      </template>\n      <template\n        v-if=\"selected\"\n        #selected\n      >\n        <dt-icon\n          name=\"check\"\n          size=\"400\"\n          class=\"dt-list-item--selected-icon\"\n        />\n      </template>\n    </component>\n    <!-- @slot slot for the main content -->\n    <slot v-else />\n  </component>\n</template>\n\n<script>\nimport {\n  LIST_ITEM_TYPES,\n  LIST_ITEM_NAVIGATION_TYPES,\n} from './list_item_constants';\nimport utils from '@/common/utils';\nimport { DtIcon } from '@/components/icon';\nimport { DtItemLayout } from '@/components/item_layout';\n\n/**\n * A list item is an element that can be used to represent individual items in a list.\n * @see https://dialpad.design/components/list_item.html\n */\nexport default {\n  name: 'DtListItem',\n\n  components: {\n    DtItemLayout,\n    DtIcon,\n  },\n\n  /**\n   * Value provided from keyboard_list_navigation.js using id prop.\n   */\n  inject: {\n    highlightId: { default: null },\n  },\n\n  props: {\n    /**\n     * Id for the item.\n     */\n    id: {\n      type: String,\n      default () { return utils.getUniqueString(); },\n    },\n\n    /**\n     * String to use for the item's role.\n     */\n    role: {\n      type: String,\n      default: 'listitem',\n    },\n\n    /**\n     * HTML element type (tag name) of the content wrapper element.\n     */\n    elementType: {\n      type: String,\n      default: 'li',\n    },\n\n    /**\n     * The type of child list item to use.\n     * @values default, custom\n     */\n    type: {\n      type: String,\n      default: LIST_ITEM_TYPES.DEFAULT,\n      validator: (t) => Object.values(LIST_ITEM_TYPES).includes(t),\n    },\n\n    /**\n     * The type of navigation that this component should support.\n     * - \"arrow-keys\" for items that are navigated with UP/DOWN keys.\n     * - \"tab\" for items that are navigated using the TAB key.\n     * - \"none\" for static items that are not interactive.\n     * @values arrow-keys, tab, none\n     */\n    navigationType: {\n      type: String,\n      default: LIST_ITEM_NAVIGATION_TYPES.NONE,\n      validator: (t) => Object.values(LIST_ITEM_NAVIGATION_TYPES).includes(t),\n    },\n\n    /**\n     * Applies selected styles to the list item\n     */\n    selected: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  emits: [\n    /**\n     * Key down event\n     *\n     * @event keydown\n     * @type {KeyboardEvent}\n     */\n    'keydown',\n\n    /**\n     * Native mouse move event\n     *\n     * @event mousemove\n     * @type {MouseEvent}\n     */\n    'mousemove',\n\n    /**\n     * Native mouse leave event\n     *\n     * @event mouseleave\n     * @type {MouseEvent}\n     */\n    'mouseleave',\n\n    /**\n     * Mouse down event\n     *\n     * @event mousedown\n     */\n    'mousedown',\n  ],\n\n  data () {\n    return {\n      injected: false,\n      mouseHighlighted: false,\n    };\n  },\n\n  computed: {\n    listItemType () {\n      switch (this.type) {\n        case LIST_ITEM_TYPES.DEFAULT:\n          return DtItemLayout;\n        default:\n          return null;\n      }\n    },\n\n    listItemListeners () {\n      return {\n        keydown: event => {\n          if (['enter', 'space'].includes(event.code.toLowerCase())) {\n            this.onClick(event);\n          }\n          this.$emit('keydown', event);\n        },\n\n        mousemove: event => {\n          this.onMouseHover(event);\n          this.$emit('mousemove', event);\n        },\n\n        mouseleave: event => {\n          this.onMouseLeave(event);\n          this.$emit('mouseleave', event);\n        },\n      };\n    },\n\n    /**\n     * For keyboard navigation, whether this item is currently highlighted.\n     * An injected highlightId will override the default mouseover highlight.\n     */\n    isHighlighted () {\n      if (this.isHoverable) {\n        return this.highlightId && this.highlightId() ? this.id === this.highlightId() : this.mouseHighlighted;\n      }\n      return false;\n    },\n\n    isFocusable () {\n      // Navigation type has to be set to \"tab\".\n      return this.navigationType === LIST_ITEM_NAVIGATION_TYPES.TAB;\n    },\n\n    /**\n     * Whether to apply hover styles.\n     */\n    isHoverable () {\n      return this.navigationType !== LIST_ITEM_NAVIGATION_TYPES.NONE;\n    },\n  },\n\n  methods: {\n    onClick (e) {\n      // disabled as we do not want to override native click\n      // eslint-disable-next-line vue/require-explicit-emits\n      this.$emit('click', e);\n    },\n\n    onMouseHover () {\n      this.mouseHighlighted = true;\n    },\n\n    onMouseLeave () {\n      this.mouseHighlighted = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.dt-list-item {\n  list-style: none;\n  background-color: var(--dt-action-color-background-muted-default);\n\n  &:not(.dt-list-item--static) {\n    cursor: pointer;\n    border-radius: var(--dt-size-radius-300);\n  }\n\n  &--focusable:focus,\n  &--focusable:focus-within,\n  &--highlighted {\n    background-color: var(--dt-action-color-background-muted-hover);\n  }\n\n  &--highlighted:active {\n    background-color: var(--dt-action-color-background-muted-active);\n  }\n\n  &--selected-icon {\n    margin-left: var(--dt-space-400);\n  }\n\n  :focus-visible {\n    outline: none;\n    box-shadow: var(--dt-shadow-focus);\n  }\n}\n</style>\n"],"names":["LIST_ITEM_TYPES","LIST_ITEM_NAVIGATION_TYPES","_sfc_main","DtItemLayout","DtIcon","utils","t","event","_createBlock","_resolveDynamicComponent","$props","_mergeProps","$options","_toHandlers","_openBlock","_createSlots","_ctx","_","slotName","_createCommentVNode","_renderSlot","_createVNode","_component_dt_icon","_createElementBlock","_Fragment"],"mappings":"sUAAY,MAACA,EAAkB,CAC7B,QAAS,UACT,OAAQ,QACV,EAEaC,EAA6B,CACxC,WAAY,aACZ,IAAK,MACL,KAAM,MACR,EC8CKC,EAAU,CACb,KAAM,aAEN,WAAY,CACV,aAAAC,EACA,OAAAC,CACD,EAKD,OAAQ,CACN,YAAa,CAAE,QAAS,IAAM,CAC/B,EAED,MAAO,CAIL,GAAI,CACF,KAAM,OACN,SAAW,CAAE,OAAOC,EAAM,gBAAiB,CAAG,CAC/C,EAKD,KAAM,CACJ,KAAM,OACN,QAAS,UACV,EAKD,YAAa,CACX,KAAM,OACN,QAAS,IACV,EAMD,KAAM,CACJ,KAAM,OACN,QAASL,EAAgB,QACzB,UAAYM,GAAM,OAAO,OAAON,CAAe,EAAE,SAASM,CAAC,CAC5D,EASD,eAAgB,CACd,KAAM,OACN,QAASL,EAA2B,KACpC,UAAYK,GAAM,OAAO,OAAOL,CAA0B,EAAE,SAASK,CAAC,CACvE,EAKD,SAAU,CACR,KAAM,QACN,QAAS,EACV,CACF,EAED,MAAO,CAOL,UAQA,YAQA,aAOA,WACD,EAED,MAAQ,CACN,MAAO,CACL,SAAU,GACV,iBAAkB,GAErB,EAED,SAAU,CACR,cAAgB,CACd,OAAQ,KAAK,KAAI,CACf,KAAKN,EAAgB,QACnB,OAAOG,EACT,QACE,OAAO,IACX,CACD,EAED,mBAAqB,CACnB,MAAO,CACL,QAASI,GAAS,CACZ,CAAC,QAAS,OAAO,EAAE,SAASA,EAAM,KAAK,YAAW,CAAE,GACtD,KAAK,QAAQA,CAAK,EAEpB,KAAK,MAAM,UAAWA,CAAK,CAC5B,EAED,UAAWA,GAAS,CAClB,KAAK,aAAaA,CAAK,EACvB,KAAK,MAAM,YAAaA,CAAK,CAC9B,EAED,WAAYA,GAAS,CACnB,KAAK,aAAaA,CAAK,EACvB,KAAK,MAAM,aAAcA,CAAK,CAC/B,EAEJ,EAMD,eAAiB,CACf,OAAI,KAAK,YACA,KAAK,aAAe,KAAK,YAAW,EAAK,KAAK,KAAO,KAAK,cAAgB,KAAK,iBAEjF,EACR,EAED,aAAe,CAEb,OAAO,KAAK,iBAAmBN,EAA2B,GAC3D,EAKD,aAAe,CACb,OAAO,KAAK,iBAAmBA,EAA2B,IAC3D,CACF,EAED,QAAS,CACP,QAAS,EAAG,CAGV,KAAK,MAAM,QAAS,CAAC,CACtB,EAED,cAAgB,CACd,KAAK,iBAAmB,EACzB,EAED,cAAgB,CACd,KAAK,iBAAmB,EACzB,CACF,CACH,0DA3OEO,EAqCYC,EApCLC,EAAW,WAAA,EADlBC,EAqCY,CAnCT,GAAID,EAAE,GACN,MAAK,CAAA,eAAA,2BAAsDE,EAAW,wCAAqCA,EAAa,sCAAiCA,EAAW,cAKpK,SAAUA,EAAW,YAAA,EAAA,GACrB,KAAMF,EAAI,KACV,gBAAeE,EAAa,aAC7B,EAAAC,EAAMD,EAAiB,iBAAA,CAAA,EAAA,WAEvB,IAqBY,CAnBJA,EAAY,cAFpBE,EAAA,EAAAN,EAqBYC,EApBLG,EAAY,YAAA,EAAA,CAAA,IAAA,CAAA,EAAAG,EAAA,CAAA,EAAA,CAAA,EAAA,GAISC,EAAM,OAAA,CAAtBC,EAAGC,WACVA,OAED,IAAgD,CAAhDC,EAAgD,2CAAA,EAChDC,EAAyBJ,SAAZE,CAAQ,OAGfR,EAAQ,eACb,gBAED,IAIE,CAJFW,EAIEC,EAAA,CAHA,KAAK,QACL,KAAK,MACL,MAAM,gEAKZC,EAAeC,EAAA,CAAA,IAAA,CAAA,EAAA,CADfL,EAAwC,mCAAA,EACxCC,EAAeJ,EAAA,OAAA,SAAA;;;"}