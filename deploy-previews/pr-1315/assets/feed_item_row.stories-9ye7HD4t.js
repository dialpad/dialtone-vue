import{a as N}from"./chunk-AY7I2SME-4UylTnhF.js";import{c as z}from"./storybook_utils-dy5aucTw.js";import{D as I}from"./avatar-DSnVDm-f.js";import{D as te}from"./lazy_show-IxfzjcX-.js";import{D as ae}from"./list_item-e4_v3xkq.js";import{s as i,b as h,w as t,m as oe,t as se,o as s,f as r,g as p,u as o,d as O,v as A,k as l,y as T,e as a,B as re,F as $,G as S,N as P,O as Y,x as ie}from"./vue.esm-bundler-PY0rQjII.js";import{_ as L}from"./_plugin-vue_export-helper-x3n3nnut.js";import{D as W}from"./emoji_row-e5FhINai.js";import{D as G}from"./icon-34MKq-Bw.js";import{D as J}from"./button-SQvTdlhI.js";import{D as K}from"./stack-Mbka1MYa.js";import{D as ne}from"./image_viewer-eFDjcIpP.js";import{f as de}from"./fry-tJxUcw5g.js";const H={NORMAL:"",SEARCHED:"d-bgc-warning-subtle",ERROR:"d-bgc-critical-subtle"},F="NORMAL",Q={name:"DtRecipeFeedItemRow",components:{DtAvatar:I,DtLazyShow:te,DtListItem:ae},inheritAttrs:!1,props:{avatarSeed:{type:String,default:null},showHeader:{type:Boolean,default:!1},avatarImageUrl:{type:String,default:""},displayName:{type:String,default:""},time:{type:String,default:""},shortTime:{type:String,default:""},isActive:{type:Boolean,default:!1},state:{type:String,default:F,validator:e=>Object.keys(H).includes(e)}},emits:["hover","focus"],data(){return{faded:!1}},computed:{feedListeners(){return{mouseenter:()=>this.setHover(!0),mouseleave:()=>this.setHover(!1),focusin:()=>this.setFocus(!0),focusout:()=>this.setFocus(!1)}},listItemClasses(){return["d-w100p","d-box-border","d-ps-relative","d-px8",{"d-bgc-secondary-opaque":this.isActive&&this.state===F},H[this.state],"dt-feed-item-row","d-t","d-tp-bgc"]}},methods:{setFocus(e){this.$emit("focus",e)},setHover(e){this.$emit("hover",e)},fade(){this.state===F||this.faded===!0||(this.$refs.FeedItemRef.$el.classList.remove(H[this.state]),this.faded=!0)}}},le={key:0,"data-qa":"dt-feed-item-row--header",class:"d-d-flex d-ai-center"},me={class:"d-fs-200 d-lh-300 d-fw-bold d-to-ellipsis d-of-hidden d-ws-nowrap"},ce={class:"d-fs-100 d-mt2 d-lh-300 d-fc-tertiary d-fw-normal d-ml4 d-fl-shrink0"},ue={class:"content-text-wrapper-class","data-qa":"dt-feed-item-row--content"},fe={class:"d-d-flex d-fw-wrap","data-qa":"dt-feed-item-row--reactions"},pe={"data-qa":"dt-feed-item-row--menu",class:"d-ps-absolute d-tn24 d-r12"};function he(e,u,n,E,m,D){const v=i("dt-avatar"),d=i("dt-lazy-show"),w=i("dt-list-item");return s(),h(w,oe({ref:"FeedItemRef","navigation-type":"none"},e.$attrs,{class:D.listItemClasses,"data-qa":"dt-feed-item-row"},se(D.feedListeners)),{left:t(()=>[r(" @slot Slot to contain the avatar, overrides avatar props. "),n.showHeader?p(e.$slots,"avatar",{key:0},()=>[o(v,{"full-name":n.displayName,"image-src":n.avatarImageUrl,seed:n.avatarSeed},null,8,["full-name","image-src","seed"])],!0):r("v-if",!0),r(" show time instead of avatar when headers not present "),n.showHeader?r("v-if",!0):O((s(),l("div",{key:1,class:"dt-feed-item-row__left-time","data-qa":"dt-feed-item-row--left-time"},T(n.shortTime),513)),[[A,n.isActive]])]),bottom:t(()=>[a("div",fe,[r(" @slot Slot for reactions row component "),p(e.$slots,"reactions",{},void 0,!0)]),r(" @slot Slot for threading row component "),p(e.$slots,"threading",{},void 0,!0)]),right:t(()=>[O(a("div",pe,[o(d,{appear:!0,transition:"fade",show:n.isActive},{default:t(()=>[r(" @slot Slot for actions hover menu component "),p(e.$slots,"menu",{},void 0,!0)]),_:3},8,["show"])],512),[[A,n.isActive]])]),default:t(()=>[a("article",null,[r(" Feed Item "),n.showHeader?(s(),l("div",le,[a("p",me,T(n.displayName),1),a("time",ce,T(n.time),1)])):r("v-if",!0),r(" @slot Default content slot for feed item row "),a("span",ue,[p(e.$slots,"default",{},void 0,!0)])])]),_:3},16,["class"])}const V=L(Q,[["render",he],["__scopeId","data-v-58072825"],["__file","/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row.vue"]]);Q.__docgenInfo={displayName:"DtRecipeFeedItemRow",exportName:"default",description:"",tags:{},props:[{name:"avatarSeed",description:"Avatar seed, set this to the user's ID to get the same avatar background gradient each time it is displayed.",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"showHeader",description:"Show avatar, show header text or dont show left time and vice versa",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"avatarImageUrl",description:"Show the avatar of the user, if this is not passed in, the initials would display",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"displayName",description:"The display name of the sender",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"time",description:`time string displayed as is.
Shown on the header when showHeader is true`,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"shortTime",description:`short time string without AM/PM displayed as is.
Shown on the left of feed item when showHeader is false and isActive is true`,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"isActive",description:"displays a darkened background on the row.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"state",description:"state for the feed item row. Can be default, searched & error",type:{name:"string"},defaultValue:{func:!1,value:"DEFAULT_FEED_ROW_STATE"}}],events:[{name:"hover",description:"Fires when hovered over feed row",type:{names:["Boolean"]}},{name:"focus",description:"Fires when focused over feed row",type:{names:["Boolean"]}}],slots:[{name:"avatar",description:"Slot to contain the avatar, overrides avatar props."},{name:"default"},{name:"reactions",description:"Slot for reactions row component"},{name:"threading",description:"Slot for threading row component"},{name:"menu",description:"Slot for actions hover menu component"}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row.vue"]};const X={name:"DtRecipeFeedItemRowDefault",components:{DtAvatar:I,DtRecipeFeedItemRow:V,DtRecipeEmojiRow:W,DtIcon:G,DtButton:J,DtStack:K},data(){return{mockReactions:[{emojiUnicodeOrShortname:"ðŸ˜€",isSelected:!0,ariaLabel:"Emoji aria label",tooltip:"You reacted with ðŸ˜€",num:1},{emojiUnicodeOrShortname:"ðŸ˜’",isSelected:!1,ariaLabel:"Emoji aria label",tooltip:"You reacted with ðŸ˜’",num:1},{emojiUnicodeOrShortname:"ðŸ™ƒ",isSelected:!1,ariaLabel:"Emoji aria label",tooltip:"You reacted with ðŸ™ƒ",num:99}],hoverButtons:["bell","living-thing","map-pin"],persons:["Jim Halpert","Michael Scott","Pam"]}}},_e=e=>(P("data-v-0377ace7"),e=e(),Y(),e),ve={class:"d-pt16 feed-item-row__default-story"},we=["innerHTML"],ge=["innerHTML"],ye=_e(()=>a("div",{class:"d-fs-100 d-lh200 d-d-flex d-ai-center"},[a("a",{class:"d-link d-pr4"},"3 replies"),a("span",{class:"feed-item-row__reply"},"Last reply an hour ago")],-1)),be={class:"d-d-flex d-bgc-primary d-bar-pill d-bc-default d-ba",role:"group"};function $e(e,u,n,E,m,D){const v=i("dt-avatar"),d=i("dt-stack"),w=i("dt-recipe-emoji-row"),R=i("dt-icon"),k=i("dt-button"),g=i("dt-recipe-feed-item-row");return s(),l("ul",ve,[o(g,{"show-header":e.$attrs.showHeader,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":e.$attrs.isActive,state:e.$attrs.state,onHover:e.$attrs.onHover,onFocus:e.$attrs.onFocus},re({reactions:t(()=>[o(w,{reactions:m.mockReactions},null,8,["reactions"])]),menu:t(()=>[r(" TODO replace this with DT menu "),a("div",be,[(s(!0),l($,null,S(m.hoverButtons,f=>(s(),h(k,{key:f,kind:"muted",importance:"clear",size:"xs","aria-label":"button"},{icon:t(()=>[p(e.$slots,"icon",{},()=>[o(R,{name:f,size:"300"},null,8,["name"])],!0)]),_:2},1024))),128))])]),default:t(()=>[e.$attrs.default?(s(),l("span",{key:0,innerHTML:e.$attrs.default},null,8,we)):r("v-if",!0)]),_:2},[e.$attrs.avatar?{name:"avatar",fn:t(()=>[a("span",{innerHTML:e.$attrs.avatar},null,8,ge)]),key:"0"}:void 0,e.$attrs.threading?{name:"threading",fn:t(()=>[o(d,{class:"feed-item-row__thread d-d-flex d-ai-center",direction:"row",gap:"400"},{default:t(()=>[o(d,{direction:"row",gap:"300"},{default:t(()=>[(s(!0),l($,null,S(m.persons,f=>(s(),h(v,{key:f,"full-name":f,seed:"seed",size:"sm"},null,8,["full-name"]))),128))]),_:1}),o(d,{direction:"row",gap:"400"},{default:t(()=>[ye]),_:1})]),_:1})]),key:"1"}:void 0]),1032,["show-header","avatar-image-url","display-name","time","short-time","is-active","state","onHover","onFocus"])])}const Se=L(X,[["render",$e],["__scopeId","data-v-0377ace7"],["__file","/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row_default.story.vue"]]);X.__docgenInfo={displayName:"DtRecipeFeedItemRowDefault",exportName:"default",description:"",tags:{},slots:[{name:"icon"}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row_default.story.vue"]};const Z={name:"DtRecipeFeedItemRowVariants",components:{DtRecipeEmojiRow:W,DtRecipeFeedItemRow:V,DtStack:K,DtAvatar:I,DtIcon:G,DtImageViewer:ne,DtButton:J},data(){return{mockReactions:[{emojiUnicodeOrShortname:"ðŸ˜€",isSelected:!0,ariaLabel:"Emoji aria label",tooltip:"You reacted with ðŸ˜€",num:1},{emojiUnicodeOrShortname:"ðŸ˜’",isSelected:!1,ariaLabel:"Emoji aria label",tooltip:"You reacted with ðŸ˜’",num:1},{emojiUnicodeOrShortname:"ðŸ™ƒ",isSelected:!1,ariaLabel:"Emoji aria label",tooltip:"You reacted with ðŸ™ƒ",num:99}],hoverButtons:["bell","living-thing","map-pin"],persons:["Jim Halpert","Michael Scott","Pam"],fryImage:de}}},b=e=>(P("data-v-7075ce8a"),e=e(),Y(),e),Fe=b(()=>a("h3",null,"Feed item with showHeader as False and isActive true",-1)),De={class:"d-py8"},ke=["innerHTML"],He=b(()=>a("div",{class:"d-fs-100 d-lh200 d-d-flex d-ai-center"},[a("a",{class:"d-link d-pr4"},"3 replies"),a("span",{class:"feed-item-row__reply"},"Last reply an hour ago")],-1)),Re={class:"d-d-flex d-bgc-primary d-bar-pill d-bc-default d-ba",role:"group"},Te=b(()=>a("h3",null,"Feed item with rich media",-1)),Ie={class:"d-py8"},Le=b(()=>a("div",{class:"d-fs-100 d-lh200 d-d-flex d-ai-center"},[a("a",{class:"d-link d-pr4"},"3 replies"),a("span",{class:"feed-item-row__reply"},"Last reply an hour ago")],-1)),Ve=b(()=>a("h3",null,'Feed item state "error"',-1)),Ee={class:"d-py8"},Ne=["innerHTML"],Oe=b(()=>a("h3",null,'Feed item state "searched"',-1)),Ae={class:"d-py8"},je=["innerHTML"];function Me(e,u,n,E,m,D){const v=i("dt-avatar"),d=i("dt-stack"),w=i("dt-recipe-emoji-row"),R=i("dt-icon"),k=i("dt-button"),g=i("dt-recipe-feed-item-row"),f=i("dt-image-viewer");return s(),h(d,{gap:"600"},{default:t(()=>[a("div",null,[Fe,a("ul",De,[o(g,{"show-header":!1,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":!0,state:e.$attrs.state,onHover:e.$attrs.onHover,onFocus:e.$attrs.onFocus},{threading:t(()=>[o(d,{class:"feed-item-row__thread d-d-flex d-ai-center",direction:"row",gap:"400"},{default:t(()=>[o(d,{direction:"row",gap:"300"},{default:t(()=>[(s(!0),l($,null,S(m.persons,c=>(s(),h(v,{key:c,"full-name":c,seed:"seed",size:"sm"},null,8,["full-name"]))),128))]),_:1}),o(d,{direction:"row",gap:"400"},{default:t(()=>[He]),_:1})]),_:1})]),reactions:t(()=>[o(w,{reactions:m.mockReactions},null,8,["reactions"])]),menu:t(()=>[r(" TODO replace this with DT menu "),a("div",Re,[(s(!0),l($,null,S(m.hoverButtons,c=>(s(),h(k,{key:c,kind:"muted",importance:"clear",size:"xs","aria-label":"button"},{icon:t(()=>[p(e.$slots,"icon",{},()=>[o(R,{name:c,size:"300"},null,8,["name"])],!0)]),_:2},1024))),128))])]),default:t(()=>[e.$attrs.default?(s(),l("span",{key:0,innerHTML:e.$attrs.default},null,8,ke)):r("v-if",!0)]),_:3},8,["avatar-image-url","display-name","time","short-time","state","onHover","onFocus"])])]),a("div",null,[Te,a("ul",Ie,[o(g,{"show-header":!0,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":!0,onHover:e.$attrs.onHover,onFocus:e.$attrs.onFocus},{threading:t(()=>[o(d,{class:"feed-item-row__thread d-d-flex d-ai-center",direction:"row",gap:"400"},{default:t(()=>[o(d,{direction:"row",gap:"300"},{default:t(()=>[(s(!0),l($,null,S(m.persons,c=>(s(),h(v,{key:c,"full-name":c,seed:"seed",size:"sm"},null,8,["full-name"]))),128))]),_:1}),o(d,{direction:"row",gap:"400"},{default:t(()=>[Le]),_:1})]),_:1})]),reactions:t(()=>[o(w,{reactions:e.reactions},null,8,["reactions"])]),default:t(()=>[o(f,{"image-src":m.fryImage,"image-alt":"Alt Text","close-aria-label":"Close","image-button-class":"d-wmn64 d-hmn64 w-wmx332 d-hmx332","aria-label":"Click to open image"},null,8,["image-src"])]),_:1},8,["avatar-image-url","display-name","time","short-time","onHover","onFocus"])])]),a("div",null,[Ve,a("ul",Ee,[o(g,{"show-header":!1,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":!0,state:"ERROR",onHover:e.$attrs.onHover,onFocus:e.$attrs.onFocus},{default:t(()=>[e.defaultSlot?(s(),l("span",{key:0,innerHTML:e.defaultSlot},null,8,Ne)):r("v-if",!0)]),_:1},8,["avatar-image-url","display-name","time","short-time","onHover","onFocus"])])]),a("div",null,[Oe,o(k,{onClick:u[0]||(u[0]=c=>e.$refs.feedItemRowFade.fade())},{default:t(()=>[ie(" Click to fade ")]),_:1}),a("ul",Ae,[o(g,{ref:"feedItemRowFade","show-header":!1,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":!0,state:"SEARCHED",onHover:e.$attrs.onHover,onFocus:e.$attrs.onFocus},{default:t(()=>[e.defaultSlot?(s(),l("span",{key:0,innerHTML:e.defaultSlot},null,8,je)):r("v-if",!0)]),_:1},8,["avatar-image-url","display-name","time","short-time","onHover","onFocus"])])])]),_:3})}const Ue=L(Z,[["render",Me],["__scopeId","data-v-7075ce8a"],["__file","/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row_variants.story.vue"]]);Z.__docgenInfo={displayName:"DtRecipeFeedItemRowVariants",exportName:"default",description:"",tags:{},slots:[{name:"icon"}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row_variants.story.vue"]};const x={avatarImageUrl:"https://i1.sndcdn.com/avatars-000181324408-652e57-t500x500.jpg",displayName:"Dwight Schrute",time:"4:54 PM",shortTime:"4:54",onFocus:N("focus"),onHover:N("hover"),default:`<p class="d-fs-200 d-lh-400 d-wmx90ch">
  Elementum fames nullam elementum velit proin vitae aliquet.
  Platea nulla consectetur consequat sagittis nullam et ultricies nisl rhoncus
  aliquet elementum venenatis quisque.</p>`},ee={default:{control:"text",table:{type:{summary:"VNode"}}},avatar:{control:"text",table:{type:{summary:"VNode"}}},threading:{name:"threading",control:"text",table:{category:"slots",type:{summary:"VNode"}}},reactions:{control:!1},menu:{control:!1},state:{defaultValue:F,options:Object.keys(H),control:{type:"select",labels:{undefined:"(empty)"}},table:{defaultValue:{summary:F}}},onFocus:{table:{disable:!0}},onHover:{table:{disable:!0}}},Be={title:"Recipes/Conversation View/Feed Item Row",component:V,args:x,argTypes:ee,excludeStories:/.*Data$/},Ce=(e,{argTypes:u})=>z(e,u,Se),qe=(e,{argTypes:u})=>z(e,u,Ue),_={render:Ce,args:{showHeader:!0,threading:"threading"}};_.parameters={a11y:{config:{rules:[{id:"aria-allowed-attr",enabled:!1},{id:"color-contrast",enabled:!1}]}}};const y={render:qe,args:{}};y.parameters={a11y:_.parameters.a11y};var j,M,U;_.parameters={..._.parameters,docs:{...(j=_.parameters)==null?void 0:j.docs,source:{originalSource:`{
  render: DefaultTemplate,
  args: {
    showHeader: true,
    threading: 'threading'
  }
}`,...(U=(M=_.parameters)==null?void 0:M.docs)==null?void 0:U.source}}};var B,C,q;y.parameters={...y.parameters,docs:{...(B=y.parameters)==null?void 0:B.docs,source:{originalSource:`{
  render: VariantsTemplate,
  args: {}
}`,...(q=(C=y.parameters)==null?void 0:C.docs)==null?void 0:q.source}}};const ze=["argsData","argTypesData","Default","Variants"],ot=Object.freeze(Object.defineProperty({__proto__:null,Default:_,Variants:y,__namedExportsOrder:ze,argTypesData:ee,argsData:x,default:Be},Symbol.toStringTag,{value:"Module"}));export{_ as D,ot as F,y as V};
//# sourceMappingURL=feed_item_row.stories-9ye7HD4t.js.map
