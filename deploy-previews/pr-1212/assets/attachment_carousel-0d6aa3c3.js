import{D as w}from"./icon-77c6eda3.js";import{o as s,d as c,L as k,e as v,k as n,l as f,j as l,v as d,B as x,D,m as _,F as I,g as B,I as S}from"./vue.esm-bundler-a9a971fb.js";import{D as y}from"./button-ab897be0.js";import{D as q}from"./image_viewer-4bbd424c.js";import{_ as g}from"./_plugin-vue_export-helper-c27b6911.js";const C={name:"DtProgressBar",props:{progress:{type:Number,default:20}},data:()=>({circleCircumference:50}),computed:{cssVars(){return{"--stroke-dashoffset":this.circleCircumference-this.circleCircumference*this.progress/100,"--stroke-dasharray":this.circleCircumference}}},mounted(){this.circleCircumference=this.$refs.progressbarCircle.getTotalLength()}},M=["aria-valuenow"],N={ref:"progressbarCircle",r:"8",cx:"12",cy:"12",class:"progress-bar__circle"},T=v("circle",{r:"8",cx:"12",cy:"12",class:"progress-bar__circle"},null,-1);function V(t,e,o,b,r,a){return s(),c("div",{role:"progressbar",tabindex:"-1","aria-valuenow":o.progress,"aria-valuemin":"0","aria-valuemax":"100"},[(s(),c("svg",{class:"progress-bar d-w24 d-h24",style:k(a.cssVars)},[v("circle",N,null,512),T],4))],8,M)}const R=g(C,[["render",V],["__file","/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/attachment_carousel/media_components/progress_bar.vue"]]);C.__docgenInfo={displayName:"DtProgressBar",exportName:"default",description:"",tags:{},props:[{name:"progress",type:{name:"number"},defaultValue:{func:!1,value:"20"}}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/attachment_carousel/media_components/progress_bar.vue"]};const A={name:"DtImageCarousel",components:{DtImageViewer:q,DtButton:y,DtIcon:w,DtProgressBar:R},props:{mediaItem:{type:Object,required:!0},index:{type:Number,required:!0},closeAriaLabel:{type:String,required:!0},clickToOpenAriaLabel:{type:String,required:!0}},emits:["remove-image"],data(){return{showCloseButton:!1}},methods:{removeMediaItem(t){this.$emit("remove-image",t)}}},F={class:"dt-image-carousel--top-right"};function z(t,e,o,b,r,a){const h=n("dt-image-viewer"),p=n("dt-progress-bar"),i=n("dt-icon"),u=n("dt-button");return s(),c("div",{role:"presentation",class:"d-ps-relative",onFocusin:e[1]||(e[1]=m=>r.showCloseButton=!0),onFocusout:e[2]||(e[2]=m=>r.showCloseButton=!1),onMouseenter:e[3]||(e[3]=m=>r.showCloseButton=!0),onMouseleave:e[4]||(e[4]=m=>r.showCloseButton=!1)},[f(h,{"image-button-class":"d-h64 d-w64 d-bar4 d-ba d-baw6 d-bc-subtle","image-src":o.mediaItem.path,"image-alt":o.mediaItem.altText,"close-aria-label":o.closeAriaLabel,"aria-label":o.clickToOpenAriaLabel},null,8,["image-src","image-alt","close-aria-label","aria-label"]),l(" Loader / Close button "),v("div",F,[o.mediaItem.isUploading&&!r.showCloseButton?(s(),d(p,{key:0,class:"dt-image-carousel--progress-bar d-ba d-bc-subtle d-baw2",progress:o.mediaItem.progress},null,8,["progress"])):x((s(),d(u,{key:1,class:"dt-image-carousel--close-button d-ba d-bc-white d-baw2",circle:"",size:"xs",importance:"clear","aria-label":o.closeAriaLabel,onClick:e[0]||(e[0]=m=>a.removeMediaItem(o.index))},{icon:_(()=>[f(i,{name:"close",size:"200"})]),_:1},8,["aria-label"])),[[D,r.showCloseButton]])])],32)}const O=g(A,[["render",z],["__file","/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/attachment_carousel/media_components/image_carousel.vue"]]);A.__docgenInfo={displayName:"DtImageCarousel",exportName:"default",description:"",tags:{},props:[{name:"mediaItem",type:{name:"object"},required:!0},{name:"index",type:{name:"number"},required:!0},{name:"closeAriaLabel",type:{name:"string"},required:!0},{name:"clickToOpenAriaLabel",type:{name:"string"},required:!0}],events:[{name:"remove-image",description:"Emitted when media close button is clicked to remove the image",type:{names:["Number"]}}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/attachment_carousel/media_components/image_carousel.vue"]};const W=64,L={name:"DtRecipeAttachmentCarousel",components:{DtButton:y,DtIcon:w,DtImageCarousel:O},mixins:[],props:{mediaList:{type:Array,default:()=>[]},attachmentAriaLabel:{type:String,required:!0,default:""},closeAriaLabel:{type:String,required:!0,default:""},clickToOpenAriaLabel:{type:String,required:!0,default:""}},emits:["remove-media"],data(){return{showCloseButton:{},showCarouselArrows:!1,showRightArrow:!0,showLeftArrow:!1,isMounted:!1}},computed:{filteredMediaList(){return this.mediaList.filter(t=>t.type==="image"||t.type==="video")}},mounted:function(){this.showLeftArrow=this.$refs.carousel.scrollLeft>0,this.showRightArrow=this.$refs.carousel.scrollWidth>this.$refs.carousel.clientWidth},methods:{mediaComponent(t){switch(t){case"image":return"dt-image-carousel";default:return null}},removeMediaItem(t){this.showRightArrow=this.$refs.carousel.scrollWidth>this.$refs.carousel.clientWidth+W,this.$emit("remove-media",t)},closeButton(t,e){this.showCloseButton[e]=t},handleScroll(){const t=this.$refs.carousel;this.showLeftArrow=t.scrollLeft>0,this.showRightArrow=t.scrollLeft+t.clientWidth!==t.scrollWidth},leftScroll(){this.$refs.carousel.scrollTo({left:this.$refs.carousel.scrollLeft-100,behavior:"smooth"})},rightScroll(){this.$refs.carousel.scrollTo({left:this.$refs.carousel.scrollLeft+100,behavior:"smooth"})}}},$=["aria-label"];function j(t,e,o,b,r,a){const h=n("dt-icon"),p=n("dt-button");return s(),c("div",{class:"dt-attachment-carousel",role:"presentation",onMouseenter:e[1]||(e[1]=i=>r.showCarouselArrows=!0),onMouseleave:e[2]||(e[2]=i=>r.showCarouselArrows=!1),onFocusin:e[3]||(e[3]=i=>r.showCarouselArrows=!0),onFocusout:e[4]||(e[4]=i=>r.showCarouselArrows=!1)},[o.mediaList.length>0?(s(),c("div",{key:0,ref:"carousel",class:"dt-attachment-carousel--media-list","aria-label":o.attachmentAriaLabel,onScroll:e[0]||(e[0]=(...i)=>a.handleScroll&&a.handleScroll(...i))},[l(" media list "),(s(!0),c(I,null,B(a.filteredMediaList,(i,u)=>(s(),d(S(a.mediaComponent(i.type)),{key:`media-${u}`,index:u,"media-item":i,"close-aria-label":o.closeAriaLabel,"click-to-open-aria-label":o.clickToOpenAriaLabel,onRemoveImage:m=>a.removeMediaItem(u)},null,40,["index","media-item","close-aria-label","click-to-open-aria-label","onRemoveImage"]))),128))],40,$)):l("v-if",!0),l(" Carousel Arrows "),r.showLeftArrow&&r.showCarouselArrows?(s(),d(p,{key:1,tabindex:"-1",class:"dt-attachment-carousel--left-arrow d-ba d-baw1 d-bc-default",circle:"",size:"xs",importance:"clear",onClick:a.leftScroll},{icon:_(()=>[f(h,{name:"arrow-left",size:"100"})]),_:1},8,["onClick"])):l("v-if",!0),r.showRightArrow&&r.showCarouselArrows?(s(),d(p,{key:2,tabindex:"-1",class:"dt-attachment-carousel--right-arrow d-ba d-baw1 d-bc-default",circle:"",size:"xs",importance:"clear",onClick:a.rightScroll},{icon:_(()=>[f(h,{name:"arrow-right",size:"100"})]),_:1},8,["onClick"])):l("v-if",!0)],32)}const J=g(L,[["render",j],["__file","/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/attachment_carousel/attachment_carousel.vue"]]);L.__docgenInfo={displayName:"DtRecipeAttachmentCarousel",exportName:"default",description:"",tags:{},props:[{name:"mediaList",description:"media - object array of media objects",tags:{type:[{title:"type",type:{name:"Array"}}]},type:{name:"Array"},defaultValue:{func:!1,value:"[]"}},{name:"attachmentAriaLabel",description:"Descriptive label for the attachment element",type:{name:"string"},required:!0,defaultValue:{func:!1,value:"''"}},{name:"closeAriaLabel",type:{name:"string"},required:!0,defaultValue:{func:!1,value:"''"}},{name:"clickToOpenAriaLabel",type:{name:"string"},required:!0,defaultValue:{func:!1,value:"''"}}],events:[{name:"remove-media",description:"Emitted when popover is shown or hidden",type:{names:["Number"]}}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/attachment_carousel/attachment_carousel.vue"]};export{J as D};
//# sourceMappingURL=attachment_carousel-0d6aa3c3.js.map
