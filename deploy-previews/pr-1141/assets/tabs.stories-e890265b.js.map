{"version":3,"file":"tabs.stories-e890265b.js","sources":["../../components/tabs/tab_group.vue","../../components/tabs/tabs_default.story.vue","../../components/tabs/tabs_variants.story.vue"],"sourcesContent":["<template>\n  <div\n    data-qa=\"dt-tab-group\"\n  >\n    <!-- eslint-disable-next-line vuejs-accessibility/interactive-supports-focus -->\n    <div\n      :class=\"[\n        'd-tablist',\n        TAB_LIST_SIZE_MODIFIERS[size],\n        {\n          [TAB_LIST_KIND_MODIFIERS.inverted]: inverted,\n          [TAB_LIST_IMPORTANCE_MODIFIERS.borderless]: borderless,\n        },\n        tabListClass,\n      ]\"\n      v-bind=\"tabListChildProps\"\n      role=\"tablist\"\n      :aria-label=\"label\"\n      @keyup.left=\"tabLeft\"\n      @keyup.right=\"tabRight\"\n      @keyup.enter=\"selectTab\"\n      @keyup.space=\"selectTab\"\n      @keydown.home=\"onHomeButton\"\n      @keydown.end=\"onEndButton\"\n    >\n      <!-- @slot Slot for Tabs -->\n      <slot name=\"tabs\" />\n    </div>\n    <!-- @slot Default slot for Panel -->\n    <slot />\n  </div>\n</template>\n\n<script>\nimport {\n  TAB_LIST_SIZES,\n  TAB_LIST_KIND_MODIFIERS,\n  TAB_LIST_IMPORTANCE_MODIFIERS,\n  TAB_LIST_SIZE_MODIFIERS,\n} from './tabs_constants';\n\n/**\n * Tabs allow users to navigation between grouped content in different views while within the same page context.\n * @see https://dialpad.design/components/tabs.html\n */\nexport default {\n  name: 'DtTabGroup',\n\n  provide () {\n    return {\n      groupContext: this.provideObj,\n      changeContentPanel: this.changeContentPanel,\n      setFocus: this.setFocus,\n    };\n  },\n\n  props: {\n    /**\n     * Identifies the tab group\n     */\n    label: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * The id of the selected tab panel which should be displayed\n     */\n    selected: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * If true, disables the tab group\n     * @values true, false\n     */\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * If true, applies inverted styles to the tab group\n     * @values true, false\n     */\n    inverted: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * If true, applies borderless styles to the tab group\n     * @values true, false\n     */\n    borderless: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * If provided, applies size styles to the tab group\n     * @values default, sm\n     */\n    size: {\n      type: String,\n      default: 'default',\n      validate (size) {\n        return TAB_LIST_SIZES.includes(size);\n      },\n    },\n\n    /**\n     * Pass through classes, used to customize the tab list\n     */\n    tabListClass: {\n      type: [String, Array, Object],\n      default: '',\n    },\n\n    /**\n     * Pass through props, used to customize the tab list\n     */\n    tabListChildProps: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  emits: [\n    /**\n     * Change tab event with the arguments: selected id of the current tab and disabled value\n     *\n     * @event change\n     * @type {Object}\n     */\n    'change',\n  ],\n\n  data () {\n    return {\n      provideObj: {\n        selected: '', // the currently displayed tab id\n        disabled: false, // disable group\n      },\n\n      focusId: null,\n      tabs: [],\n      TAB_LIST_SIZE_MODIFIERS,\n      TAB_LIST_KIND_MODIFIERS,\n      TAB_LIST_IMPORTANCE_MODIFIERS,\n    };\n  },\n\n  watch: {\n    disabled: {\n      immediate: true,\n      handler () {\n        this.provideObj.disabled = this.disabled;\n      },\n    },\n\n    selected: {\n      immediate: true,\n      handler () {\n        this.provideObj.selected = this.selected;\n      },\n    },\n  },\n\n  mounted () {\n    this.updateSelected();\n  },\n\n  beforeUpdate () {\n    this.updateSelected();\n  },\n\n  methods: {\n    updateSelected () {\n      /**\n       * Prevent override tab selected by default\n       */\n      if (!this.provideObj.selected) {\n        this.provideObj.selected = this.selected;\n      }\n      this.tabs = this.getTabChildren();\n    },\n\n    setFocus (focusId) {\n      this.focusId = focusId;\n    },\n\n    getTabChildren () {\n      return this.$children.map(({ $el }) => $el)\n        .filter(({ className }) => className.includes('d-tab'))\n        .map(el => {\n          return ({\n            context: el,\n            panelId: el.getAttribute('aria-controls')?.replace('dt-panel-', ''),\n            id: el.getAttribute('id')?.replace('dt-tab-', ''),\n            isSelected: el.getAttribute('aria-selected') === 'true',\n          });\n        });\n    },\n\n    onChange () {\n      this.$emit('change', { ...this.provideObj });\n    },\n\n    changeContentPanel ({ selected, selectOverride }) {\n      this.provideObj.selected = selected;\n      if (!selectOverride) {\n        this.onChange();\n      }\n    },\n\n    tabLeft () {\n      const { index, tabs } = this.getIndexAndTabs();\n      if (index === -1) return;\n      const indexElement = index - 1 < 0 ? tabs.length - 1 : index - 1;\n      this.selectFocusOnTab(indexElement, tabs);\n    },\n\n    tabRight () {\n      const { index, tabs } = this.getIndexAndTabs();\n      if (index === -1) return;\n\n      const indexElement = index + 1 > tabs.length - 1 ? 0 : index + 1;\n      this.selectFocusOnTab(indexElement, tabs);\n    },\n\n    selectFocusOnTab (index, tabs) {\n      const { context } = tabs[index];\n      context.focus();\n    },\n\n    selectTab () {\n      const { tabs, index } = this.getIndexAndTabs();\n      this.selectTabByIndex(index, tabs);\n    },\n\n    selectTabByIndex (index, tabs) {\n      const { context, panelId } = tabs[index];\n      this.provideObj.selected = panelId;\n      context.focus();\n    },\n\n    getIndexAndTabs () {\n      const index = this.tabs.findIndex((context) =>\n        this.focusId ? context.id === `${this.focusId}` : context.isSelected);\n      return {\n        tabs: this.tabs,\n        index,\n      };\n    },\n\n    onHomeButton () {\n      if (this.tabs.length === 0) return;\n      this.tabs[0]?.context?.focus();\n    },\n\n    onEndButton () {\n      if (this.tabs.length === 0) return;\n      this.tabs[this.tabs.length - 1]?.context?.focus();\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    :class=\"{\n      'd-bgc-purple-600': inverted,\n    }\"\n  >\n    <dt-tab-group\n      :size=\"size\"\n      :inverted=\"inverted\"\n      :borderless=\"borderless\"\n      :disabled=\"disabled\"\n      :tab-list-class=\"tabListClass\"\n      :tab-list-child-props=\"tabListChildProps\"\n      @change=\"onChange\"\n    >\n      <template slot=\"tabs\">\n        <dt-tab\n          id=\"1\"\n          panel-id=\"2\"\n          selected\n        >\n          <p\n            v-if=\"tabs\"\n            v-html=\"tabs\"\n          />\n          <p v-else>\n            First\n          </p>\n        </dt-tab>\n        <dt-tab\n          id=\"3\"\n          panel-id=\"4\"\n        >\n          <p\n            v-if=\"tabs\"\n            v-html=\"tabs\"\n          />\n          <p v-else>\n            Second\n          </p>\n        </dt-tab>\n        <dt-tab\n          id=\"5\"\n          panel-id=\"6\"\n          label=\"Third Label\"\n        >\n          <p\n            v-if=\"tabs\"\n            v-html=\"tabs\"\n          />\n          <p v-else>\n            Third\n          </p>\n        </dt-tab>\n      </template>\n\n      <div\n        :class=\"{\n          'd-fc-neutral-white': inverted,\n        }\"\n      >\n        <dt-tab-panel\n          id=\"2\"\n          tab-id=\"1\"\n        >\n          <p\n            v-if=\"defaultSlot\"\n            v-html=\"defaultSlot\"\n          />\n          <p v-else>\n            First Panel\n          </p>\n        </dt-tab-panel>\n        <dt-tab-panel\n          id=\"4\"\n          tab-id=\"3\"\n        >\n          <p\n            v-if=\"defaultSlot\"\n            v-html=\"defaultSlot\"\n          />\n          <p v-else>\n            Second Panel\n          </p>\n        </dt-tab-panel>\n        <dt-tab-panel\n          id=\"6\"\n          tab-id=\"5\"\n        >\n          <p\n            v-if=\"defaultSlot\"\n            v-html=\"defaultSlot\"\n          />\n          <p v-else>\n            Third Panel\n          </p>\n        </dt-tab-panel>\n      </div>\n    </dt-tab-group>\n  </div>\n</template>\n\n<script>\nimport DtTabGroup from './tab_group.vue';\nimport DtTab from './tab.vue';\nimport DtTabPanel from './tab_panel.vue';\n\nexport default {\n  name: 'DtTabsDefault',\n  components: { DtTabGroup, DtTab, DtTabPanel },\n};\n</script>\n","<template>\n  <div class=\"d-stack32\">\n    <div\n      v-for=\"(variant, i) in variantsTabs\"\n      :key=\"i\"\n    >\n      <p class=\"d-fw-bold d-mb8\">\n        {{ variant.description }}\n      </p>\n      <dt-tab-group\n        v-bind=\"variant.propsToBind\"\n        :class=\"[\n          'd-mb8',\n          {\n            'd-bgc-purple-600 d-p2': variant.propsToBind.inverted,\n          },\n        ]\"\n      >\n        <template slot=\"tabs\">\n          <dt-tab\n            :id=\"`${i}1`\"\n            :panel-id=\"`${i}2`\"\n            selected\n          >\n            First\n          </dt-tab>\n          <dt-tab\n            :id=\"`${i}3`\"\n            :panel-id=\"`${i}4`\"\n          >\n            Second\n          </dt-tab>\n          <dt-tab\n            :id=\"`${i}5`\"\n            :panel-id=\"`${i}6`\"\n            label=\"Third Label\"\n          >\n            Third\n          </dt-tab>\n        </template>\n\n        <div\n          :class=\"{\n            'd-fc-neutral-white': variant.propsToBind.inverted,\n          }\"\n        >\n          <dt-tab-panel\n            :id=\"`${i}2`\"\n            :tab-id=\"`${i}1`\"\n          >\n            <p>First Panel</p>\n          </dt-tab-panel>\n          <dt-tab-panel\n            :id=\"`${i}4`\"\n            :tab-id=\"`${i}3`\"\n          >\n            <p>Second Panel</p>\n          </dt-tab-panel>\n          <dt-tab-panel\n            :id=\"`${i}6`\"\n            :tab-id=\"`${i}5`\"\n          >\n            <p>Third Panel</p>\n          </dt-tab-panel>\n        </div>\n      </dt-tab-group>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DtTabGroup from './tab_group.vue';\nimport DtTab from './tab.vue';\nimport DtTabPanel from './tab_panel.vue';\n\nexport default {\n  name: 'DtTabsVariants',\n  components: { DtTabGroup, DtTab, DtTabPanel },\n  data () {\n    return {\n      variantsTabs: [{\n        description: 'Default tabs',\n        propsToBind: {},\n      }, {\n        description: 'Inverted tabs',\n        propsToBind: {\n          inverted: true,\n        },\n      }, {\n        description: 'Small size tabs',\n        propsToBind: {\n          size: 'sm',\n        },\n      }, {\n        description: 'Borderless tabs',\n        propsToBind: {\n          borderless: true,\n        },\n      }, {\n        description: 'Importance tabs',\n        propsToBind: {\n          importance: true,\n        },\n      }, {\n        description: 'Disabled tabs',\n        propsToBind: {\n          disabled: true,\n        },\n      }],\n    };\n  },\n};\n</script>\n"],"names":["_sfc_main","size","TAB_LIST_SIZES","TAB_LIST_SIZE_MODIFIERS","TAB_LIST_KIND_MODIFIERS","TAB_LIST_IMPORTANCE_MODIFIERS","focusId","$el","className","el","_a","_b","selected","selectOverride","index","tabs","indexElement","context","panelId","DtTabGroup","DtTab","DtTabPanel"],"mappings":"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"}