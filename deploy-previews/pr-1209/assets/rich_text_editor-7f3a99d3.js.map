{"version":3,"file":"rich_text_editor-7f3a99d3.js","sources":["../../components/rich_text_editor/rich_text_editor.mdx"],"sourcesContent":["import { Canvas, Story, Subtitle, Controls, Meta } from '@storybook/blocks';\n\nimport * as RichTextEditorStories from './rich_text_editor.stories';\n\n<Meta of={ RichTextEditorStories }/>\n\n# Rich Text Editor\n\n<Subtitle>\n  A rich text editor is a component that allows users to format text with a\n  variety of styles. It enables also mixing text with custom components built as\n  extensions, such as links and user mentions.\n</Subtitle>\n\n<div class=\"d-notice d-notice--info d-wmx100p\">\n<b>NOTICE:</b> This component is not a part of Dialtone-Vue core package and can\nonly be used by other Dialtone components. To keep this code out of the\nDialtone-vue core any Dialtone component that uses this should be built into\ntheir separate build targets.\n</div>\n\n## Base Style\n\nThe editor itself is without any styling and the intention is to wrap it with\nanother component, such as Message Input, that provides the UI.\n\n<Canvas>\n  <Story of={RichTextEditorStories.Default} />\n</Canvas>\n\n## Output format\n\nThere are 3 defined output formats currently for the input text.\n\n### Text\n\nProvide prop `outputFormat: 'text'`\n\nPlain text format as output without taking into consideration any marks (italics, bold) / html tags/ codeblocks\nthat may be included in the input text user provides.\n\n### Json\n\nProvide prop `outputFormat: 'json'`\n\nthe input will be formated as a json document that can then be consumed by product.\nThe type of the each node in the input will be present for example: `codeblock`, `image`\nalong with other meta data pertaining to the text node.\n\n### HTML\n\nProvide prop `outputFormat: 'html'`\n\nthe input will be formated as native html that can then be consumed by product.\n\n## Tiptap Plugins Used\n\n### [HardBreak](https://tiptap.dev/api/nodes/hard-break)\n\nHardBreak plugin is used to add support for `<br>` tags in the rich text editor.\n\n### [CodeBlocks](https://tiptap.dev/api/nodes/code-block)\n\nCodeblock plugin is used to enaable the support for code and also specify the language. Type ``` followed by space\nor ~~~ with space to enable a codeblock in the rich text editor.\n\n### [Placeholder](https://tiptap.dev/api/extensions/placeholder)\n\nProvides support to enable placeholder support\n\n### [Mention](https://tiptap.dev/api/nodes/mention)\n\nThe tiptap Mention plugin is apt for our use case of mentioning users or channels within the editor.\nIt also creates the respective nodes with ability for user to customize the trigger character.\n\n#### How to use the Mention plugin:\n\nWhen using the Rich Text editor, the developer would have to pass in the suggestion object prop\nwhich MUST contain an items function that takes in a query and returns a list of object with the properties:\n\n```json\n{ \n  contactId: String,\n  name: String,\n  avatarSrc: String\n}\n```\n\nThere can be additional properties that override the mention plugin and\nmore details can be seen here: [Suggestion Tiptap utility](https://tiptap.dev/api/utilities/suggestion).\nIf this mentionSuggestion Object prop is not supplied, the mention plugin is disabled by default.\n\nTo see it in action type char '@' into rich editor With channel mentions.\n<Canvas>\n  <Story of={RichTextEditorStories.WithMentionSuggestions} />\n</Canvas>\n\n## Slots, Props and Events\n\n<Controls />\n\n## Usage (internal only)\n\n```js\nimport { DtRichTextEditor } from '@components/rich_text_editor';\n```\n\n### Default\n\n```jsx\n<dt-rich-text-editor\n  :v-model=\"text\"\n  :input-aria-label=\"ariaLabel\"\n/>\n```\n\n### With Links\n\n```jsx\n<dt-rich-text-editor\n  :v-model=\"text\"\n  :input-aria-label=\"ariaLabel\"\n  link\n/>\n```\n\n### With mentionSuggestion\n\n```jsx\n<dt-rich-text-editor\n  :v-model=\"text\"\n  :input-aria-label=\"ariaLabel\"\n  :mention-suggestion=\"mentionSuggestion\n/>\n```\n"],"names":["_createMdxContent","props","_components","_provideComponents","_jsxDEV","_Fragment","Meta","RichTextEditorStories","Subtitle","Canvas","Story","RichTextEditorStories.Default","RichTextEditorStories.WithMentionSuggestions","Controls","MDXContent","MDXLayout"],"mappings":"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"}