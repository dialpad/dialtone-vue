{"version":3,"file":"attachment_carousel-0e2fdc8e.js","sources":["../../recipes/conversation_view/attachment_carousel/attachment_carousel.vue"],"sourcesContent":["<template>\n  <div\n    class=\"dt-attachment-carousel\"\n    role=\"presentation\"\n    @mouseenter=\"showCarouselArrows = true\"\n    @mouseleave=\"showCarouselArrows = false\"\n    @focusin=\"showCarouselArrows = true\"\n    @focusout=\"showCarouselArrows = false\"\n  >\n    <div\n      v-if=\"mediaList.length > 0\"\n      ref=\"carousel\"\n      class=\"dt-attachment-carousel--media-list\"\n      :aria-label=\"attachmentAriaLabel\"\n      @scroll=\"handleScroll\"\n    >\n      <!-- Image list -->\n      <div\n        v-for=\"(mediaItem, index) in mediaList\"\n        :key=\"`media-${index}`\"\n        role=\"presentation\"\n        class=\"d-ps-relative\"\n        @focusin=\"closeButton(true, index)\"\n        @focusout=\"closeButton(false, index)\"\n        @mouseenter=\"closeButton(true, index)\"\n        @mouseleave=\"closeButton(false, index)\"\n      >\n        <dt-image-viewer\n          image-button-class=\"dt-attachment-carousel--image-viewer\"\n          :image-src=\"mediaItem.path\"\n          :image-alt=\"mediaItem.altText\"\n          :close-aria-label=\"closeAriaLabel\"\n          :aria-label=\"clickToOpenAriaLabel\"\n        />\n        <dt-button\n          v-show=\"showCloseButton[index]\"\n          class=\"dt-attachment-carousel--close-button\"\n          circle\n          size=\"xs\"\n          importance=\"clear\"\n          :aria-label=\"closeAriaLabel\"\n          @click=\"removeMediaItem(index)\"\n        >\n          <template #icon>\n            <dt-icon\n              name=\"close\"\n              size=\"200\"\n            />\n          </template>\n        </dt-button>\n      </div>\n    </div>\n\n    <!-- Carousel Arrows -->\n    <dt-button\n      v-if=\"showLeftArrow && showCarouselArrows\"\n      tabindex=\"-1\"\n      class=\"dt-attachment-carousel--left-arrow\"\n      circle\n      size=\"xs\"\n      importance=\"clear\"\n      @click=\"leftScroll\"\n    >\n      <template #icon>\n        <dt-icon\n          name=\"arrow-left\"\n          size=\"100\"\n        />\n      </template>\n    </dt-button>\n    <dt-button\n      v-if=\"showRightArrow && showCarouselArrows\"\n      tabindex=\"-1\"\n      class=\"dt-attachment-carousel--right-arrow\"\n      circle\n      size=\"xs\"\n      importance=\"clear\"\n      @click=\"rightScroll\"\n    >\n      <template #icon>\n        <dt-icon\n          name=\"arrow-right\"\n          size=\"100\"\n        />\n      </template>\n    </dt-button>\n  </div>\n</template>\n\n<script>\nimport { DtIcon } from '@/components/icon';\nimport { DtImageViewer } from '@/components/image_viewer';\nimport { DtButton } from '@/components/button';\n\nexport default {\n  name: 'DtRecipeAttachmentCarousel',\n\n  components: {\n    DtButton,\n    DtImageViewer,\n    DtIcon,\n  },\n\n  mixins: [],\n\n  /* inheritAttrs: false is generally an option we want to set on library\n    components. This allows any attributes passed in that are not recognized\n    as props to be passed down to another element or component using v-bind:$attrs\n    more info: https://vuejs.org/v2/api/#inheritAttrs */\n  // inheritAttrs: false,\n\n  props: {\n    /**\n     * media - object array of media objects\n     * @type {Array}\n     *\n     * Object: {\n     *  path: String,\n     *  altText: String | null,\n     * }\n     */\n    mediaList: {\n      type: Array,\n      default: () => [],\n    },\n\n    /**\n     * Descriptive label for the attachment element\n     */\n    attachmentAriaLabel: {\n      type: String,\n      required: true,\n      default: '',\n    },\n\n    closeAriaLabel: {\n      type: String,\n      required: true,\n      default: '',\n    },\n\n    clickToOpenAriaLabel: {\n      type: String,\n      required: true,\n      default: '',\n    },\n  },\n\n  emits: [\n    /**\n     * Emitted when popover is shown or hidden\n     *\n     * @event remove-image\n     * @type {Number}\n     */\n    'remove-image',\n  ],\n\n  data () {\n    return {\n      showCloseButton: {},\n      showCarouselArrows: false,\n      showRightArrow: true,\n      showLeftArrow: false,\n      isMounted: false,\n    };\n  },\n\n  computed: {\n\n  },\n\n  mounted: function () {\n    this.showLeftArrow = this.$refs.carousel.scrollLeft > 0;\n    this.showRightArrow = this.$refs.carousel.scrollWidth > this.$refs.carousel.clientWidth;\n  },\n\n  methods: {\n    removeMediaItem (index) {\n      this.$emit('remove-image', index);\n    },\n\n    closeButton (val, index) {\n      this.showCloseButton[index] = val;\n    },\n\n    handleScroll () {\n      const carousel = this.$refs.carousel;\n      this.showLeftArrow = carousel.scrollLeft > 0;\n      this.showRightArrow = !((carousel.scrollLeft + carousel.clientWidth) === carousel.scrollWidth);\n    },\n\n    leftScroll () {\n      this.$refs.carousel.scrollTo({\n        left: this.$refs.carousel.scrollLeft - 100,\n        behavior: 'smooth',\n      });\n    },\n\n    rightScroll () {\n      this.$refs.carousel.scrollTo({\n        left: this.$refs.carousel.scrollLeft + 100,\n        behavior: 'smooth',\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.dt-attachment-carousel {\n  position: relative;\n  max-height: 100px;\n  width: var(--dt-space-1000);\n\n}\n\n.dt-attachment-carousel--media-list {\n  display: flex;\n  flex-direction: row;\n  overflow-x: scroll;\n}\n.dt-attachment-carousel--media-list::-webkit-scrollbar {\n  display: none;\n}\n\n.dt-attachment-carousel--close-button {\n  position: absolute;\n  color: var(--dt-color-neutral-white);\n  top: var(--dt-size-100);\n  right: var(--dt-size-100);\n  background-color: var(--dt-color-black-400);\n}\n.dt-attachment-carousel--left-arrow {\n  position: absolute;\n  background-color: var(--dt-color-neutral-white);\n  top: var(--dt-space-30-percent);\n  left: var(--dt-space-300);\n  border: var(--dt-space-100) solid;\n  border-width: var(--dt-size-100);\n  border-color: var(--bc-default);\n}\n.dt-attachment-carousel--right-arrow {\n  position: absolute;\n  background-color: var(--dt-color-neutral-white);\n  top: var(--dt-space-30-percent);\n  right: var(--dt-space-300);\n  border: var(--dt-space-100) solid;\n  border-width: var(--dt-size-100);\n  border-color: var(--bc-default);\n}\n.dt-attachment-carousel--image-viewer {\n  height: var(--dt-size-700);\n  width: var(--dt-size-700);\n  border-radius: var(--br4);\n  border: var(--dt-space-100) solid;\n  border-width: var(--dt-size-350);\n  border-color: var(--bc-subtle);\n}\n</style>\n"],"names":["_sfc_main","DtButton","DtImageViewer","DtIcon","index","val","carousel","_createElementBlock","$data","$props","$options","args","_createCommentVNode","_openBlock","_Fragment","_renderList","mediaItem","$event","_createVNode","_component_dt_image_viewer","_component_dt_button","_component_dt_icon","_vShow","_createBlock"],"mappings":"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"}