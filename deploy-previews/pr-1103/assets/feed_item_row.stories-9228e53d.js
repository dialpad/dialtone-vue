import{a as S}from"./chunk-AY7I2SME-c7b6cf8a.js";import{g as Q,c as j}from"./storybook_utils-79c013ce.js";import{D}from"./avatar-9d9c101c.js";import{D as X}from"./lazy_show-820869a9.js";import{D as Y}from"./list_item-df8a3b5a.js";import{k as n,v as F,m as a,p as Z,z as x,o as d,j as r,B as I,D as A,d as m,t as b,e as t,x as w,l as s,J as C,q as g}from"./vue.esm-bundler-2457a580.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import{D as M}from"./emoji_text_wrapper-7502af28.js";import{D as O}from"./icon-1bcb5ec8.js";import{D as ee}from"./stack-48efdf96.js";import{D as te,i as ae}from"./fry-dde6925e.js";import{D as se}from"./button-ebe757f5.js";const y={NORMAL:"",SEARCHED:"d-bgc-warning-subtle",ERROR:"d-bgc-critical-subtle"},_="NORMAL";const P={name:"DtRecipeFeedItemRow",components:{DtAvatar:D,DtLazyShow:X,DtListItem:Y},inheritAttrs:!1,props:{showHeader:{type:Boolean,default:!1},avatarImageUrl:{type:String,default:""},displayName:{type:String,default:""},time:{type:String,default:""},shortTime:{type:String,default:""},isActive:{type:Boolean,default:!1},state:{type:String,default:_,validator:e=>Object.keys(y).includes(e)}},emits:["hover","focus"],data(){return{faded:!1}},computed:{avatarSeed(){return(this.displayName||"").split(" ").map(o=>o.charAt(0)).join("").slice(0,2).toUpperCase()},feedListeners(){return{mouseenter:()=>this.setHover(!0),mouseleave:()=>this.setHover(!1),focusin:()=>this.setFocus(!0),focusout:()=>this.setFocus(!1)}},listItemClasses(){return["d-w100p","d-box-border","d-ps-relative","d-px8",{"d-bgc-secondary-opaque":this.isActive&&this.state===_},y[this.state],"feed-item-row","d-t","d-tp-bgc"]}},methods:{setFocus(e){this.$emit("focus",e)},setHover(e){this.$emit("hover",e)},fade(){this.state===_||this.faded===!0||(this.$refs.FeedItemRef.$el.classList.remove(y[this.state]),this.faded=!0)}}},oe={key:0,"data-qa":"feed-item-row-header",class:"d-d-flex d-ai-center"},ne={class:"d-fs-200 d-lh-300 d-fw-bold d-to-ellipsis d-of-hidden d-ws-nowrap"},re={class:"d-fs-100 d-mt2 d-lh-300 d-fc-tertiary d-fw-normal d-ml4 d-fl-shrink0"},ie={class:"content-text-wrapper-class","data-qa":"feed-item-row-content"},de={class:"d-d-flex d-fw-wrap","data-qa":"feed-item-row-reactions"},le={"data-qa":"feed-item-row-menu",class:"d-ps-absolute d-tn16 d-r12"};function me(e,v,o,R,$,h){const i=n("dt-avatar"),u=n("dt-lazy-show"),c=n("dt-list-item");return d(),F(c,Z({ref:"FeedItemRef","navigation-type":"none"},e.$attrs,{class:h.listItemClasses,"data-qa":"feed-item-row"},x(h.feedListeners)),{left:a(()=>[o.showHeader?(d(),F(i,{key:0,"full-name":o.displayName,"image-src":o.avatarImageUrl,"avatar-class":"d-mt4",seed:h.avatarSeed},null,8,["full-name","image-src","seed"])):r("v-if",!0),r(" show time instead of avatar when headers not present "),o.showHeader?r("v-if",!0):I((d(),m("div",{key:1,class:"d-fs-100 d-fw-normal d-ws-nowrap d-lh-100 d-fc-tertiary d-mb6","data-qa":"feed-item-row-left-time"},b(o.shortTime),513)),[[A,o.isActive]])]),bottom:a(()=>[t("div",de,[r(" @slot Slot for reactions row component "),w(e.$slots,"reactions")]),r(" @slot Slot for threading row component "),w(e.$slots,"threading")]),right:a(()=>[I(t("div",le,[s(u,{appear:!0,transition:"fade",show:o.isActive},{default:a(()=>[r(" @slot Slot for actions hover menu component "),w(e.$slots,"menu")]),_:3},8,["show"])],512),[[A,o.isActive]])]),default:a(()=>[t("article",null,[r(" Feed Item "),o.showHeader?(d(),m("div",oe,[t("p",ne,b(o.displayName),1),t("time",re,b(o.time),1)])):r("v-if",!0),r(" @slot Default content slot for feed item row "),t("span",ie,[w(e.$slots,"default")])])]),_:3},16,["class"])}const T=H(P,[["render",me],["__file","/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row.vue"]]);P.__docgenInfo={displayName:"DtRecipeFeedItemRow",exportName:"default",description:"",tags:{},props:[{name:"showHeader",description:"Show avatar, show header text or dont show left time and vice versa",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"avatarImageUrl",description:"Show the avatar of the user, if this is not passed in, the initials would display",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"displayName",description:"The display name of the sender",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"time",description:`time string displayed as is.
Shown on the header when showHeader is true`,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"shortTime",description:`short time string without AM/PM displayed as is.
Shown on the left of feed item when showHeader is false and isActive is true`,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"isActive",description:"displays a darkened background on the row.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"state",description:"state for the feed item row. Can be default, searched & error",type:{name:"string"},defaultValue:{func:!1,value:"DEFAULT_FEED_ROW_STATE"}}],events:[{name:"hover",description:"Fires when hovered over feed row",type:{names:["Boolean"]}},{name:"focus",description:"Fires when focused over feed row",type:{names:["Boolean"]}}],slots:[{name:"default"},{name:"reactions",description:"Slot for reactions row component"},{name:"threading",description:"Slot for threading row component"},{name:"menu",description:"Slot for actions hover menu component"}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row.vue"]};const q={name:"DtRecipeFeedItemRowDefault",components:{DtAvatar:D,DtRecipeFeedItemRow:T,DtEmojiTextWrapper:M,DtIcon:O}},ue=["innerHTML"],ce={class:"d-d-flex d-flow1 d-my6"},fe=t("div",{class:"d-mx4 d-my-auto d-fs-100"}," 3 replies ",-1),pe=["innerHTML"];function ve(e,v,o,R,$,h){const i=n("dt-avatar"),u=n("dt-emoji-text-wrapper"),c=n("dt-icon"),f=n("dt-recipe-feed-item-row");return d(),m("ul",null,[s(f,{"show-header":e.$attrs.showHeader,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":e.$attrs.isActive,state:e.$attrs.state,onHover:e.$attrs.onHover,onFocus:e.$attrs.onFocus},C({default:a(()=>[e.$attrs.default?(d(),m("span",{key:0,innerHTML:e.$attrs.default},null,8,ue)):r("v-if",!0)]),_:2},[e.$attrs.threading?{name:"threading",fn:a(()=>[t("div",ce,[s(i,{"image-src":"/common/assets/person.png","full-name":"Person Avatar",presence:"busy",seed:"seed",size:"sm"}),s(i,{"image-src":"/common/assets/person.png","full-name":"Person Avatar",presence:"active",seed:"seed",size:"sm"}),s(i,{"image-src":"/common/assets/person.png","full-name":"Person Avatar",seed:"seed",size:"sm"}),fe])]),key:"0"}:void 0,e.$attrs.reactions?{name:"reactions",fn:a(()=>[s(u,{class:"d-btn d-btn--outlined d-btn--xs","element-type":"button",size:"200"},{default:a(()=>[t("span",{innerHTML:e.$attrs.reactions},null,8,pe),g(" :smile: ")]),_:1})]),key:"1"}:void 0,e.$attrs.menu?{name:"menu",fn:a(()=>[s(c,{name:e.$attrs.menu},null,8,["name"])]),key:"2"}:void 0]),1032,["show-header","avatar-image-url","display-name","time","short-time","is-active","state","onHover","onFocus"])])}const he=H(q,[["render",ve],["__file","/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row_default.story.vue"]]);q.__docgenInfo={displayName:"DtRecipeFeedItemRowDefault",exportName:"default",description:"",tags:{},sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row_default.story.vue"]};const U={name:"DtRecipeFeedItemRowVariants",components:{DtEmojiTextWrapper:M,DtRecipeFeedItemRow:T,DtStack:ee,DtAvatar:D,DtIcon:O,DtImageViewer:te,DtButton:se},data(){return{image:ae}}},_e=t("h3",null,"Feed item with showHeader as False and isActive true",-1),we=["innerHTML"],ge={class:"d-d-flex d-d-flow1 d-my6"},ye=t("div",{class:"d-mx4 d-my-auto d-fs-100"}," 3 replies ",-1),$e=t("h3",null,"Feed item with rich media",-1),be={class:"d-d-flex d-d-flow1 d-my6"},Fe=t("div",{class:"d-mx4 d-my-auto d-fs-100"}," 3 replies ",-1),De=t("h3",null,'Feed item state "error"',-1),He=["innerHTML"],Te=t("h3",null,'Feed item state "searched"',-1),Re=["innerHTML"];function Se(e,v,o,R,$,h){const i=n("dt-avatar"),u=n("dt-emoji-text-wrapper"),c=n("dt-icon"),f=n("dt-recipe-feed-item-row"),G=n("dt-image-viewer"),J=n("dt-button"),K=n("dt-stack");return d(),F(K,{gap:"600"},{default:a(()=>[t("div",null,[_e,t("ul",null,[s(f,{"show-header":!1,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":!0,state:e.$attrs.state,onHover:e.$attrs.onHover,onFocus:e.$attrs.onFocus},{threading:a(()=>[t("div",ge,[s(i,{"image-src":"/common/assets/person.png","full-name":"Person Avatar",presence:"busy",seed:"seed",size:"sm"}),s(i,{"image-src":"/common/assets/person.png","full-name":"Person Avatar",presence:"active",seed:"seed",size:"sm"}),s(i,{"image-src":"/common/assets/person.png","full-name":"Person Avatar",seed:"seed",size:"sm"}),ye])]),reactions:a(()=>[s(u,{class:"d-btn d-btn--outlined d-btn--xs","element-type":"button",size:"200"},{default:a(()=>[g(" emoji reactions :smile: ")]),_:1})]),menu:a(()=>[s(c,{name:e.$attrs.menu},null,8,["name"])]),default:a(()=>[e.$attrs.default?(d(),m("span",{key:0,innerHTML:e.$attrs.default},null,8,we)):r("v-if",!0)]),_:1},8,["avatar-image-url","display-name","time","short-time","state","onHover","onFocus"])])]),t("div",null,[$e,t("ul",null,[s(f,{"show-header":!0,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":!0,onHover:e.$attrs.onHover,onFocus:e.$attrs.onFocus},C({threading:a(()=>[t("div",be,[s(i,{"image-src":"/common/assets/person.png","full-name":"Person Avatar",presence:"busy",seed:"seed",size:"sm"}),s(i,{"image-src":"/common/assets/person.png","full-name":"Person Avatar",presence:"active",seed:"seed",size:"sm"}),s(i,{"image-src":"/common/assets/person.png","full-name":"Person Avatar",seed:"seed",size:"sm"}),Fe])]),reactions:a(()=>[s(u,{class:"d-btn d-btn--outlined d-btn--xs","element-type":"button",size:"200"},{default:a(()=>[g(" emoji reactions :smile: ")]),_:1})]),default:a(()=>[s(G,{"image-src":$.image,"image-alt":"Alt Text","close-aria-label":"Close","image-button-class":"d-wmn64 d-hmn64 w-wmx332 d-hmx332","aria-label":"Click to open image"},null,8,["image-src"])]),_:2},[e.$attrs.menu?{name:"menu",fn:a(()=>[s(c,{name:e.$attrs.menu},null,8,["name"])]),key:"0"}:void 0]),1032,["avatar-image-url","display-name","time","short-time","onHover","onFocus"])])]),t("div",null,[De,t("ul",null,[s(f,{"show-header":!1,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":!0,state:"ERROR",onHover:e.$attrs.onHover,onFocus:e.$attrs.onFocus},{default:a(()=>[e.defaultSlot?(d(),m("span",{key:0,innerHTML:e.defaultSlot},null,8,He)):r("v-if",!0)]),_:1},8,["avatar-image-url","display-name","time","short-time","onHover","onFocus"])])]),t("div",null,[Te,s(J,{onClick:v[0]||(v[0]=Le=>e.$refs.feedItemRowFade.fade())},{default:a(()=>[g(" Click to fade ")]),_:1}),t("ul",null,[s(f,{ref:"feedItemRowFade","show-header":!1,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":!0,state:"SEARCHED",onHover:e.$attrs.onHover,onFocus:e.$attrs.onFocus},{default:a(()=>[e.defaultSlot?(d(),m("span",{key:0,innerHTML:e.defaultSlot},null,8,Re)):r("v-if",!0)]),_:1},8,["avatar-image-url","display-name","time","short-time","onHover","onFocus"])])])]),_:1})}const Ie=H(U,[["render",Se],["__file","/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row_variants.story.vue"]]);U.__docgenInfo={displayName:"DtRecipeFeedItemRowVariants",exportName:"default",description:"",tags:{},sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row_variants.story.vue"]};const Ae=Q(),B={avatarImageUrl:"https://i1.sndcdn.com/avatars-000181324408-652e57-t500x500.jpg",displayName:"Dwight Schrute",time:"4:54 PM",shortTime:"4:54",onFocus:S("focus"),onHover:S("hover"),default:`<p>Elementum fames nullam elementum velit proin vitae aliquet.
  Platea nulla consectetur consequat sagittis nullam et ultricies nisl rhoncus
  aliquet elementum venenatis quisque.</p>`,menu:"menu"},W={default:{control:"text",table:{type:{summary:"VNode"}}},threading:{name:"threading",control:"text",table:{category:"slots",type:{summary:"VNode"}}},reactions:{name:"reactions",control:"text",table:{category:"slots",type:{summary:"VNode"}}},menu:{name:"menu",options:Ae,table:{category:"slots",type:{summary:"component"}},control:{type:"select",labels:{undefined:"(empty)"}}},state:{defaultValue:_,options:Object.keys(y),control:{type:"select",labels:{undefined:"(empty)"}},table:{defaultValue:{summary:_}}},onFocus:{table:{disable:!0}},onHover:{table:{disable:!0}}},ke={title:"Recipes/Conversation View/Feed Item Row",component:T,args:B,argTypes:W,excludeStories:/.*Data$/},Ne=e=>j(e,he),Ve=e=>j(e,Ie),l={render:Ne,args:{showHeader:!0,reactions:"emoji reactions",threading:"threading"}};l.parameters={a11y:{config:{rules:[{id:"aria-allowed-attr",enabled:!1},{id:"color-contrast",enabled:!1}]}}};const p={render:Ve,args:{}};p.parameters={a11y:l.parameters.a11y};var k,N,V;l.parameters={...l.parameters,docs:{...(k=l.parameters)==null?void 0:k.docs,source:{originalSource:`{
  render: DefaultTemplate,
  args: {
    showHeader: true,
    reactions: 'emoji reactions',
    threading: 'threading'
  }
}`,...(V=(N=l.parameters)==null?void 0:N.docs)==null?void 0:V.source}}};var E,L,z;p.parameters={...p.parameters,docs:{...(E=p.parameters)==null?void 0:E.docs,source:{originalSource:`{
  render: VariantsTemplate,
  args: {}
}`,...(z=(L=p.parameters)==null?void 0:L.docs)==null?void 0:z.source}}};const Ee=["argsData","argTypesData","Default","Variants"],Ke=Object.freeze(Object.defineProperty({__proto__:null,Default:l,Variants:p,__namedExportsOrder:Ee,argTypesData:W,argsData:B,default:ke},Symbol.toStringTag,{value:"Module"}));export{l as D,Ke as F,p as V};
//# sourceMappingURL=feed_item_row.stories-9228e53d.js.map
