{"version":3,"file":"contact_row.stories-420edf7f.js","sources":["../../recipes/leftbar/contact_row/contact_row.vue","../../recipes/leftbar/contact_row/contact_row_default.story.vue","../../recipes/leftbar/contact_row/contact_row_variants.story.vue"],"sourcesContent":["<template>\n  <dt-recipe-general-row\n    :unread-count=\"unreadCount\"\n    :description=\"contactDescription\"\n    :has-unreads=\"hasUnreads\"\n    :selected=\"selected\"\n    :has-call-button=\"hasCallButton\"\n    :muted=\"muted\"\n    :is-typing=\"isTyping\"\n    :call-button-tooltip=\"callButtonTooltip\"\n    :unread-count-tooltip=\"unreadCountTooltip\"\n    v-bind=\"$attrs\"\n    v-on=\"contactRowListeners\"\n    @call=\"$emit('call', $event)\"\n  >\n    <template #left>\n      <dt-avatar\n        size=\"sm\"\n        :seed=\"avatarSeed\"\n        :presence=\"avatarPresence\"\n      >\n        <!-- No alt needed as the name is already mentioned in the description\n          https://dequeuniversity.com/rules/axe/4.4/image-redundant-alt?application=axe-puppeteer -->\n        <img\n          v-if=\"avatarSrc\"\n          data-qa=\"dt-avatar-image\"\n          :src=\"avatarSrc\"\n          alt=\"\"\n        >\n        <template v-else-if=\"noInitials\">\n          <dt-icon\n            name=\"user\"\n            size=\"200\"\n          />\n        </template>\n        <template v-else>\n          {{ avatarInitial }}\n        </template>\n      </dt-avatar>\n    </template>\n    <template #label>\n      <dt-emoji-text-wrapper\n        class=\"dt-leftbar-row__description\"\n        data-qa=\"dt-leftbar-row-description\"\n        size=\"200\"\n      >\n        {{ name }}\n      </dt-emoji-text-wrapper>\n      <div class=\"dt-leftbar-row__status\">\n        <span\n          v-if=\"presenceText\"\n          data-qa=\"dt-leftbar-row-presence-text\"\n          :class=\"['dt-leftbar-row__meta-context', presenceColorClass]\"\n        >\n          {{ presenceText }}\n        </span>\n        <dt-emoji-text-wrapper\n          v-if=\"userStatus\"\n          size=\"100\"\n          element-type=\"span\"\n          data-qa=\"dt-leftbar-row-user-status\"\n          class=\"dt-leftbar-row__meta-custom\"\n        >\n          {{ userStatus }}\n        </dt-emoji-text-wrapper>\n      </div>\n    </template>\n  </dt-recipe-general-row>\n</template>\n\n<script>\nimport { DtRecipeGeneralRow } from '@/recipes/leftbar/general_row';\nimport DtEmojiTextWrapper from '@/components/emoji_text_wrapper/emoji_text_wrapper.vue';\nimport DtAvatar from '@/components/avatar/avatar.vue';\nimport DtIcon from '@/components/icon/icon.vue';\nimport { extractVueListeners, safeConcatStrings } from '@/common/utils';\n\nexport default {\n  name: 'DtRecipeGroupRow',\n\n  components: {\n    DtAvatar,\n    DtIcon,\n    DtRecipeGeneralRow,\n    DtEmojiTextWrapper,\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    /**\n     * Optional avatar image url.\n     * If not provided it will use the initial of the name.\n     */\n    avatarSrc: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * Determines whether to show the presence indicator for\n     * Avatar - accepts PRESENCE_STATES values: 'busy', 'away', 'offline',\n     * or 'active'. By default, it's null and nothing is shown.\n     * defer validation to avatar component.\n     * @values null, busy, away, offline, active\n     */\n    avatarPresence: {\n      type: String,\n      default: null,\n    },\n\n    /**\n     * Avatar seed, set this to the user's ID to get the same avatar background gradient each time it is displayed.\n     */\n    avatarSeed: {\n      type: String,\n      default: null,\n    },\n\n    /**\n     * Text describing the user's presence, such as \"in a meeting\"\n     */\n    presenceText: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * Name of the contact\n     */\n    name: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * Status as set by the user.\n     */\n    userStatus: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * Gives a faded style to be used when muted\n     */\n    muted: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Number of unread messages\n     */\n    unreadCount: {\n      type: String,\n      default: null,\n    },\n\n    /**\n     * Styles the row with an increased font weight to convey it has unreads. This must be true to see\n     * the unread count badge.\n     */\n    hasUnreads: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Determines if the row is selected\n     */\n    selected: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Initials will never be shown. Instead it will show a \"User\" icon.\n     */\n    noInitials: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Shows an \"is typing\" animation over the avatar when true.\n     */\n    isTyping: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Whether the contact row should display a call button when hovered.\n     */\n    hasCallButton: {\n      type: Boolean,\n      default: true,\n    },\n\n    /**\n     * Text shown when the call button is hovered.\n     */\n    callButtonTooltip: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * Text shown when the unread count is hovered.\n     */\n    unreadCountTooltip: {\n      type: String,\n      default: '',\n    },\n  },\n\n  emits: [\n    /**\n     * Call button clicked\n     *\n     * @event call\n     * @type {PointerEvent | KeyboardEvent}\n     */\n    'call',\n  ],\n\n  computed: {\n    presenceColorClass () {\n      switch (this.avatarPresence) {\n        case 'active':\n          return 'd-fc-success';\n        case 'busy':\n          return 'd-fc-critical';\n        case 'away':\n          return 'd-fc-warning';\n        default:\n          return undefined;\n      }\n    },\n\n    contactRowListeners () {\n      return extractVueListeners(this.$attrs);\n    },\n\n    avatarInitial () {\n      return this.name?.[0] ?? '';\n    },\n\n    contactDescription () {\n      return safeConcatStrings([this.name, this.presenceText, this.userStatus]);\n    },\n  },\n};\n</script>\n","<template>\n  <dt-recipe-contact-row\n    :name=\"$attrs.name\"\n    :avatar-src=\"$attrs.avatarSrc\"\n    :avatar-presence=\"$attrs.avatarPresence\"\n    :avatar-seed=\"$attrs.avatarSeed\"\n    :presence-text=\"$attrs.presenceText\"\n    :unread-count=\"$attrs.unreadCount\"\n    :unread-count-tooltip=\"$attrs.unreadCountTooltip\"\n    :user-status=\"$attrs.userStatus\"\n    :has-unreads=\"$attrs.hasUnreads\"\n    :muted=\"$attrs.muted\"\n    :selected=\"$attrs.selected\"\n    :no-initials=\"$attrs.noInitials\"\n    :is-typing=\"$attrs.isTyping\"\n    :has-call-button=\"$attrs.hasCallButton\"\n    :call-button-tooltip=\"$attrs.callButtonTooltip\"\n    @click=\"$attrs.onClick\"\n    @call=\"$attrs.onCall\"\n  />\n</template>\n\n<script>\nimport DtRecipeContactRow from './contact_row.vue';\n\nexport default {\n  name: 'DtRecipeContactRowDefault',\n  components: { DtRecipeContactRow },\n};\n</script>\n","<template>\n  <dt-stack gap=\"600\">\n    <div>\n      <h3>\n        With user status\n      </h3>\n      <dt-recipe-contact-row\n        name=\"Jaqueline Nackos\"\n        avatar-presence=\"active\"\n        avatar-seed=\"JN\"\n        :avatar-src=\"defaultImage\"\n        user-status=\"Good Morning! :smile:\"\n        call-button-tooltip=\"Call\"\n      />\n    </div>\n    <div>\n      <h3>\n        with away presence\n      </h3>\n      <dt-recipe-contact-row\n        name=\"Jaqueline Nackos\"\n        avatar-presence=\"away\"\n        avatar-seed=\"JN\"\n        presence-text=\"Away\"\n        user-status=\"Out for a bit\"\n        :avatar-src=\"defaultImage\"\n        call-button-tooltip=\"Call\"\n      />\n    </div>\n    <div>\n      <h3>\n        with busy presence\n      </h3>\n      <dt-recipe-contact-row\n        name=\"Jaqueline Nackos\"\n        avatar-presence=\"busy\"\n        avatar-seed=\"JN\"\n        presence-text=\"In a meeting\"\n        user-status=\"Meetings all day\"\n        :avatar-src=\"defaultImage\"\n        call-button-tooltip=\"Call\"\n      />\n    </div>\n    <div>\n      <h3>\n        With unread count\n      </h3>\n      <dt-recipe-contact-row\n        name=\"Jaqueline Nackos\"\n        avatar-presence=\"active\"\n        avatar-seed=\"JN\"\n        :avatar-src=\"defaultImage\"\n        unread-count=\"5\"\n        unread-count-tooltip=\"55 unread messages\"\n        :has-unreads=\"true\"\n        call-button-tooltip=\"Call\"\n      />\n    </div>\n    <div>\n      <h3>\n        Selected\n      </h3>\n      <dt-recipe-contact-row\n        name=\"Jaqueline Nackos\"\n        avatar-presence=\"active\"\n        avatar-seed=\"JN\"\n        :avatar-src=\"defaultImage\"\n        :selected=\"true\"\n        call-button-tooltip=\"Call\"\n      />\n    </div>\n    <div>\n      <h3>\n        With initial\n      </h3>\n      <dt-recipe-contact-row\n        name=\"Jaqueline Nackos\"\n        avatar-presence=\"active\"\n        avatar-seed=\"JN\"\n        call-button-tooltip=\"Call\"\n      />\n    </div>\n  </dt-stack>\n</template>\n\n<script>\nimport DtRecipeContactRow from './contact_row.vue';\nimport { DtStack } from '@/components/stack';\nimport defaultImage from '@/common/assets/person.png';\n\nexport default {\n  name: 'DtRecipeContactRowVariants',\n  components: { DtRecipeContactRow, DtStack },\n  data () {\n    return {\n      defaultImage,\n    };\n  },\n};\n</script>\n"],"names":["_sfc_main","DtAvatar","DtIcon","DtRecipeGeneralRow","DtEmojiTextWrapper","extractVueListeners","_a","safeConcatStrings","_hoisted_2","_openBlock","_createBlock","_component_dt_recipe_general_row","_mergeProps","$props","$options","_ctx","_toHandlers","_cache","$event","_createVNode","_component_dt_avatar","_createCommentVNode","_createElementBlock","_component_dt_icon","_Fragment","_component_dt_emoji_text_wrapper","_createElementVNode","DtRecipeContactRow","_component_dt_recipe_contact_row","DtStack","defaultImage","_hoisted_1","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_dt_stack","$data"],"mappings":"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"}