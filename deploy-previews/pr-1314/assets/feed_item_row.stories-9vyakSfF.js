import{a as f}from"./chunk-AY7I2SME-4UylTnhF.js";import{c as b}from"./storybook_utils-XrTpeJKJ.js";import{D as d}from"./avatar-HOfHQVrQ.js";import{D as I}from"./lazy_show-wnednbmK.js";import{D as H}from"./list_item-U0nUZvs3.js";import{M as E}from"./modal-g8UESVSL.js";import{n as l}from"./_plugin-vue2_normalizer-XBmYDgEh.js";import{D as $}from"./emoji_row-ctxTUGLP.js";import{D as k}from"./icon-SfO3AFzV.js";import{D as x}from"./button-ux2tnS3y.js";import{D as S}from"./stack-rPBk-08O.js";import{D as A,f as L}from"./fry-kTg1oCfe.js";const n={NORMAL:"",SEARCHED:"d-bgc-warning-subtle",ERROR:"d-bgc-critical-subtle"},o="NORMAL",N={name:"DtRecipeFeedItemRow",components:{DtAvatar:d,DtLazyShow:I,DtListItem:H},mixins:[E],inheritAttrs:!1,props:{avatarSeed:{type:String,default:null},showHeader:{type:Boolean,default:!1},avatarImageUrl:{type:String,default:""},displayName:{type:String,default:""},time:{type:String,default:""},shortTime:{type:String,default:""},isActive:{type:Boolean,default:!1},state:{type:String,default:o,validator:a=>Object.keys(n).includes(a)}},emits:["hover","focus"],data(){return{faded:!1}},computed:{feedListeners(){return{...this.$listeners,mouseenter:()=>this.setHover(!0),mouseleave:()=>this.setHover(!1),focusin:()=>this.setFocus(!0),focusout:()=>this.setFocus(!1),keydown:a=>{switch(a.code){case"Tab":this.trapFocus(a);break}this.$emit("keydown",a)}}},listItemClasses(){return["d-w100p","d-box-border","d-ps-relative","d-px16",{"d-bgc-secondary-opaque":this.isActive&&this.state===o},n[this.state],"dt-feed-item-row","d-t","d-tp-bgc"]}},methods:{trapFocus(a){this.focusTrappedTabPress(a)},setFocus(a){this.$emit("focus",a)},setHover(a){this.$emit("hover",a)},fade(){this.state===o||this.faded===!0||(this.$refs.FeedItemRef.$el.classList.remove(n[this.state]),this.faded=!0)}}};var F=function(){var e=this,t=e._self._c;return t("dt-list-item",e._g(e._b({ref:"FeedItemRef",class:e.listItemClasses,attrs:{"navigation-type":"none","data-qa":"dt-feed-item-row"},scopedSlots:e._u([{key:"left",fn:function(){return[e.showHeader?e._t("avatar",function(){return[t("dt-avatar",{attrs:{"full-name":e.displayName,"image-src":e.avatarImageUrl,seed:e.avatarSeed}})]}):e._e(),e.showHeader?e._e():t("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"dt-feed-item-row__left-time",attrs:{"data-qa":"dt-feed-item-row--left-time"}},[e._v(" "+e._s(e.shortTime)+" ")])]},proxy:!0},{key:"bottom",fn:function(){return[t("div",{staticClass:"dt-feed-item-row__reactions",attrs:{"data-qa":"dt-feed-item-row--reactions"}},[e._t("reactions")],2),t("div",{staticClass:"dt-feed-item-row__threading"},[e._t("threading")],2)]},proxy:!0},{key:"right",fn:function(){return[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"d-ps-absolute d-tn24 d-r12",attrs:{"data-qa":"dt-feed-item-row--menu"}},[t("dt-lazy-show",{attrs:{appear:!0,transition:"fade",show:e.isActive}},[e._t("menu")],2)],1)]},proxy:!0}],null,!0)},"dt-list-item",e.$attrs,!1),e.feedListeners),[t("article",[e.showHeader?t("div",{staticClass:"d-d-flex d-ai-center",attrs:{"data-qa":"dt-feed-item-row--header"}},[t("p",{staticClass:"d-fs-200 d-lh-300 d-fw-bold d-to-ellipsis d-of-hidden d-ws-nowrap"},[e._v(" "+e._s(e.displayName)+" ")]),t("time",{staticClass:"d-fs-100 d-mt2 d-lh-300 d-fc-tertiary d-fw-normal d-ml4 d-fl-shrink0"},[e._v(" "+e._s(e.time)+" ")])]):e._e(),t("span",{staticClass:"content-text-wrapper-class",attrs:{"data-qa":"dt-feed-item-row--content"}},[e._t("default")],2)])])},j=[];F._withStripped=!0;var c=l(N,F,j,!1,null,"58072825",null,null);c.options.__file="/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row.vue";const m=c.exports;c.exports.__docgenInfo={description:`This mixin provides the methods to automatically trap tab focus within
the component this mixin is on, meaning it is not possible to tab out
of the component without dismissing it.

Useful for accessibility reasons on things like important actionable alerts.

Use focusFirstElement to focus on the first tabbable element within your component, and call
focusTrappedTabPress every time tab is pressed to trap tab within this
component.

Note that focusFirstElement WILL focus elements with tabindex="-1",
however focusTrappedTabPress will not.`,displayName:"DtRecipeFeedItemRow",tags:{},exportName:"default",props:[{name:"avatarSeed",description:"Avatar seed, set this to the user's ID to get the same avatar background gradient each time it is displayed.",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"showHeader",description:"Show avatar, show header text or dont show left time and vice versa",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"avatarImageUrl",description:"Show the avatar of the user, if this is not passed in, the initials would display",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"displayName",description:"The display name of the sender",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"time",description:`time string displayed as is.
Shown on the header when showHeader is true`,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"shortTime",description:`short time string without AM/PM displayed as is.
Shown on the left of feed item when showHeader is false and isActive is true`,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"isActive",description:"displays a darkened background on the row.",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"state",description:"state for the feed item row. Can be default, searched & error",type:{name:"string"},defaultValue:{func:!1,value:"DEFAULT_FEED_ROW_STATE"}}],events:[{name:"hover",description:"Fires when hovered over feed row",type:{names:["Boolean"]}},{name:"focus",description:"Fires when focused over feed row",type:{names:["Boolean"]}},{name:"keydown",type:{names:["undefined"]}}],slots:[{name:"avatar",description:"Slot to contain the avatar, overrides avatar props."},{name:"default"},{name:"reactions",description:"Slot for reactions row component"},{name:"threading",description:"Slot for threading row component"},{name:"menu",description:"Slot for actions hover menu component"}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/common/mixins/modal.js","/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row.vue"]};const V={name:"DtRecipeFeedItemRowDefault",components:{DtAvatar:d,DtRecipeFeedItemRow:m,DtRecipeEmojiRow:$,DtIcon:k,DtButton:x,DtStack:S},data(){return{mockReactions:[{emojiUnicodeOrShortname:"ðŸ˜€",isSelected:!0,ariaLabel:"Emoji aria label",tooltip:"You reacted with ðŸ˜€",num:1},{emojiUnicodeOrShortname:"ðŸ˜’",isSelected:!1,ariaLabel:"Emoji aria label",tooltip:"You reacted with ðŸ˜’",num:1},{emojiUnicodeOrShortname:"ðŸ™ƒ",isSelected:!1,ariaLabel:"Emoji aria label",tooltip:"You reacted with ðŸ™ƒ",num:99}],hoverButtons:["bell","living-thing","map-pin"],persons:["Jim Halpert","Michael Scott","Pam"]}}};var R=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"d-pt16 feed-item-row__default-story"},[t("dt-recipe-feed-item-row",{attrs:{"show-header":e.$attrs.showHeader,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":e.$attrs.isActive,state:e.$attrs.state},on:{hover:e.$attrs.onHover,focus:e.$attrs.onFocus},scopedSlots:e._u([e.$attrs.avatar?{key:"avatar",fn:function(){return[t("span",{domProps:{innerHTML:e._s(e.$attrs.avatar)}})]},proxy:!0}:null,e.$attrs.threading?{key:"threading",fn:function(){return[t("dt-stack",{staticClass:"feed-item-row__thread d-d-flex d-ai-center",attrs:{direction:"row",gap:"400"}},[t("dt-stack",{attrs:{direction:"row",gap:"300"}},e._l(e.persons,function(r){return t("dt-avatar",{key:r,attrs:{"full-name":r,seed:"seed",size:"sm"}})}),1),t("dt-stack",{attrs:{direction:"row",gap:"400"}},[t("div",{staticClass:"d-fs-100 d-lh200 d-d-flex d-ai-center"},[t("a",{staticClass:"d-link d-pr4"},[e._v("3 replies")]),t("span",{staticClass:"feed-item-row__reply"},[e._v("Last reply an hour ago")])])])],1)]},proxy:!0}:null,{key:"reactions",fn:function(){return[t("dt-recipe-emoji-row",{attrs:{reactions:e.mockReactions},scopedSlots:e._u([{key:"picker",fn:function(){return[t("dt-button",{staticClass:"dt-emoji-row__reaction dt-emoji-row__picker",attrs:{importance:"clear",size:"sm","aria-label":"Add reaction","data-qa":"feed-item-reaction-button"}},[t("span",{staticClass:"d-d-inline-flex"},[t("dt-icon",{attrs:{size:"300",name:"satisfied"}})],1)])]},proxy:!0}])})]},proxy:!0},{key:"menu",fn:function(){return[t("div",{staticClass:"d-d-flex d-bgc-primary d-bar-pill d-bc-default d-ba",attrs:{role:"group"}},e._l(e.hoverButtons,function(r){return t("dt-button",{key:r,attrs:{kind:"muted",importance:"clear",size:"xs","aria-label":"button"},scopedSlots:e._u([{key:"icon",fn:function(){return[e._t("icon",function(){return[t("dt-icon",{attrs:{name:r,size:"300"}})]})]},proxy:!0}],null,!0)})}),1)]},proxy:!0}],null,!0)},[e.$attrs.default?[t("span",{domProps:{innerHTML:e._s(e.$attrs.default)}})]:e._e()],2)],1)},O=[];R._withStripped=!0;var u=l(V,R,O,!1,null,"0377ace7",null,null);u.options.__file="/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row_default.story.vue";const U=u.exports;u.exports.__docgenInfo={displayName:"DtRecipeFeedItemRowDefault",exportName:"default",description:"",tags:{},slots:[{name:"icon"}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row_default.story.vue"]};const M={name:"DtRecipeFeedItemRowVariants",components:{DtRecipeEmojiRow:$,DtRecipeFeedItemRow:m,DtStack:S,DtAvatar:d,DtIcon:k,DtImageViewer:A,DtButton:x},data(){return{mockReactions:[{emojiUnicodeOrShortname:"ðŸ˜€",isSelected:!0,ariaLabel:"Emoji aria label",tooltip:"You reacted with ðŸ˜€",num:1},{emojiUnicodeOrShortname:"ðŸ˜’",isSelected:!1,ariaLabel:"Emoji aria label",tooltip:"You reacted with ðŸ˜’",num:1},{emojiUnicodeOrShortname:"ðŸ™ƒ",isSelected:!1,ariaLabel:"Emoji aria label",tooltip:"You reacted with ðŸ™ƒ",num:99}],hoverButtons:["bell","living-thing","map-pin"],persons:["Jim Halpert","Michael Scott","Pam"],fryImage:L}}};var D=function(){var e=this,t=e._self._c;return t("dt-stack",{attrs:{gap:"600"}},[t("div",[t("h3",[e._v("Feed item with showHeader as False and isActive true")]),t("ul",{staticClass:"d-py8"},[t("dt-recipe-feed-item-row",{attrs:{"show-header":!1,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":!0,state:e.$attrs.state},on:{hover:e.$attrs.onHover,focus:e.$attrs.onFocus},scopedSlots:e._u([{key:"threading",fn:function(){return[t("dt-stack",{staticClass:"feed-item-row__thread d-d-flex d-ai-center",attrs:{direction:"row",gap:"400"}},[t("dt-stack",{attrs:{direction:"row",gap:"300"}},e._l(e.persons,function(r){return t("dt-avatar",{key:r,attrs:{"full-name":r,seed:"seed",size:"sm"}})}),1),t("dt-stack",{attrs:{direction:"row",gap:"400"}},[t("div",{staticClass:"d-fs-100 d-lh200 d-d-flex d-ai-center"},[t("a",{staticClass:"d-link d-pr4"},[e._v("3 replies")]),t("span",{staticClass:"feed-item-row__reply"},[e._v("Last reply an hour ago")])])])],1)]},proxy:!0},{key:"reactions",fn:function(){return[t("dt-recipe-emoji-row",{attrs:{reactions:e.mockReactions}})]},proxy:!0},{key:"menu",fn:function(){return[t("div",{staticClass:"d-d-flex d-bgc-primary d-bar-pill d-bc-default d-ba",attrs:{role:"group"}},e._l(e.hoverButtons,function(r){return t("dt-button",{key:r,attrs:{kind:"muted",importance:"clear",size:"xs","aria-label":"button"},scopedSlots:e._u([{key:"icon",fn:function(){return[e._t("icon",function(){return[t("dt-icon",{attrs:{name:r,size:"300"}})]})]},proxy:!0}],null,!0)})}),1)]},proxy:!0}])},[e.$attrs.default?[t("span",{domProps:{innerHTML:e._s(e.$attrs.default)}})]:e._e()],2)],1)]),t("div",[t("h3",[e._v("Feed item with rich media")]),t("ul",{staticClass:"d-py8"},[t("dt-recipe-feed-item-row",{attrs:{"show-header":!0,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":!0},on:{hover:e.$attrs.onHover,focus:e.$attrs.onFocus},scopedSlots:e._u([{key:"threading",fn:function(){return[t("dt-stack",{staticClass:"feed-item-row__thread d-d-flex d-ai-center",attrs:{direction:"row",gap:"400"}},[t("dt-stack",{attrs:{direction:"row",gap:"300"}},e._l(e.persons,function(r){return t("dt-avatar",{key:r,attrs:{"full-name":r,seed:"seed",size:"sm"}})}),1),t("dt-stack",{attrs:{direction:"row",gap:"400"}},[t("div",{staticClass:"d-fs-100 d-lh200 d-d-flex d-ai-center"},[t("a",{staticClass:"d-link d-pr4"},[e._v("3 replies")]),t("span",{staticClass:"feed-item-row__reply"},[e._v("Last reply an hour ago")])])])],1)]},proxy:!0},{key:"reactions",fn:function(){return[t("dt-recipe-emoji-row",{attrs:{reactions:e.$attrs.reactions}})]},proxy:!0}])},[t("dt-image-viewer",{attrs:{"image-src":e.fryImage,"image-alt":"Alt Text","close-aria-label":"Close","image-button-class":"d-wmn64 d-hmn64 w-wmx332 d-hmx332","aria-label":"Click to open image"}})],1)],1)]),t("div",[t("h3",[e._v('Feed item state "error"')]),t("ul",{staticClass:"d-py8"},[t("dt-recipe-feed-item-row",{attrs:{"show-header":!1,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":!0,state:"ERROR"},on:{hover:e.$attrs.onHover,focus:e.$attrs.onFocus}},[e.$attrs.default?[t("span",{domProps:{innerHTML:e._s(e.$attrs.default)}})]:e._e()],2)],1)]),t("div",[t("h3",[e._v('Feed item state "searched"')]),t("dt-button",{on:{click:function(r){return e.$refs.feedItemRowFade.fade()}}},[e._v(" Click to fade ")]),t("ul",{staticClass:"d-py8"},[t("dt-recipe-feed-item-row",{ref:"feedItemRowFade",attrs:{"show-header":!1,"avatar-image-url":e.$attrs.avatarImageUrl,"display-name":e.$attrs.displayName,time:e.$attrs.time,"short-time":e.$attrs.shortTime,"is-active":!0,state:"SEARCHED"},on:{hover:e.$attrs.onHover,focus:e.$attrs.onFocus}},[e.$attrs.default?[t("span",{domProps:{innerHTML:e._s(e.$attrs.default)}})]:e._e()],2)],1)],1)])},P=[];D._withStripped=!0;var p=l(M,D,P,!1,null,"7075ce8a",null,null);p.options.__file="/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row_variants.story.vue";const q=p.exports;p.exports.__docgenInfo={displayName:"DtRecipeFeedItemRowVariants",exportName:"default",description:"",tags:{},slots:[{name:"icon"}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/feed_item_row/feed_item_row_variants.story.vue"]};const T={avatarImageUrl:"https://i1.sndcdn.com/avatars-000181324408-652e57-t500x500.jpg",displayName:"Dwight Schrute",time:"4:54 PM",shortTime:"4:54",onFocus:f("focus"),onHover:f("hover"),default:`<p class="d-fs-200 d-lh-400 d-wmx90ch">
  Elementum fames nullam elementum velit proin vitae aliquet.
  Platea nulla consectetur consequat sagittis nullam et ultricies nisl rhoncus
  aliquet elementum venenatis quisque.</p>`},C={default:{control:"text",table:{type:{summary:"VNode"}}},avatar:{control:"text",table:{type:{summary:"VNode"}}},threading:{name:"threading",control:"text",table:{category:"slots",type:{summary:"VNode"}}},reactions:{control:!1},menu:{control:!1},state:{defaultValue:o,options:Object.keys(n),control:{type:"select",labels:{undefined:"(empty)"}},table:{defaultValue:{summary:o}}},onFocus:{table:{disable:!0}},onHover:{table:{disable:!0}}},z={title:"Recipes/Conversation View/Feed Item Row",component:m,args:T,argTypes:C,excludeStories:/.*Data$/},B=(a,{argTypes:e})=>b(a,e,U),Y=(a,{argTypes:e})=>b(a,e,q),s={render:B,args:{showHeader:!0,threading:"threading"}},i={render:Y,args:{}};var h,v,_;s.parameters={...s.parameters,docs:{...(h=s.parameters)==null?void 0:h.docs,source:{originalSource:`{
  render: DefaultTemplate,
  args: {
    showHeader: true,
    threading: 'threading'
  }
}`,...(_=(v=s.parameters)==null?void 0:v.docs)==null?void 0:_.source}}};var w,y,g;i.parameters={...i.parameters,docs:{...(w=i.parameters)==null?void 0:w.docs,source:{originalSource:`{
  render: VariantsTemplate,
  args: {}
}`,...(g=(y=i.parameters)==null?void 0:y.docs)==null?void 0:g.source}}};const W=["argsData","argTypesData","Default","Variants"],oe=Object.freeze(Object.defineProperty({__proto__:null,Default:s,Variants:i,__namedExportsOrder:W,argTypesData:C,argsData:T,default:z},Symbol.toStringTag,{value:"Module"}));export{s as D,oe as F,i as V};
//# sourceMappingURL=feed_item_row.stories-9vyakSfF.js.map
