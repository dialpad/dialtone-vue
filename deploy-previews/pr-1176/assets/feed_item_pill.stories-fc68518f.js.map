{"version":3,"file":"feed_item_pill.stories-fc68518f.js","sources":["../../recipes/conversation_view/feed_pill/feed_item_pill_constants.js","../../components/list_section/list_section.vue","../../recipes/conversation_view/feed_pill/feed_item_pill.vue","../../recipes/conversation_view/feed_pill/feed_item_pill_default.story.vue"],"sourcesContent":["export const FEED_ITEM_PILL_BORDER_COLORS = {\n  default: 'dt-feed-item-pill--border-default',\n  ai: 'dt-feed-item-pill--border-ai',\n  critical: 'dt-feed-item-pill--border-critical',\n};\n\nexport default {\n  FEED_ITEM_PILL_BORDER_COLORS,\n};\n","<template>\n  <div\n    :id=\"id\"\n    role=\"group\"\n    :aria-labelledby=\"`${id}-list-section-header`\"\n    tabindex=\"-1\"\n    :class=\"['dt-list-section', 'd-fs-200', 'd-lh6', 'd-py6', 'd-bc-black-400',\n             { 'd-bb': separator }]\"\n  >\n    <h3\n      v-if=\"header\"\n      :id=\"`${id}-list-section-header`\"\n      class=\"d-pl12 d-mt6\"\n    >\n      {{ header }}\n    </h3>\n    <ol\n      v-if=\"!isCollapsible || showAll\"\n      :id=\"`${id}-list-section-content`\"\n    >\n      <slot />\n    </ol>\n    <ol\n      v-else\n      :id=\"`${id}-list-section-content`\"\n    >\n      <vnodes :vnodes=\"displayedItems\" />\n    </ol>\n    <div\n      class=\"d-d-flex\"\n    >\n      <dt-button\n        v-if=\"isCollapsible\"\n        :id=\"`${id}-list-section-show-more-less`\"\n        link\n        class=\"d-ml12 d-py6\"\n        @click=\"showMoreLessClicked\"\n      >\n        {{ showMoreLessText }}\n      </dt-button>\n      <slot name=\"footer\" />\n    </div>\n  </div>\n</template>\n\n<script>\n/* Sections a group of list items within a list. Useful for\n   more complex lists that are really a series of \"sublists\".\n\n   - Can add a header for each section\n   - Can add border lines to visually separate the section\n   - Allows a list to have a max number of visible items, and any items\n     above the max you'd press \"show more\" to display.\n  -  Allows to add additional content to list footer.\n*/\nimport utils from '@/common/utils';\nimport { DtButton } from '../button';\n\nexport default {\n  name: 'ListSection',\n\n  components: {\n    // little trick to render vnode objects via a render function\n    Vnodes: {\n      name: 'vnodes',\n      functional: true,\n      render: (h, ctx) => ctx.props.vnodes,\n    },\n\n    DtButton,\n  },\n\n  props: {\n    id: {\n      type: String,\n      default () { return utils.getUniqueString(); },\n    },\n\n    // Leave blank if you want no header\n    header: {\n      type: String,\n      default: null,\n    },\n\n    // Will visually separate this section with a border\n    separator: {\n      type: Boolean,\n      default: false,\n    },\n\n    // Will only display this maximum number of items, if you\n    // would like to see the rest press \"show more\". 0 means show all\n    maxDisplayed: {\n      type: Number,\n      default: 0,\n    },\n\n    textMore: {\n      type: String,\n      // TODO needs to be translated, but Dialtone Vue can't do it.\n      default: 'Show more',\n    },\n\n    textLess: {\n      type: String,\n      // TODO needs to be translated, but Dialtone Vue can't do it.\n      default: 'Show less',\n    },\n  },\n\n  data () {\n    return {\n      showAll: false,\n    };\n  },\n\n  computed: {\n    isCollapsible () {\n      if (this.maxDisplayed === 0 || this.itemCount <= this.maxDisplayed) {\n        return false;\n      }\n      return true;\n    },\n\n    showMoreLessText () {\n      return this.showAll ? this.textLess : this.textMore;\n    },\n\n    hiddenCount () {\n      return this.itemCount - this.displayedItems.length;\n    },\n\n    itemCount () {\n      // eslint-disable-next-line vue/require-slots-as-functions\n      return this.$slots.default.length;\n    },\n\n    displayedItems () {\n      // filtering the slot v-nodes to only display up to maxDisplayed items\n      // eslint-disable-next-line vue/require-slots-as-functions\n      return this.$slots.default.filter((item, index) => index <= this.maxDisplayed - 1);\n    },\n  },\n\n  methods: {\n    showMoreLessClicked () {\n      this.showAll = !this.showAll;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.dt-list-section[tabindex=\"-1\"]:focus {\n  outline: none;\n}\n</style>\n","<template>\n  <div :class=\"['dt-feed-item-pill--border', borderClass, wrapperClass]\">\n    <div class=\"d-p8 d-bgc-secondary\">\n      <dt-collapsible :open=\"expanded\">\n        <template #anchor>\n          <button\n            :aria-label=\"ariaLabel\"\n            data-qa=\"dt-feed-item-pill\"\n            :class=\"['d-baw0 d-bgc-moderate d-bar-pill d-w100p d-ta-left d-btn--circle', toggleableClass, buttonClass]\"\n            @focusin=\"hover = true\"\n            @focusout=\"hover = false\"\n            @mouseenter=\"hover = true\"\n            @mouseleave=\"hover = false\"\n            @click=\"onClick\"\n          >\n            <dt-item-layout class=\"d-w100p d-p8\">\n              {{ title }}\n              <template #left>\n                <dt-icon\n                  size=\"300\"\n                  class=\"dt-feed-item-pill--icon d-pr8\"\n                  data-qa=\"dt-feed-item-pill-icon\"\n                  :name=\"computedIcon\"\n                />\n              </template>\n              <template #subtitle>\n                <slot name=\"subtitle\" />\n              </template>\n              <template #bottom>\n                <slot name=\"bottom\" />\n              </template>\n              <template #right>\n                <slot name=\"right\" />\n              </template>\n            </dt-item-layout>\n          </button>\n        </template>\n        <template #content>\n          <div class=\"d-jc-center d-d-flex\">\n            <slot name=\"content\" />\n          </div>\n        </template>\n      </dt-collapsible>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { FEED_ITEM_PILL_BORDER_COLORS } from './feed_item_pill_constants';\nimport { DtIcon, DtItemLayout, DtCollapsible } from '@/index';\n\nexport default {\n  name: 'DtRecipeFeedItemPill',\n\n  components: { DtItemLayout, DtIcon, DtCollapsible },\n\n  props: {\n    /**\n     * Accepts a DtIcon name to be shown in the left\n     */\n    iconName: {\n      type: String,\n      default: () => '',\n    },\n\n    /**\n     * Bolded primary text\n     */\n    title: {\n      type: String,\n      default: () => '',\n    },\n\n    /**\n     * Additional styling around the pill\n     */\n    wrapperClass: {\n      type: [String, Array, Object],\n      default: '',\n    },\n\n    /**\n     * Additional styling for the pill\n     */\n    buttonClass: {\n      type: [String, Array, Object],\n      default: '',\n    },\n\n    /**\n     * Aria label for feed pill\n     */\n    ariaLabel: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * Sets whether the pill can be toggled (Icon changing on hover, expanding and collapsing, pointer)\n     */\n    toggleable: {\n      type: Boolean,\n      default: () => true,\n    },\n\n    /**\n     * Callbox border color\n     * @values default, ai, critical\n     */\n    borderColor: {\n      type: String,\n      default: 'default',\n      validator: (color) => Object.keys(FEED_ITEM_PILL_BORDER_COLORS).includes(color),\n    },\n  },\n\n  data () {\n    return {\n      hover: false,\n      expanded: false,\n    };\n  },\n\n  computed: {\n    computedIcon () {\n      if (this.toggleable && this.hover) {\n        return this.expanded ? 'chevron-down' : 'chevron-right';\n      } else {\n        return this.iconName;\n      }\n    },\n\n    toggleableClass () {\n      return this.toggleable ? 'd-c-pointer' : '';\n    },\n\n    borderClass () {\n      return FEED_ITEM_PILL_BORDER_COLORS[this.borderColor];\n    },\n  },\n\n  methods: {\n    onClick () {\n      if (!this.toggleable) return;\n\n      this.expanded = !this.expanded;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n  // Gradient radius solution taken from https://stackoverflow.com/a/53037637\n  .dt-feed-item-pill--border {\n    border: double 1px transparent;\n    border-radius: 4.8rem; // Special value determined by designer here where it works in both expanded and collapsed\n    background-origin: border-box;\n    background-clip: content-box, border-box;\n    overflow: hidden;\n  }\n\n  .dt-feed-item-pill--border-default {\n    background: var(--dt-color-border-default)\n  }\n\n  .dt-feed-item-pill--border-ai {\n    background-image:\n      linear-gradient(var(--dt-color-surface-primary), var(--dt-color-surface-primary)),\n      var(--dt-badge-color-background-ai);\n  }\n\n  .dt-feed-item-pill--border-critical {\n    background: var(--dt-color-foreground-critical);\n  }\n\n  .dt-feed-item-pill--icon {\n    animation: fade 0.15s ease-in;\n  }\n\n  @keyframes fade {\n    0%   {transform: scale(0);}\n    100% {transform: scale(1);}\n  }\n</style>\n","<template>\n  <dt-recipe-feed-item-pill\n    :icon-name=\"iconName\"\n    :title=\"title\"\n    :wrapper-class=\"wrapperClass\"\n    :button-class=\"buttonClass\"\n    :border-color=\"borderColor\"\n    :aria-label=\"ariaLabel\"\n    :toggleable=\"toggleable\"\n  >\n    <template #subtitle>\n      Last 43 minutes - Ended at 5:04pm\n    </template>\n    <template #bottom>\n      <span class=\"d-fc-tertiary d-fs-100\">8 people joined</span>\n    </template>\n    <template #right>\n      <div class=\"d-pr16\">\n        <dt-button\n          aria-label=\"Open external link\"\n          kind=\"muted\"\n          importance=\"clear\"\n          :circle=\"true\"\n          @click.stop=\"\"\n        >\n          <template #icon>\n            <dt-icon\n              name=\"external-link\"\n              size=\"300\"\n            />\n          </template>\n        </dt-button>\n      </div>\n    </template>\n    <template #content>\n      <span class=\"d-p16\">\n        The agent from Dialpad called to follow up on a support ticket\n        that Jeff was handling for them regarding Dialpad CTI. They apologized\n        for calling outside of the requested time and expressed that they had\n        asked the team to look into the issue and would email them after the call.\n      </span>\n    </template>\n  </dt-recipe-feed-item-pill>\n</template>\n\n<script>\nimport { DtIcon } from '@/components/icon';\nimport { DtButton } from '@/components/button';\nimport DtRecipeFeedItemPill from './feed_item_pill.vue';\n\nexport default {\n  name: 'DtRecipeFeedItemPillDefault',\n  components: { DtRecipeFeedItemPill, DtButton, DtIcon },\n};\n</script>\n"],"names":["FEED_ITEM_PILL_BORDER_COLORS","_sfc_main","h","ctx","DtButton","utils","item","index","DtItemLayout","DtIcon","DtCollapsible","color","DtRecipeFeedItemPill"],"mappings":"qmEAAO,MAAMA,EAA+B,CAC1C,QAAS,oCACT,GAAI,+BACJ,SAAU,oCACZ,ECsDA,MAAAC,EAAA,CACA,KAAA,cAEA,WAAA,CAEA,OAAA,CACA,KAAA,SACA,WAAA,GACA,OAAA,CAAAC,EAAAC,IAAAA,EAAA,MAAA,MACA,EAEA,SAAAC,CACA,EAEA,MAAA,CACA,GAAA,CACA,KAAA,OACA,SAAA,CAAA,OAAAC,EAAA,gBAAA,CAAA,CACA,EAGA,OAAA,CACA,KAAA,OACA,QAAA,IACA,EAGA,UAAA,CACA,KAAA,QACA,QAAA,EACA,EAIA,aAAA,CACA,KAAA,OACA,QAAA,CACA,EAEA,SAAA,CACA,KAAA,OAEA,QAAA,WACA,EAEA,SAAA,CACA,KAAA,OAEA,QAAA,WACA,CACA,EAEA,MAAA,CACA,MAAA,CACA,QAAA,EACA,CACA,EAEA,SAAA,CACA,eAAA,CACA,MAAA,OAAA,eAAA,GAAA,KAAA,WAAA,KAAA,aAIA,EAEA,kBAAA,CACA,OAAA,KAAA,QAAA,KAAA,SAAA,KAAA,QACA,EAEA,aAAA,CACA,OAAA,KAAA,UAAA,KAAA,eAAA,MACA,EAEA,WAAA,CAEA,OAAA,KAAA,OAAA,QAAA,MACA,EAEA,gBAAA,CAGA,OAAA,KAAA,OAAA,QAAA,OAAA,CAAAC,EAAAC,IAAAA,GAAA,KAAA,aAAA,CAAA,CACA,CACA,EAEA,QAAA,CACA,qBAAA,CACA,KAAA,QAAA,CAAA,KAAA,OACA,CACA,CACA,ysDClGA,MAAAN,EAAA,CACA,KAAA,uBAEA,WAAA,CAAA,aAAAO,EAAA,OAAAC,EAAA,cAAAC,CAAA,EAEA,MAAA,CAIA,SAAA,CACA,KAAA,OACA,QAAA,IAAA,EACA,EAKA,MAAA,CACA,KAAA,OACA,QAAA,IAAA,EACA,EAKA,aAAA,CACA,KAAA,CAAA,OAAA,MAAA,MAAA,EACA,QAAA,EACA,EAKA,YAAA,CACA,KAAA,CAAA,OAAA,MAAA,MAAA,EACA,QAAA,EACA,EAKA,UAAA,CACA,KAAA,OACA,SAAA,EACA,EAKA,WAAA,CACA,KAAA,QACA,QAAA,IAAA,EACA,EAMA,YAAA,CACA,KAAA,OACA,QAAA,UACA,UAAAC,GAAA,OAAA,KAAAX,CAAA,EAAA,SAAAW,CAAA,CACA,CACA,EAEA,MAAA,CACA,MAAA,CACA,MAAA,GACA,SAAA,EACA,CACA,EAEA,SAAA,CACA,cAAA,CACA,OAAA,KAAA,YAAA,KAAA,MACA,KAAA,SAAA,eAAA,gBAEA,KAAA,QAEA,EAEA,iBAAA,CACA,OAAA,KAAA,WAAA,cAAA,EACA,EAEA,aAAA,CACA,OAAAX,EAAA,KAAA,WAAA,CACA,CACA,EAEA,QAAA,CACA,SAAA,CACA,KAAA,aAEA,KAAA,SAAA,CAAA,KAAA,SACA,CACA,CACA,kpFClGA,MAAAC,EAAA,CACA,KAAA,8BACA,WAAA,CAAA,qBAAAW,EAAA,SAAAR,EAAA,OAAAK,CAAA,CACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}