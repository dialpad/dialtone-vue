import{D as w}from"./icon-a8ef875b.js";import{D as y}from"./button-193f2ca3.js";import{D as I}from"./image_viewer-d042ebce.js";import{o as i,k as l,B as q,e as p,s as n,u as o,f as m,b as A,w as h,F as D,z as S,d as f,v,I as B}from"./vue.esm-bundler-4299d4fa.js";import{_ as g}from"./_plugin-vue_export-helper-c27b6911.js";const L={name:"DtProgressBar",props:{progressbarAriaLabel:{type:String,required:!0},progress:{type:Number,default:20}},data:()=>({circleCircumference:50}),computed:{cssVars(){return{"--stroke-dashoffset":this.circleCircumference-this.circleCircumference*this.progress/100,"--stroke-dasharray":this.circleCircumference}}},mounted(){this.circleCircumference=this.$refs.progressbarCircle.getTotalLength()}},N=["aria-label","aria-valuenow"],T={ref:"progressbarCircle",r:"8",cx:"12",cy:"12",class:"progress-bar__circle"},M=p("circle",{r:"8",cx:"12",cy:"12",class:"progress-bar__circle"},null,-1);function R(e,a,r,b,u,t){return i(),l("div",{role:"progressbar","aria-label":r.progressbarAriaLabel,tabindex:"-1","aria-valuenow":r.progress,"aria-valuemin":"0","aria-valuemax":"100"},[(i(),l("svg",{class:"progress-bar d-w24 d-h24",style:q(t.cssVars)},[p("circle",T,null,512),M],4))],8,N)}const F=g(L,[["render",R],["__file","/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/attachment_carousel/media_components/progress_bar.vue"]]);L.__docgenInfo={displayName:"DtProgressBar",exportName:"default",description:"",tags:{},props:[{name:"progressbarAriaLabel",type:{name:"string"},required:!0},{name:"progress",type:{name:"number"},defaultValue:{func:!1,value:"20"}}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/attachment_carousel/media_components/progress_bar.vue"]};const k={name:"DtImageCarousel",components:{DtImageViewer:I,DtButton:y,DtIcon:w,DtProgressBar:F},props:{mediaItem:{type:Object,required:!0},index:{type:Number,required:!0},closeAriaLabel:{type:String,required:!0},clickToOpenAriaLabel:{type:String,required:!0},progressbarAriaLabel:{type:String,required:!0}},emits:["remove-media"],methods:{removeMediaItem(e){this.$emit("remove-media",e)}}},V={class:"dt-attachment-image"},z={class:"dt-attachment-image__top-right"};function O(e,a,r,b,u,t){const d=n("dt-image-viewer"),_=n("dt-progress-bar"),s=n("dt-icon"),c=n("dt-button");return i(),l("li",V,[o(d,{"image-button-class":"dt-attachment-image__image-viewer","image-src":r.mediaItem.path,"image-alt":r.mediaItem.altText,"close-aria-label":r.closeAriaLabel,"aria-label":r.clickToOpenAriaLabel},null,8,["image-src","image-alt","close-aria-label","aria-label"]),m(" Loader / Close button "),p("div",z,[r.mediaItem.isUploading?(i(),A(_,{key:0,class:"dt-attachment-image__progress-bar",progress:r.mediaItem.progress,"progressbar-aria-label":r.progressbarAriaLabel},null,8,["progress","progressbar-aria-label"])):m("v-if",!0),o(c,{id:`closeButton-${r.index}`,tabindex:"0",class:"dt-attachment-image__close-button",circle:"",size:"xs",importance:"clear","aria-label":r.closeAriaLabel,onClick:a[0]||(a[0]=C=>t.removeMediaItem(r.index))},{icon:h(()=>[o(s,{name:"close",size:"200"})]),_:1},8,["id","aria-label"])])])}const W=g(k,[["render",O],["__file","/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/attachment_carousel/media_components/image_carousel.vue"]]);k.__docgenInfo={displayName:"DtImageCarousel",exportName:"default",description:"",tags:{},props:[{name:"mediaItem",type:{name:"object"},required:!0},{name:"index",type:{name:"number"},required:!0},{name:"closeAriaLabel",type:{name:"string"},required:!0},{name:"clickToOpenAriaLabel",type:{name:"string"},required:!0},{name:"progressbarAriaLabel",type:{name:"string"},required:!0}],events:[{name:"remove-media",description:"Emitted when media close button is clicked to remove the image",type:{names:["Number"]}}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/attachment_carousel/media_components/image_carousel.vue"]};const $=64,x={name:"DtRecipeAttachmentCarousel",components:{DtButton:y,DtIcon:w,DtImageCarousel:W},mixins:[],props:{mediaList:{type:Array,default:()=>[]},closeAriaLabel:{type:String,required:!0},clickToOpenAriaLabel:{type:String,required:!0},progressbarAriaLabel:{type:String,required:!0},leftArrowAriaLabel:{type:String,required:!0},rightArrowAriaLabel:{type:String,required:!0}},emits:["remove-media"],data(){return{showCloseButton:{},showRightArrow:!0,showLeftArrow:!1,isMounted:!1}},computed:{filteredMediaList(){return this.mediaList.filter(e=>e.type==="image"||e.type==="video")}},mounted:function(){this.showLeftArrow=this.$refs.carousel.scrollLeft>0,this.showRightArrow=this.$refs.carousel.scrollWidth>this.$refs.carousel.clientWidth},methods:{onItemFocus(e){e.currentTarget.scrollIntoView({behavior:"smooth"})},mediaComponent(e){switch(e){case"image":return"dt-image-carousel";default:return null}},removeMediaItem(e){this.showRightArrow=this.$refs.carousel.scrollWidth>this.$refs.carousel.clientWidth+$,this.$emit("remove-media",e)},closeButton(e,a){this.showCloseButton[a]=e},handleScroll(){const e=this.$refs.carousel;this.showLeftArrow=e.scrollLeft>0,this.showRightArrow=e.scrollLeft+e.clientWidth!==e.scrollWidth},leftScroll(){this.$refs.carousel.scrollTo({left:this.$refs.carousel.scrollLeft-100,behavior:"smooth"})},rightScroll(){this.$refs.carousel.scrollTo({left:this.$refs.carousel.scrollLeft+100,behavior:"smooth"})}}},E={class:"dt-attachment-carousel",role:"presentation"};function j(e,a,r,b,u,t){const d=n("dt-icon"),_=n("dt-button");return i(),l("div",E,[r.mediaList.length>0?(i(),l("ul",{key:0,ref:"carousel",class:"dt-attachment-carousel__media-list",onScroll:a[0]||(a[0]=(...s)=>t.handleScroll&&t.handleScroll(...s))},[m(" media list "),(i(!0),l(D,null,S(t.filteredMediaList,(s,c)=>(i(),A(B(t.mediaComponent(s.type)),{key:`media-${c}`,index:c,"media-item":s,"close-aria-label":r.closeAriaLabel,"click-to-open-aria-label":r.clickToOpenAriaLabel,"progressbar-aria-label":r.progressbarAriaLabel,onRemoveMedia:C=>t.removeMediaItem(c),onFocusin:t.onItemFocus},null,40,["index","media-item","close-aria-label","click-to-open-aria-label","progressbar-aria-label","onRemoveMedia","onFocusin"]))),128))],544)):m("v-if",!0),m(" Carousel Arrows "),f(o(_,{tabindex:"-1","aria-label":r.leftArrowAriaLabel,class:"dt-attachment-carousel__arrow dt-attachment-carousel__arrow--left",circle:"",size:"xs",importance:"clear",onClick:t.leftScroll},{icon:h(()=>[o(d,{name:"arrow-left",size:"100"})]),_:1},8,["aria-label","onClick"]),[[v,u.showLeftArrow]]),f(o(_,{tabindex:"-1","aria-label":r.rightArrowAriaLabel,class:"dt-attachment-carousel__arrow dt-attachment-carousel__arrow--right",circle:"",size:"xs",importance:"clear",onClick:t.rightScroll},{icon:h(()=>[o(d,{name:"arrow-right",size:"100"})]),_:1},8,["aria-label","onClick"]),[[v,u.showRightArrow]])])}const K=g(x,[["render",j],["__file","/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/attachment_carousel/attachment_carousel.vue"]]);x.__docgenInfo={displayName:"DtRecipeAttachmentCarousel",exportName:"default",description:"",tags:{},props:[{name:"mediaList",description:"media - object array of media objects",tags:{type:[{title:"type",type:{name:"Array"}}]},type:{name:"Array"},defaultValue:{func:!1,value:"[]"}},{name:"closeAriaLabel",type:{name:"string"},required:!0},{name:"clickToOpenAriaLabel",type:{name:"string"},required:!0},{name:"progressbarAriaLabel",type:{name:"string"},required:!0},{name:"leftArrowAriaLabel",type:{name:"string"},required:!0},{name:"rightArrowAriaLabel",type:{name:"string"},required:!0}],events:[{name:"remove-media",description:"Emitted when popover is shown or hidden",type:{names:["Number"]}}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/recipes/conversation_view/attachment_carousel/attachment_carousel.vue"]};export{K as D};
//# sourceMappingURL=attachment_carousel-52792937.js.map
