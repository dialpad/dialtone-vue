{"version":3,"file":"combobox_multi_select.stories-71fd1cf3.js","sources":["../../recipes/comboboxes/combobox_multi_select/combobox_multi_select_default.story.vue"],"sourcesContent":["<template>\n  <dt-recipe-combobox-multi-select\n    ref=\"comboboxMultiSelect\"\n    :label=\"$attrs.label\"\n    :label-visible=\"$attrs.labelVisible\"\n    :description=\"$attrs.description\"\n    :size=\"$attrs.size\"\n    :placeholder=\"$attrs.placeholder\"\n    :input-messages=\"$attrs.inputMessages\"\n    :show-input-messages=\"$attrs.showInputMessages\"\n    :loading=\"$attrs.loading\"\n    :loading-message=\"$attrs.loadingMessage\"\n    :show-list=\"$attrs.showList\"\n    :selected-items=\"$attrs.selectedItems\"\n    :max-selected=\"$attrs.maxSelected\"\n    :list-max-height=\"$attrs.listMaxHeight\"\n    :max-selected-message=\"$attrs.maxSelectedMessage\"\n    :has-suggestion-list=\"$attrs.hasSuggestionList\"\n    :visually-hidden-close=\"$attrs.visuallyHiddenClose\"\n    :visually-hidden-close-label=\"$attrs.visuallyHiddenCloseLabel\"\n    :append-to=\"$attrs.appendTo\"\n    :transition=\"$attrs.transition\"\n    @input=\"onComboboxInput\"\n    @select=\"onComboboxSelect\"\n    @remove=\"onComboboxRemove\"\n    @max-selected=\"onComboboxMaxSelected\"\n  >\n    <template\n      v-if=\"$attrs.header\"\n      #header\n    >\n      <span v-html=\"$attrs.header\" />\n    </template>\n    <template #list>\n      <ul\n        class=\"d-ps-relative d-stack2 d-m4 d-px0\"\n      >\n        <dt-list-item\n          v-for=\"(item, i) in items\"\n          :key=\"item.id\"\n          role=\"option\"\n          navigation-type=\"arrow-keys\"\n          @click=\"onComboboxSelect(i)\"\n        >\n          {{ item.value }}\n          <template #right>\n            <span class=\"d-fc-secondary\">{{ item.type }}</span>\n          </template>\n        </dt-list-item>\n      </ul>\n    </template>\n    <template\n      v-if=\"$attrs.footer\"\n      #footer\n    >\n      <span v-html=\"$attrs.footer\" />\n    </template>\n  </dt-recipe-combobox-multi-select>\n</template>\n\n<script>\nimport DtListItem from '@/components/list_item/list_item.vue';\nimport DtRecipeComboboxMultiSelect from './combobox_multi_select.vue';\nimport { ITEMS_LIST_DATA } from './combobox_multi_select_story_constants';\n\nexport default {\n  name: 'DtRecipeComboboxMultiSelectDefault',\n  components: {\n    DtRecipeComboboxMultiSelect,\n    DtListItem,\n  },\n\n  data () {\n    return {\n      items: ITEMS_LIST_DATA,\n    };\n  },\n\n  methods: {\n    onComboboxInput (value) {\n      // Filter list\n      this.items = ITEMS_LIST_DATA.filter(item => item.value.includes(value));\n      this.$attrs.onInput(value);\n    },\n\n    onComboboxSelect (i) {\n      if (this.items[i]) {\n        this.$attrs.onSelect(i);\n\n        const item = this.items[i].value;\n        if (this.$attrs.selectedItems.includes(item)) {\n          return;\n        }\n        this.$attrs.selectedItems.push(item);\n\n        // Clear input box and unfilter list\n        this.$refs.comboboxMultiSelect.$data.value = '';\n        this.items = ITEMS_LIST_DATA;\n      }\n    },\n\n    onComboboxMaxSelected () {\n      this.$attrs.onMaxSelected();\n    },\n\n    onComboboxRemove (item) {\n      this.$attrs.onRemove(item);\n      const index = this.$attrs.selectedItems.indexOf(item);\n      if (index < 0) {\n        return;\n      }\n      this.$attrs.selectedItems.splice(index, 1);\n    },\n  },\n};\n</script>\n"],"names":["_sfc_main","DtRecipeComboboxMultiSelect","DtListItem","ITEMS_LIST_DATA","value","item","i","index","_hoisted_2","_hoisted_3","_createBlock","_component_dt_recipe_combobox_multi_select","_ctx","$options","_createElementVNode","_openBlock","_createElementBlock","_Fragment","_renderList","$data","_component_dt_list_item","$event","_toDisplayString"],"mappings":"yYAiEA,MAAKA,EAAU,CACb,KAAM,qCACN,WAAY,CACV,4BAAAC,EACA,WAAAC,CACD,EAED,MAAQ,CACN,MAAO,CACL,MAAOC,EAEV,EAED,QAAS,CACP,gBAAiBC,EAAO,CAEtB,KAAK,MAAQD,EAAgB,OAAOE,GAAQA,EAAK,MAAM,SAASD,CAAK,CAAC,EACtE,KAAK,OAAO,QAAQA,CAAK,CAC1B,EAED,iBAAkBE,EAAG,CACnB,GAAI,KAAK,MAAMA,CAAC,EAAG,CACjB,KAAK,OAAO,SAASA,CAAC,EAEtB,MAAMD,EAAO,KAAK,MAAMC,CAAC,EAAE,MAC3B,GAAI,KAAK,OAAO,cAAc,SAASD,CAAI,EACzC,OAEF,KAAK,OAAO,cAAc,KAAKA,CAAI,EAGnC,KAAK,MAAM,oBAAoB,MAAM,MAAQ,GAC7C,KAAK,MAAQF,CACf,CACD,EAED,uBAAyB,CACvB,KAAK,OAAO,eACb,EAED,iBAAkBE,EAAM,CACtB,KAAK,OAAO,SAASA,CAAI,EACzB,MAAME,EAAQ,KAAK,OAAO,cAAc,QAAQF,CAAI,EAChDE,EAAQ,GAGZ,KAAK,OAAO,cAAc,OAAOA,EAAO,CAAC,CAC1C,CACF,CACH,kBA/EQC,EAAA,CAAA,MAAM,mCAAmC,EAW/BC,EAAA,CAAA,MAAM,gBAAgB,sHA7CtCC,EAwDkCC,EAAA,CAvDhC,IAAI,sBACH,MAAOC,EAAM,OAAC,MACd,gBAAeA,EAAM,OAAC,aACtB,YAAaA,EAAM,OAAC,YACpB,KAAMA,EAAM,OAAC,KACb,YAAaA,EAAM,OAAC,YACpB,iBAAgBA,EAAM,OAAC,cACvB,sBAAqBA,EAAM,OAAC,kBAC5B,QAASA,EAAM,OAAC,QAChB,kBAAiBA,EAAM,OAAC,eACxB,YAAWA,EAAM,OAAC,SAClB,iBAAgBA,EAAM,OAAC,cACvB,eAAcA,EAAM,OAAC,YACrB,kBAAiBA,EAAM,OAAC,cACxB,uBAAsBA,EAAM,OAAC,mBAC7B,sBAAqBA,EAAM,OAAC,kBAC5B,wBAAuBA,EAAM,OAAC,oBAC9B,8BAA6BA,EAAM,OAAC,yBACpC,YAAWA,EAAM,OAAC,SAClB,WAAYA,EAAM,OAAC,WACnB,QAAOC,EAAe,gBACtB,SAAQA,EAAgB,iBACxB,SAAQA,EAAgB,iBACxB,cAAcA,EAAqB,0BAQzB,OACT,IAeK,CAfLC,EAeK,KAfLN,EAeK,EAZHO,EAAA,EAAA,EAAAC,EAWeC,EAVO,KAAAC,EAAAC,EAAA,MAAZ,CAAAd,EAAMC,SADhBI,EAWeU,EAAA,CATZ,IAAKf,EAAK,GACX,KAAK,SACL,kBAAgB,aACf,QAAKgB,GAAER,EAAgB,iBAACP,CAAC,IAGf,QACT,IAAmD,CAAnDQ,EAAmD,OAAnDL,EAAgCa,EAAAjB,EAAK,IAAI,EAAA,CAAA,cAF3C,IAAgB,KAAbA,EAAK,KAAK,EAAG,IAChB,CAAA,6CAjBEO,EAAA,OAAO,aACZ,cAED,IAA+B,CAA/BE,EAA+B,OAAA,CAAzB,UAAQF,EAAM,OAAC,oCAqBfA,EAAA,OAAO,aACZ,cAED,IAA+B,CAA/BE,EAA+B,OAAA,CAAzB,UAAQF,EAAM,OAAC;;;;;;;;;;;;;;;;;;;;;;;;;;"}