{"version":3,"file":"contact_row.stories-73a7f9a3.js","sources":["../../recipes/leftbar/contact_row/contact_row.vue","../../recipes/leftbar/contact_row/contact_row_default.story.vue","../../recipes/leftbar/contact_row/contact_row_variants.story.vue"],"sourcesContent":["<template>\n  <dt-recipe-general-row\n    :unread-count=\"unreadCount\"\n    :description=\"contactDescription\"\n    :has-unreads=\"hasUnreads\"\n    :selected=\"selected\"\n    :has-call-button=\"hasCallButton\"\n    :muted=\"muted\"\n    :is-typing=\"isTyping\"\n    :call-button-tooltip=\"callButtonTooltip\"\n    :unread-count-tooltip=\"unreadCountTooltip\"\n    v-bind=\"$attrs\"\n    v-on=\"$listeners\"\n  >\n    <template #left>\n      <dt-avatar\n        size=\"sm\"\n        :seed=\"avatarSeed\"\n        :presence=\"avatarPresence\"\n      >\n        <!-- No alt needed as the name is already mentioned in the description\n          https://dequeuniversity.com/rules/axe/4.4/image-redundant-alt?application=axe-puppeteer -->\n        <img\n          v-if=\"avatarSrc\"\n          data-qa=\"dt-avatar-image\"\n          :src=\"avatarSrc\"\n          alt=\"\"\n        >\n        <template v-else-if=\"noInitials\">\n          <dt-icon\n            name=\"user\"\n            size=\"200\"\n          />\n        </template>\n        <template v-else>\n          {{ avatarInitial }}\n        </template>\n      </dt-avatar>\n    </template>\n    <template #label>\n      <dt-emoji-text-wrapper\n        class=\"dt-leftbar-row__description\"\n        data-qa=\"dt-leftbar-row-description\"\n        size=\"200\"\n      >\n        {{ name }}\n      </dt-emoji-text-wrapper>\n      <div class=\"dt-leftbar-row__status\">\n        <span\n          v-if=\"presenceText\"\n          data-qa=\"dt-leftbar-row-presence-text\"\n          :class=\"['dt-leftbar-row__meta-context', presenceColorClass]\"\n        >\n          {{ presenceText }}\n        </span>\n        <dt-emoji-text-wrapper\n          v-if=\"userStatus\"\n          size=\"100\"\n          element-type=\"span\"\n          data-qa=\"dt-leftbar-row-user-status\"\n          class=\"dt-leftbar-row__meta-custom\"\n        >\n          {{ userStatus }}\n        </dt-emoji-text-wrapper>\n      </div>\n    </template>\n  </dt-recipe-general-row>\n</template>\n\n<script>\nimport { DtRecipeGeneralRow } from '@/recipes/leftbar/general_row';\nimport DtEmojiTextWrapper from '@/components/emoji_text_wrapper/emoji_text_wrapper.vue';\nimport DtAvatar from '@/components/avatar/avatar.vue';\nimport DtIcon from '@/components/icon/icon.vue';\nimport { safeConcatStrings } from '@/common/utils.js';\n\nexport default {\n  name: 'DtRecipeGroupRow',\n\n  components: {\n    DtAvatar,\n    DtIcon,\n    DtRecipeGeneralRow,\n    DtEmojiTextWrapper,\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    /**\n     * Optional avatar image url.\n     * If not provided it will use the initial of the name.\n     */\n    avatarSrc: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * Determines whether to show the presence indicator for\n     * Avatar - accepts PRESENCE_STATES values: 'busy', 'away', 'offline',\n     * or 'active'. By default, it's null and nothing is shown.\n     * defer validation to avatar component.\n     * @values null, busy, away, offline, active\n     */\n    avatarPresence: {\n      type: String,\n      default: null,\n    },\n\n    /**\n     * Avatar seed, set this to the user's ID to get the same avatar background gradient each time it is displayed.\n     */\n    avatarSeed: {\n      type: String,\n      default: null,\n    },\n\n    /**\n     * Text describing the user's presence, such as \"in a meeting\"\n     */\n    presenceText: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * Name of the contact\n     */\n    name: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * Status as set by the user.\n     */\n    userStatus: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * Gives a faded style to be used when muted\n     */\n    muted: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Number of unread messages\n     */\n    unreadCount: {\n      type: String,\n      default: null,\n    },\n\n    /**\n     * Styles the row with an increased font weight to convey it has unreads. This must be true to see\n     * the unread count badge.\n     */\n    hasUnreads: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Determines if the row is selected\n     */\n    selected: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Initials will never be shown. Instead it will show a \"User\" icon.\n     */\n    noInitials: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Shows an \"is typing\" animation over the avatar when true.\n     */\n    isTyping: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Whether the contact row should display a call button when hovered.\n     */\n    hasCallButton: {\n      type: Boolean,\n      default: true,\n    },\n\n    /**\n     * Text shown when the call button is hovered.\n     */\n    callButtonTooltip: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * Text shown when the unread count is hovered.\n     */\n    unreadCountTooltip: {\n      type: String,\n      default: '',\n    },\n  },\n\n  emits: [\n    /**\n     * Native click event on the row itself\n     *\n     * @event click\n     * @type {PointerEvent | KeyboardEvent}\n     */\n    'click',\n\n    /**\n     * Call button clicked\n     *\n     * @event call\n     * @type {PointerEvent | KeyboardEvent}\n     */\n    'call',\n  ],\n\n  computed: {\n    presenceColorClass () {\n      switch (this.avatarPresence) {\n        case 'active':\n          return 'd-fc-success';\n        case 'busy':\n          return 'd-fc-critical';\n        case 'away':\n          return 'd-fc-warning';\n        default:\n          return undefined;\n      }\n    },\n\n    avatarInitial () {\n      return this.name?.[0] ?? '';\n    },\n\n    contactDescription () {\n      return safeConcatStrings([this.name, this.presenceText, this.userStatus]);\n    },\n  },\n};\n</script>\n","<template>\n  <dt-recipe-contact-row\n    :name=\"name\"\n    :avatar-src=\"avatarSrc\"\n    :avatar-presence=\"avatarPresence\"\n    :avatar-seed=\"avatarSeed\"\n    :presence-text=\"presenceText\"\n    :unread-count=\"unreadCount\"\n    :unread-count-tooltip=\"unreadCountTooltip\"\n    :user-status=\"userStatus\"\n    :has-unreads=\"hasUnreads\"\n    :muted=\"muted\"\n    :selected=\"selected\"\n    :no-initials=\"noInitials\"\n    :is-typing=\"isTyping\"\n    :has-call-button=\"hasCallButton\"\n    :call-button-tooltip=\"callButtonTooltip\"\n    @click=\"onClick\"\n    @call=\"onCall\"\n  />\n</template>\n\n<script>\nimport DtRecipeContactRow from './contact_row.vue';\n\nexport default {\n  name: 'DtRecipeContactRowDefault',\n  components: { DtRecipeContactRow },\n};\n</script>\n","<template>\n  <dt-stack gap=\"600\">\n    <div>\n      <h3>\n        With user status\n      </h3>\n      <dt-recipe-contact-row\n        name=\"Jaqueline Nackos\"\n        avatar-presence=\"active\"\n        :avatar-src=\"defaultImage\"\n        user-status=\"Good Morning! :smile:\"\n        call-button-tooltip=\"Call\"\n      />\n    </div>\n    <div>\n      <h3>\n        with away presence\n      </h3>\n      <dt-recipe-contact-row\n        name=\"Jaqueline Nackos\"\n        avatar-presence=\"away\"\n        presence-text=\"Away\"\n        user-status=\"Out for a bit\"\n        :avatar-src=\"defaultImage\"\n        call-button-tooltip=\"Call\"\n      />\n    </div>\n    <div>\n      <h3>\n        with busy presence\n      </h3>\n      <dt-recipe-contact-row\n        name=\"Jaqueline Nackos\"\n        avatar-presence=\"busy\"\n        presence-text=\"In a meeting\"\n        user-status=\"Meetings all day\"\n        :avatar-src=\"defaultImage\"\n        call-button-tooltip=\"Call\"\n      />\n    </div>\n    <div>\n      <h3>\n        With unread count\n      </h3>\n      <dt-recipe-contact-row\n        name=\"Jaqueline Nackos\"\n        avatar-presence=\"active\"\n        :avatar-src=\"defaultImage\"\n        unread-count=\"5\"\n        unread-count-tooltip=\"55 unread messages\"\n        :has-unreads=\"true\"\n        call-button-tooltip=\"Call\"\n      />\n    </div>\n    <div>\n      <h3>\n        Selected\n      </h3>\n      <dt-recipe-contact-row\n        name=\"Jaqueline Nackos\"\n        avatar-presence=\"active\"\n        :avatar-src=\"defaultImage\"\n        :selected=\"true\"\n        call-button-tooltip=\"Call\"\n      />\n    </div>\n    <div>\n      <h3>\n        With initial\n      </h3>\n      <dt-recipe-contact-row\n        name=\"Jaqueline Nackos\"\n        avatar-presence=\"active\"\n        call-button-tooltip=\"Call\"\n      />\n    </div>\n  </dt-stack>\n</template>\n\n<script>\nimport DtRecipeContactRow from './contact_row.vue';\nimport { DtStack } from '@/components/stack';\nimport defaultImage from '@/common/assets/person.png';\n\nexport default {\n  name: 'DtRecipeContactRowVariants',\n  components: { DtRecipeContactRow, DtStack },\n  data () {\n    return {\n      defaultImage,\n    };\n  },\n};\n</script>\n"],"names":["_sfc_main","DtAvatar","DtIcon","DtRecipeGeneralRow","DtEmojiTextWrapper","_a","safeConcatStrings","DtRecipeContactRow","DtStack","defaultImage"],"mappings":"0aA4EA,MAAAA,EAAA,CACA,KAAA,mBAEA,WAAA,CACA,SAAAC,EACA,OAAAC,EACA,mBAAAC,EACA,mBAAAC,CACA,EAEA,aAAA,GAEA,MAAA,CAKA,UAAA,CACA,KAAA,OACA,QAAA,EACA,EASA,eAAA,CACA,KAAA,OACA,QAAA,IACA,EAKA,WAAA,CACA,KAAA,OACA,QAAA,IACA,EAKA,aAAA,CACA,KAAA,OACA,QAAA,EACA,EAKA,KAAA,CACA,KAAA,OACA,SAAA,EACA,EAKA,WAAA,CACA,KAAA,OACA,QAAA,EACA,EAKA,MAAA,CACA,KAAA,QACA,QAAA,EACA,EAKA,YAAA,CACA,KAAA,OACA,QAAA,IACA,EAMA,WAAA,CACA,KAAA,QACA,QAAA,EACA,EAKA,SAAA,CACA,KAAA,QACA,QAAA,EACA,EAKA,WAAA,CACA,KAAA,QACA,QAAA,EACA,EAKA,SAAA,CACA,KAAA,QACA,QAAA,EACA,EAKA,cAAA,CACA,KAAA,QACA,QAAA,EACA,EAKA,kBAAA,CACA,KAAA,OACA,QAAA,EACA,EAKA,mBAAA,CACA,KAAA,OACA,QAAA,EACA,CACA,EAEA,MAAA,CAOA,QAQA,MACA,EAEA,SAAA,CACA,oBAAA,CACA,OAAA,KAAA,eAAA,CACA,IAAA,SACA,MAAA,eACA,IAAA,OACA,MAAA,gBACA,IAAA,OACA,MAAA,eACA,QACA,MACA,CACA,EAEA,eAAA,OACA,QAAAC,EAAA,KAAA,OAAA,YAAAA,EAAA,KAAA,EACA,EAEA,oBAAA,CACA,OAAAC,EAAA,CAAA,KAAA,KAAA,KAAA,aAAA,KAAA,UAAA,CAAA,CACA,CACA,CACA;;;;;mwCCvOA,MAAAN,EAAA,CACA,KAAA,4BACA,WAAA,CAAA,mBAAAO,CAAA,CACA,w8BCwDA,MAAAP,EAAA,CACA,KAAA,6BACA,WAAA,CAAA,mBAAAO,EAAA,QAAAC,CAAA,EACA,MAAA,CACA,MAAA,CACA,aAAAC,CACA,CACA,CACA;;;;;;;;;;;;;"}