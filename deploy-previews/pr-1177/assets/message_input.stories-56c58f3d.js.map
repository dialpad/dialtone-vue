{"version":3,"file":"message_input.stories-56c58f3d.js","sources":["../../recipes/conversation_view/message_input/message_input.vue","../../recipes/conversation_view/message_input/message_input_default.story.vue"],"sourcesContent":["<template>\n  <dt-notice\n    v-if=\"showNotice\"\n    data-qa=\"dt-message-input-error-notice\"\n    :class=\"noticeClasses\"\n    :kind=\"noticeKind\"\n    :close-button-props=\"computedCloseButtonProps\"\n    @close=\"noticeClose\"\n  >\n    {{ noticeMessage }}\n    <template #icon>\n      <dt-icon\n        size=\"300\"\n        name=\"alert-circle\"\n      />\n    </template>\n  </dt-notice>\n  <div\n    class=\"d-ps-relative d-bar8 d-bgc-white\"\n  >\n    <div\n      data-qa=\"dt-message-input\"\n      role=\"presentation\"\n      class=\"d-d-flex d-fd-column d-bar8 d-baw1 d-ba d-c-text\"\n      :class=\"{ 'd-bc-black-500 d-bs-sm': hasFocus, 'd-bc-default': !hasFocus }\"\n      @click=\"$refs.richTextEditor.focusEditor()\"\n      @drag-enter=\"onDrag\"\n      @drag-over=\"onDrag\"\n      @drop=\"onDrop\"\n      @keydown.enter.exact=\"onSend\"\n      @focusin=\"hasFocus = true\"\n      @focusout=\"hasFocus = false\"\n    >\n      <!-- Some wrapper to restrict the height and show the scrollbar -->\n      <div class=\"d-of-auto d-mx16 d-mt8 d-mb4 d-hmx40p\">\n        <dt-rich-text-editor\n          ref=\"richTextEditor\"\n          v-model=\"internalInputValue\"\n          :editable=\"editable\"\n          :input-aria-label=\"inputAriaLabel\"\n          :input-class=\"inputClass\"\n          :output-format=\"outputFormat\"\n          :auto-focus=\"autoFocus\"\n          :link=\"link\"\n          :placeholder=\"placeholder\"\n          v-bind=\"$attrs\"\n          @focus=\"hasFocus = true\"\n          @blur=\"hasFocus = false\"\n        />\n      </div>\n      <!-- @slot Slot for attachment carousel -->\n      <slot name=\"middle\" />\n      <!-- Section for the bottom UI -->\n      <section class=\"d-d-flex d-jc-space-between d-mx8 d-my4\">\n        <!-- Left content -->\n        <div class=\"d-d-flex\">\n          <dt-tooltip\n            placement=\"top-start\"\n            :message=\"imageTooltipLabel\"\n            :offset=\"[-4, -4]\"\n          >\n            <template #anchor>\n              <dt-button\n                data-qa=\"dt-message-input-image-btn\"\n                size=\"sm\"\n                circle\n                :kind=\"imagePickerFocus ? 'default' : 'muted'\"\n                importance=\"clear\"\n                :aria-label=\"imageButtonAriaLabel\"\n                @click=\"onSelectImage\"\n                @mouseenter=\"imagePickerFocus = true\"\n                @mouseleave=\"imagePickerFocus = false\"\n                @focusin=\"imagePickerFocus = true\"\n                @focusout=\"imagePickerFocus = false\"\n              >\n                <template #icon>\n                  <dt-icon\n                    name=\"image\"\n                    size=\"300\"\n                  />\n                </template>\n              </dt-button>\n              <dt-input\n                ref=\"messageInputImageUpload\"\n                data-qa=\"dt-message-input-image-input\"\n                type=\"file\"\n                class=\"d-ps-absolute\"\n                multiple\n                hidden\n                @input=\"onImageUpload\"\n              />\n            </template>\n          </dt-tooltip>\n          <dt-popover\n            data-qa=\"dt-message-input-emoji-picker-popover\"\n            :open=\"emojiPickerOpened\"\n            initial-focus-element=\"#searchInput\"\n            padding=\"none\"\n            @opened=\"(open) => { emojiPickerOpened = open }\"\n          >\n            <template #anchor>\n              <dt-tooltip\n                :message=\"emojiTooltipMessage\"\n                :offset=\"[0, -4]\"\n              >\n                <template #anchor>\n                  <dt-button\n                    data-qa=\"dt-message-input-emoji-picker-btn\"\n                    size=\"sm\"\n                    circle\n                    :kind=\"emojiPickerHovered ? 'default' : 'muted'\"\n                    importance=\"clear\"\n                    :aria-label=\"emojiButtonAriaLabel\"\n                    :offset=\"[0, 0]\"\n                    @click=\"toggleEmojiPicker\"\n                    @mouseenter=\"emojiPickerFocus = true\"\n                    @mouseleave=\"emojiPickerFocus = false\"\n                    @focusin=\"emojiPickerFocus = true\"\n                    @focusout=\"emojiPickerFocus = false\"\n                  >\n                    <template #icon>\n                      <dt-icon\n                        :name=\"!emojiPickerHovered ? 'satisfied' : 'very-satisfied'\"\n                        size=\"300\"\n                      />\n                    </template>\n                  </dt-button>\n                </template>\n              </dt-tooltip>\n            </template>\n            <template #content>\n              <dt-emoji-picker\n                :tab-set-labels=\"emojiTabSetLabels\"\n                :skin-selector-button-tooltip-label=\"emojiSkinSelectorButtonTooltipLabel\"\n                :search-no-results-label=\"emojiSearchNoResultsLabel\"\n                :search-results-label=\"emojiSearchResultsLabel\"\n                :search-placeholder-label=\"emojiSearchPlaceholderLabel\"\n                :skin-tone=\"skinTone\"\n                @skin-tone=\"skinTone = $event\"\n                @selected-emoji=\"onSelectEmoji\"\n              />\n            </template>\n          </dt-popover>\n        </div>\n        <!-- Right content -->\n        <div class=\"d-d-flex\">\n          <!-- Optionally displayed remaining character counter -->\n          <p\n            v-if=\"displayCharacterLimitWarning\"\n            class=\"d-fc-error d-mr16 d-as-center dt-message-input--remaining-char\"\n            data-qa=\"dt-message-input-character-limit\"\n          >\n            {{ characterLimitCount - inputLength }}\n          </p>\n          <dt-tooltip\n            placement=\"top-end\"\n            :message=\"sendTooltipLabel\"\n            :show=\"!isSendDisabled && sendButtonFocus\"\n            :offset=\"[6, -4]\"\n          >\n            <template #anchor>\n              <!-- Right positioned UI - send button -->\n              <dt-button\n                data-qa=\"dt-message-input-send-btn\"\n                size=\"sm\"\n                :kind=\"!isSendDisabled ? 'default' : 'muted'\"\n                circle\n                importance=\"primary\"\n                :class=\"{\n                  'message-input-button__disabled d-fc-muted': isSendDisabled,\n                }\"\n                :aria-label=\"sendButtonAriaLabel\"\n                :aria-disabled=\"isSendDisabled\"\n                @click=\"onSend\"\n                @mouseenter=\"sendButtonFocus = true\"\n                @mouseleave=\"sendButtonFocus = false\"\n                @focusin=\"sendButtonFocus = true\"\n                @focusout=\"sendButtonFocus = false\"\n              >\n                <template #icon>\n                  <dt-icon\n                    name=\"send\"\n                    size=\"300\"\n                  />\n                </template>\n              </dt-button>\n            </template>\n          </dt-tooltip>\n        </div>\n      </section>\n    </div>\n    <section class=\"d-d-flex d-jc-space-between d-h24 d-ai-center\">\n      <div\n        data-qa=\"dt-message-input-footer-left\"\n      >\n        <!-- @slot Slot for helper text. Who is typing can go here -->\n        <slot name=\"footerLeft\" />\n      </div>\n      <div\n        data-qa=\"dt-message-input-footer-right\"\n      >\n        <!-- @slot helper text for the input. Shift + enter for new line -->\n        <slot name=\"footerRight\" />\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\n/* eslint-disable max-lines */\nimport {\n  DtRichTextEditor,\n  RICH_TEXT_EDITOR_OUTPUT_FORMATS,\n  RICH_TEXT_EDITOR_AUTOFOCUS_TYPES,\n} from '@/components/rich_text_editor';\nimport { DtButton } from '@/components/button';\nimport { DtIcon } from '@/components/icon';\nimport { DtEmojiPicker } from '@/components/emoji_picker';\nimport { DtPopover } from '@/components/popover/index';\nimport { DtInput } from '@/components/input/index';\nimport { DtNotice } from '@/components/notice/index';\nimport { NOTICE_KINDS } from '@/components/notice/notice_constants';\nimport { DtTooltip } from '@/components/tooltip/index';\n\nexport default {\n  name: 'DtRecipeMessageInput',\n\n  components: {\n    DtButton,\n    DtEmojiPicker,\n    DtIcon,\n    DtInput,\n    DtNotice,\n    DtPopover,\n    DtRichTextEditor,\n    DtTooltip,\n  },\n\n  mixins: [],\n\n  inheritAttrs: false,\n\n  props: {\n    /**\n     * Value of the input. The object format should match TipTap's JSON\n     * document structure: https://tiptap.dev/guide/output#option-1-json\n     */\n    modelValue: {\n      type: [Object, String],\n      default: '',\n    },\n\n    /**\n     * Whether the input is editable\n     */\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n\n    /**\n     * Descriptive label for the input element\n     */\n    inputAriaLabel: {\n      type: String,\n      required: true,\n      default: '',\n    },\n\n    /**\n     * Additional class name for the input element. Only accepts a String value\n     * because this is passed to the editor via options. For multiple classes,\n     * join them into one string, e.g. \"d-p8 d-hmx96\"\n     */\n    inputClass: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * Whether the input should receive focus after the component has been\n     * mounted. Either one of `start`, `end`, `all` or a Boolean or a Number.\n     * - `start`  Sets the focus to the beginning of the input\n     * - `end`    Sets the focus to the end of the input\n     * - `all`    Selects the whole contents of the input\n     * - `Number` Sets the focus to a specific position in the input\n     * - `true`   Defaults to `start`\n     * - `false`  Disables autofocus\n     * @values true, false, start, end, all, number\n     */\n    autoFocus: {\n      type: [Boolean, String, Number],\n      default: false,\n      validator (autoFocus) {\n        if (typeof autoFocus === 'string') {\n          return RICH_TEXT_EDITOR_AUTOFOCUS_TYPES.includes(autoFocus);\n        }\n        return true;\n      },\n    },\n\n    /**\n     * The output format that the editor uses when emitting the \"@input\" event.\n     * One of `text`, `json`, `html`. See https://tiptap.dev/guide/output for\n     * examples.\n     * @values text, json, html\n     */\n    outputFormat: {\n      type: String,\n      default: 'text',\n      validator (outputFormat) {\n        return RICH_TEXT_EDITOR_OUTPUT_FORMATS.includes(outputFormat);\n      },\n    },\n\n    /**\n     * Enables the Link extension and optionally passes configurations to it\n     */\n    link: {\n      type: [Boolean, Object],\n      default: false,\n    },\n\n    /**\n     * Placeholder text\n     */\n    placeholder: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * Disable Send Button\n     */\n    disableSend: {\n      type: Boolean,\n      default: false,\n    },\n\n    // Character limit props\n\n    /**\n     * Enable character Limit warning\n     */\n    hasCharacterLimit: {\n      type: Boolean,\n      default: true,\n    },\n\n    /**\n     * Max number of characters allowed\n     */\n    characterLimitCount: {\n      type: Number,\n      default: 1500,\n    },\n\n    /**\n     * Number after which warning for max limit appears\n     */\n    characterLimitWarning: {\n      type: Number,\n      default: 500,\n    },\n\n    // Error related props\n\n    /**\n     * Show error notice\n     * This should be turned to false after notice-close event is fired.\n     */\n    showNotice: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * message in the notice\n     */\n    noticeMessage: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * kind of notice to manage color\n     * @values base, error, info, success, warning\n     */\n    noticeKind: {\n      type: String,\n      default: 'error',\n      validate (kind) {\n        return NOTICE_KINDS.includes(kind);\n      },\n    },\n\n    // Emoji picker props\n\n    /**\n     * tab labels for emoji\n     */\n    emojiTabSetLabels: {\n      type: Array,\n      default: () => [\n        'Most recently used',\n        'Smileys and people',\n        'Nature',\n        'Food',\n        'Activity',\n        'Travel',\n        'Objects',\n        'Symbols',\n        'Flags',\n      ],\n    },\n\n    emojiSkinSelectorButtonTooltipLabel: {\n      type: String,\n      default: 'Change default skin tone',\n    },\n\n    emojiSearchNoResultsLabel: {\n      type: String,\n      default: 'No results',\n    },\n\n    emojiSearchResultsLabel: {\n      type: String,\n      default: 'Search results',\n    },\n\n    emojiSearchPlaceholderLabel: {\n      type: String,\n      default: 'Search...',\n    },\n\n    /**\n     * Emoji button tooltip label\n     */\n    emojiTooltipMessage: {\n      type: String,\n      default: 'Emoji',\n    },\n\n    // Aria label for buttons\n\n    /**\n     * Emoji button aria label\n     */\n    emojiButtonAriaLabel: {\n      type: String,\n      default: 'emoji button',\n    },\n\n    imageButtonAriaLabel: {\n      type: String,\n      default: 'image button',\n    },\n\n    /**\n     * Image button tooltip label\n     */\n    imageTooltipLabel: {\n      type: String,\n      default: 'Attach Image',\n    },\n\n    sendButtonAriaLabel: {\n      type: String,\n      default: 'send button',\n    },\n\n    /**\n     * Send button tooltip label\n     */\n    sendTooltipLabel: {\n      type: String,\n      default: 'Send',\n    },\n  },\n\n  emits: [\n    /**\n     * Fires when send button is clicked\n     *\n     * @event submit\n     * @type {String}\n     */\n    'submit',\n\n    /**\n     * Fires when media is selected from image button\n     *\n     * @event select-media\n     * @type {Array}\n     */\n    'select-media',\n\n    /**\n     * Fires when media is dropped into the message input\n     *\n     * @event add-media\n     * @type {Array}\n     */\n    'add-media',\n\n    /**\n     * Fires when notice is closed by user.\n     * Listen to this event to toggle showNotice on usage.\n     *\n     * @event notice-close\n     * @type {Boolean}\n     */\n    'notice-close',\n  ],\n\n  data () {\n    return {\n      skinTone: 'Default',\n      internalInputValue: this.modelValue, // internal input content\n      hasFocus: false,\n      imagePickerFocus: false,\n      emojiPickerFocus: false,\n      sendButtonFocus: false,\n      emojiPickerOpened: false,\n    };\n  },\n\n  computed: {\n    inputLength () {\n      return this.internalInputValue.length;\n    },\n\n    displayCharacterLimitWarning () {\n      return this.hasCharacterLimit &&\n        (this.characterLimitCount - this.inputLength) <= this.characterLimitWarning;\n    },\n\n    isSendDisabled () {\n      return this.inputLength === 0 ||\n      this.disableSend ||\n      (this.hasCharacterLimit && this.inputLength > this.characterLimitCount);\n    },\n\n    computedCloseButtonProps () {\n      return {\n        ariaLabel: 'Close',\n      };\n    },\n\n    noticeClasses () {\n      return [\n        'dt-message-input-notice',\n        'd-ps-relative',\n        'd-t8',\n        'd-bbr0',\n        'd-pt4',\n        'd-pb8',\n        'd-pr12',\n        'd-pl16',\n        'd-bs-none',\n        'd-fs-100',\n        'd-wmx-unset',\n      ];\n    },\n\n    emojiPickerHovered () {\n      return this.emojiPickerFocus || this.emojiPickerOpened;\n    },\n  },\n\n  watch: {\n    modelValue (newValue) {\n      this.internalInputValue = newValue;\n    },\n  },\n\n  methods: {\n    onDrag (e) {\n      e.stopPropagation();\n      e.preventDefault();\n    },\n\n    onDrop (e) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      const dt = e.dataTransfer;\n      const files = Array.from(dt.files);\n      const fileNames = files.map(file => file.name);\n      this.$emit('add-media', fileNames);\n    },\n\n    onSelectEmoji (emoji) {\n      if (!emoji) {\n        this.emojiPickerOpened = false;\n        return;\n      }\n\n      this.internalInputValue = this.internalInputValue + emoji.shortname;\n      this.emojiPickerOpened = false;\n    },\n\n    onSelectImage () {\n      this.$refs.messageInputImageUpload.$refs.input.click();\n    },\n\n    onImageUpload (val) {\n      this.$emit('select-media', val);\n    },\n\n    toggleEmojiPicker () {\n      this.emojiPickerOpened = !this.emojiPickerOpened;\n    },\n\n    onSend () {\n      if (this.isSendDisabled) {\n        return;\n      }\n      this.$emit('submit', this.internalInputValue);\n    },\n\n    noticeClose () {\n      this.$emit('notice-close', true);\n    },\n\n    focus () {\n      this.$refs.richTextEditor.focusEditor();\n      this.hasFocus = true;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.dt-message-input--remaining-char {\n  font-size: 1.2rem;\n}\n\n.message-input-button__disabled {\n  background-color: unset;\n  color: var(--theme-sidebar-icon-color);\n  cursor: default;\n}\n\n.dt-message-input-notice .d-notice__icon {\n  margin-right: 8px;\n}\n</style>\n","<template>\n  <div class=\"d-h264\">\n    <dt-recipe-message-input\n      ref=\"input\"\n      v-model:show-notice=\"$attrs.showNotice\"\n      v-model=\"$attrs.modelValue\"\n      :input-aria-label=\"$attrs.inputAriaLabel\"\n      :auto-focus=\"$attrs.autoFocus\"\n      :editable=\"$attrs.editable\"\n      :input-class=\"$attrs.inputClass\"\n      :link=\"$attrs.link\"\n      :output-format=\"$attrs.outputFormat\"\n      :placeholder=\"$attrs.placeholder\"\n      :disable-send=\"$attrs.disableSend\"\n      :has-character-limit=\"$attrs.hasCharacterLimit\"\n      :character-limit-count=\"$attrs.characterLimitCount\"\n      :character-limit-warning=\"$attrs.characterLimitWarning\"\n      :notice-kind=\"$attrs.noticeKind\"\n      :notice-message=\"$attrs.noticeMessage\"\n      :emoji-tab-set-labels=\"$attrs.emojiTabSetLabels\"\n      :emoji-skin-selector-button-tooltip-label=\"$attrs.emojiSkinSelectorButtonTooltipLabel\"\n      :emoji-search-no-results-label=\"$attrs.emojiSearchNoResultsLabel\"\n      :emoji-search-results-label=\"$attrs.emojiSearchResultsLabel\"\n      :emoji-search-placeholder-label=\"$attrs.emojiSearchPlaceholderLabel\"\n      :send-button-aria-label=\"$attrs.sendButtonAriaLabel\"\n      :emoji-button-aria-label=\"$attrs.emojiButtonAriaLabel\"\n      :image-button-aria-label=\"$attrs.imageButtonAriaLabel\"\n      @submit=\"$attrs.onSubmit\"\n      @focus=\"$attrs.onFocus\"\n      @blur=\"$attrs.onBlur\"\n      @input=\"$attrs.onInput\"\n      @select-media=\"$attrs.onSelectMedia\"\n      @add-media=\"$attrs.onAddMedia\"\n      @notice-close=\"$attrs.onNoticeClose\"\n    >\n      <template\n        #footerLeft\n      >\n        <div class=\"d-body-small d-fc-muted\">\n          <b>Dwight</b> is typing...\n        </div>\n      </template>\n      <template\n        #footerRight\n      >\n        <div class=\"d-body-small d-fc-tertiary\">\n          <b>Shift</b> + <b>Return</b> to add a new line\n        </div>\n      </template>\n    </dt-recipe-message-input>\n  </div>\n  <button @click=\"$refs.input.focus()\">\n    focus test\n  </button>\n</template>\n\n<script>\nimport DtRecipeMessageInput from './message_input.vue';\n\nexport default {\n  name: 'DtRecipeMessageInputDefault',\n  components: { DtRecipeMessageInput },\n};\n</script>\n"],"names":["_sfc_main","DtButton","DtEmojiPicker","DtIcon","DtInput","DtNotice","DtPopover","DtRichTextEditor","DtTooltip","autoFocus","RICH_TEXT_EDITOR_AUTOFOCUS_TYPES","outputFormat","RICH_TEXT_EDITOR_OUTPUT_FORMATS","kind","NOTICE_KINDS","newValue","dt","fileNames","file","emoji","val","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_7","_hoisted_8","_hoisted_9","$props","_createBlock","_component_dt_notice","$options","_createVNode","_component_dt_icon","_createTextVNode","_toDisplayString","_createElementVNode","_normalizeClass","$data","_cache","$event","_ctx","args","_createCommentVNode","_component_dt_rich_text_editor","_mergeProps","_renderSlot","_component_dt_tooltip","_component_dt_button","_component_dt_input","_component_dt_popover","open","_component_dt_emoji_picker","_openBlock","_createElementBlock","_hoisted_6","DtRecipeMessageInput","_component_dt_recipe_message_input"],"mappings":"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"}