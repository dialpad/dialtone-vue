{"version":3,"file":"pagination-bSb0TcQE.js","sources":["../../components/pagination/pagination.vue"],"sourcesContent":["<template>\n  <nav\n    :aria-label=\"ariaLabel\"\n    class=\"d-d-flex d-fd-row d-gg4 d-ai-center\"\n  >\n    <dt-button\n      class=\"d-px8\"\n      data-qa=\"dt-pagination-prev\"\n      :aria-label=\"prevAriaLabel\"\n      :kind=\"isFirstPage ? 'default' : 'muted'\"\n      :importance=\"isFirstPage ? 'primary' : 'clear'\"\n      :disabled=\"isFirstPage\"\n      :class=\"isFirstPage ? 'd-fc-black-300 d-bgc-transparent' : 'd-fc-tertiary'\"\n      @click=\"changePage(currentPage - 1)\"\n    >\n      <template #icon>\n        <dt-icon\n          name=\"chevron-left\"\n          size=\"300\"\n        />\n      </template>\n    </dt-button>\n    <div\n      v-for=\"(page, index) in pages\"\n      :key=\"`page-${page}-${index}`\"\n      :class=\"{ 'd-as-flex-end': isNaN(Number(page)) }\"\n    >\n      <!-- eslint-disable vue/no-bare-strings-in-template -->\n      <div\n        v-if=\"isNaN(Number(page))\"\n        class=\"d-fc-tertiary d-w24 d-ta-center\"\n        data-qa=\"dt-pagination-separator\"\n      >\n        <dt-icon\n          name=\"more-horizontal\"\n          size=\"300\"\n        />\n        <!-- â€¦ -->\n      </div>\n      <!-- eslint-enable vue/no-bare-strings-in-template -->\n      <dt-button\n        v-else\n        :aria-label=\"pageNumberAriaLabel(page)\"\n        :kind=\"currentPage === page ? 'default' : 'muted'\"\n        :importance=\"currentPage === page ? 'primary' : 'clear'\"\n        label-class=\"\"\n        @click=\"changePage(page)\"\n      >\n        {{ page }}\n      </dt-button>\n    </div>\n    <dt-button\n      class=\"d-px8\"\n      data-qa=\"dt-pagination-next\"\n      :aria-label=\"nextAriaLabel\"\n      :disabled=\"isLastPage\"\n      kind=\"muted\"\n      :importance=\"isLastPage ? 'primary' : 'clear'\"\n      :class=\"isLastPage ? 'd-fc-black-300 d-bgc-transparent' : 'd-fc-tertiary'\"\n      @click=\"changePage(currentPage + 1)\"\n    >\n      <template #icon>\n        <dt-icon\n          name=\"chevron-right\"\n          size=\"300\"\n        />\n      </template>\n    </dt-button>\n  </nav>\n</template>\n\n<script>\nimport { DtButton } from '@/components/button';\nimport { DtIcon } from '@/components/icon';\n\n/**\n * Pagination allows you to divide large amounts of content into smaller chunks across multiple pages.\n * @see https://dialpad.design/components/pagination.html\n */\nexport default {\n  name: 'DtPagination',\n\n  components: {\n    DtButton,\n    DtIcon,\n  },\n\n  props: {\n    /**\n     * Descriptive label for the pagination content.\n     */\n    ariaLabel: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * The total number of the pages\n     */\n    totalPages: {\n      type: Number,\n      required: true,\n    },\n\n    /**\n     * Descriptive label for the previous button.\n     */\n    prevAriaLabel: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * Descriptive label for the next button.\n     */\n    nextAriaLabel: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * A method that will be called to get the aria label of each page.\n     */\n    pageNumberAriaLabel: {\n      type: Function,\n      required: true,\n    },\n\n    /**\n     * The active current page in the list of pages, defaults to the first page\n     */\n    activePage: {\n      type: Number,\n      default: 1,\n    },\n\n    /**\n     * Determines the max pages to be shown in the list. Using an odd number is recommended.\n     * If an even number is given, then it will be rounded down to the nearest odd number to always\n     * keep current page in the middle when current page is in the mid-range.\n     */\n    maxVisible: {\n      type: Number,\n      default: 5,\n    },\n  },\n\n  emits: [\n    /**\n     * Page change event\n     *\n     * @event change\n     * @type {Number}\n     */\n    'change',\n  ],\n\n  data () {\n    return {\n      currentPage: this.activePage,\n    };\n  },\n\n  computed: {\n    isFirstPage () {\n      return this.currentPage === 1;\n    },\n\n    isLastPage () {\n      return this.currentPage === this.totalPages;\n    },\n\n    pages () {\n      if (this.maxVisible === 0) {\n        return [];\n      }\n      if (this.totalPages <= this.maxVisible) {\n        return this.range(1, this.totalPages);\n      }\n\n      const start = this.maxVisible - 1;\n      const end = this.totalPages - start + 1;\n\n      if (this.currentPage < start) {\n        return [...this.range(1, start), '...', this.totalPages];\n      }\n\n      if (this.currentPage > end) {\n        return [1, '...', ...this.range(end, this.totalPages)];\n      }\n\n      // rounding to the nearest odd according to the maxlength to always show the page number in the middle.\n      const total = this.maxVisible - (3 - this.maxVisible % 2);\n      const centerIndex = Math.floor(total / 2);\n      const left = this.currentPage - centerIndex;\n      const right = this.currentPage + centerIndex;\n      return [1, '...', ...this.range(left, right), '...', this.totalPages];\n    },\n  },\n\n  methods: {\n    range (from, to) {\n      const range = [];\n      from = from > 0 ? from : 1;\n      for (let i = from; i <= to; i++) {\n        range.push(i);\n      }\n      return range;\n    },\n\n    changePage (page) {\n      this.currentPage = page;\n      this.$emit('change', this.currentPage);\n    },\n  },\n};\n</script>\n"],"names":["_sfc_main","DtButton","DtIcon","start","end","total","centerIndex","left","right","from","to","range","page","_createElementBlock","$props","_createVNode","_component_dt_button","_normalizeClass","$options","_cache","$event","$data","_component_dt_icon","_openBlock","_Fragment","_renderList","index","_createCommentVNode","_hoisted_2"],"mappings":"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"}