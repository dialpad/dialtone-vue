{"version":3,"file":"banner.stories-705526d2.js","sources":["../../components/banner/banner.vue","../../components/banner/banner_default.story.vue","../../docs/assets/dialpad-gradient.png"],"sourcesContent":["<!-- eslint-disable vuejs-accessibility/no-static-element-interactions -->\n<template>\n  <aside\n    :class=\"bannerClass\"\n    :style=\"bannerBackgroundImage\"\n    @keydown.tab=\"trapFocus\"\n  >\n    <div\n      class=\"d-banner__dialog\"\n      :class=\"dialogClass\"\n      :role=\"role\"\n      :aria-labelledby=\"titleId\"\n      :aria-describedby=\"contentId\"\n    >\n      <dt-notice-icon\n        v-if=\"!hideIcon\"\n        :kind=\"kind\"\n      >\n        <!-- @slot Slot for custom icon -->\n        <slot name=\"icon\" />\n      </dt-notice-icon>\n      <dt-notice-content\n        :title-id=\"titleId\"\n        :content-id=\"contentId\"\n        :title=\"title\"\n      >\n        <template #titleOverride>\n          <!-- eslint-disable-next-line max-len -->\n          <!-- @slot Allows you to override the title, only use this if you need to override with something other than text. Otherwise use the \"title\" prop. -->\n          <slot name=\"titleOverride\" />\n        </template>\n        <!-- @slot the main textual content of the banner -->\n        <slot />\n      </dt-notice-content>\n      <dt-notice-action\n        :hide-close=\"hideClose\"\n        :close-button-props=\"closeButtonProps\"\n        :visually-hidden-close=\"visuallyHiddenClose\"\n        :visually-hidden-close-label=\"visuallyHiddenCloseLabel\"\n        @close=\"$emit('close')\"\n      >\n        <!-- @slot Enter a possible action for the user to take, such as a link to another page -->\n        <slot name=\"action\" />\n      </dt-notice-action>\n    </div>\n  </aside>\n</template>\n\n<script>\nimport DtNoticeIcon from '../notice/notice_icon.vue';\nimport DtNoticeContent from '../notice/notice_content.vue';\nimport DtNoticeAction from '../notice/notice_action.vue';\nimport { NOTICE_KINDS } from '../notice/notice_constants';\nimport Modal from '../../common/mixins/modal';\nimport util from '@/common/utils';\nimport SrOnlyCloseButtonMixin from '../../common/mixins/sr_only_close_button';\n\n/**\n * Banners are a type of notice, delivering system and engagement messaging.\n * These are highly intrusive notices and should be used sparingly and appropriately.\n * @see https://dialpad.design/components/banner.html\n */\nexport default {\n  name: 'DtBanner',\n\n  components: {\n    DtNoticeIcon,\n    DtNoticeContent,\n    DtNoticeAction,\n  },\n\n  mixins: [Modal, SrOnlyCloseButtonMixin],\n\n  props: {\n    /**\n     * Sets an ID on the title element of the component. Useful for aria-describedby\n     * or aria-labelledby or any other reason you may need an id to refer to the title.\n     */\n    titleId: {\n      type: String,\n      default () { return util.getUniqueString(); },\n    },\n\n    /**\n     * Sets an ID on the content element of the component. Useful for aria-describedby\n     * or aria-labelledby or any other reason you may need an id to refer to the content.\n     */\n    contentId: {\n      type: String,\n      default () { return util.getUniqueString(); },\n    },\n\n    /**\n     * Title header of the notice. This can be left blank to remove the title from the notice entirely.\n     */\n    title: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * Used in scenarios where the message needs to visually dominate the screen.\n     * This will also change the aria role from status to alertdialog.\n     * and will modally trap the keyboard focus in the dialog as soon as it displays.\n     * @values true, false\n     */\n    important: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Pins the banner to the top of the window and pushes all app content down.\n     * @values true, false\n     */\n    pinned: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Severity level of the notice, sets the icon and background\n     * @values base, error, info, success, warning\n     */\n    kind: {\n      type: String,\n      default: 'base',\n      validate (kind) {\n        return NOTICE_KINDS.includes(kind);\n      },\n    },\n\n    /**\n     * Props for the notice close button.\n     */\n    closeButtonProps: {\n      type: Object,\n      default: () => ({}),\n    },\n\n    /**\n     * Hides the close button from the notice\n     */\n    hideClose: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Hides the icon from the notice\n     * @values true, false\n     */\n    hideIcon: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Inner dialog class\n     */\n    dialogClass: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * Banner background image\n     */\n    backgroundImage: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * Background image size, follows the background-size CSS property values\n     * <a class=\"d-link\" href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/background-size\" target=\"_blank\">\n     *   CSS background-sizes\n     * </a>\n     */\n    backgroundSize: {\n      type: String,\n      default: 'cover',\n    },\n  },\n\n  emits: [\n    /**\n     * Close button click event\n     *\n     * @event close\n     */\n    'close',\n  ],\n\n  computed: {\n    role () {\n      return this.important ? 'alertdialog' : 'status';\n    },\n\n    bannerClass () {\n      const kindClasses = {\n        error: 'd-banner--error',\n        info: 'd-banner--info',\n        success: 'd-banner--success',\n        warning: 'd-banner--warning',\n        base: 'd-banner--base',\n      };\n\n      return [\n        'd-banner',\n        kindClasses[this.kind],\n        {\n          'd-banner--important': this.important,\n          'd-banner--pinned': this.pinned,\n        },\n      ];\n    },\n\n    bannerBackgroundImage () {\n      if (this.backgroundImage === '') return null;\n\n      return `background-image: url(${this.backgroundImage});\n              background-size: ${this.backgroundSize};`;\n    },\n  },\n\n  mounted () {\n    if (this.important) {\n      this.focusFirstElement();\n    }\n  },\n\n  methods: {\n    trapFocus (e) {\n      if (this.important) {\n        this.focusTrappedTabPress(e);\n      }\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <dt-button\n      v-show=\"!displayBanner\"\n      @click=\"displayBanner = true\"\n    >\n      Click to show!\n    </dt-button>\n\n    <dt-banner\n      v-show=\"displayBanner\"\n      :kind=\"$attrs.kind\"\n      :title=\"$attrs.title\"\n      :title-id=\"$attrs.titleId\"\n      :content-id=\"$attrs.contentId\"\n      :important=\"$attrs.important\"\n      :pinned=\"$attrs.pinned\"\n      :hide-close=\"$attrs.hideClose\"\n      :close-button-props=\"buttonCloseProps\"\n      :class=\"{ 'd-ps-sticky': $attrs.show }\"\n      :hide-icon=\"$attrs.hideIcon\"\n      :background-image=\"$attrs.backgroundImage\"\n      :background-size=\"$attrs.backgroundSize\"\n      :dialog-class=\"$attrs.dialogClass\"\n      :visually-hidden-close=\"$attrs.visuallyHiddenClose\"\n      :visually-hidden-close-label=\"$attrs.visuallyHiddenCloseLabel\"\n      @close=\"displayBanner = false; $attrs.onClose($event)\"\n    >\n      <span\n        v-if=\"defaultSlot\"\n        v-html=\"defaultSlot\"\n      />\n      <span v-else>\n        Message body with\n        <a\n          href=\"#\"\n          class=\"d-link\"\n          :class=\"linkClass\"\n        >a link</a>.\n      </span>\n\n      <template\n        v-if=\"$attrs.action\"\n        #action\n      >\n        <dt-button\n          :kind=\"buttonKind\"\n          importance=\"outlined\"\n          @click=\"$attrs.onClick\"\n        >\n          {{ $attrs.action }}\n        </dt-button>\n      </template>\n      <template\n        v-if=\"$attrs.icon\"\n        #icon\n      >\n        <dt-icon :name=\"$attrs.icon\" />\n      </template>\n      <template\n        v-if=\"$attrs.titleOverride\"\n        #titleOverride\n      >\n        <span v-html=\"$attrs.titleOverride\" />\n      </template>\n    </dt-banner>\n  </div>\n</template>\n\n<script>\nimport DtBanner from '../banner/banner.vue';\nimport DtButton from '../button/button.vue';\nimport { DtIcon } from '@/components/icon';\n\nexport default {\n  name: 'BannerDefault',\n\n  components: { DtBanner, DtButton, DtIcon },\n\n  data () {\n    return {\n      displayBanner: this.$attrs.show,\n    };\n  },\n\n  computed: {\n    shouldInvertButton () {\n      return this.$attrs.kind === 'base' || this.$attrs.kind === 'error' || this.$attrs.kind === 'info';\n    },\n\n    isInverted () {\n      return this.$attrs.important && this.shouldInvertButton;\n    },\n\n    buttonKind () {\n      return this.isInverted ? 'inverted' : 'muted';\n    },\n\n    linkClass () {\n      return this.isInverted ? 'd-link--inverted' : 'd-link--muted';\n    },\n\n    buttonCloseProps () {\n      return {\n        ...this.$attrs.closeButtonProps,\n        kind: this.buttonKind,\n        ariaLabel: 'Close',\n      };\n    },\n  },\n};\n</script>\n","export default \"__VITE_ASSET__2cf3db63__\""],"names":["_sfc_main","DtNoticeIcon","DtNoticeContent","DtNoticeAction","Modal","SrOnlyCloseButtonMixin","util","kind","NOTICE_KINDS","_createElementBlock","$options","args","_createElementVNode","_normalizeClass","$props","_createBlock","_component_dt_notice_icon","_createCommentVNode","_renderSlot","_ctx","_createVNode","_component_dt_notice_content","_component_dt_notice_action","DtBanner","DtButton","DtIcon","_component_dt_button","$data","_component_dt_banner","$event","_hoisted_2","_createTextVNode","_toDisplayString","_component_dt_icon","backgroundImage"],"mappings":"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"}