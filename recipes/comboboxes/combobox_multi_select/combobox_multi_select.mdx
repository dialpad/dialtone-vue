import { Canvas, Story, Subtitle, ArgsTable, PRIMARY_STORY } from '@storybook/addon-docs/blocks';
import DtRecipeComboboxMultiSelect from './combobox_multi_select';

# Combobox Multi-Select

<Subtitle>
  Select allows users to make a single selection or multiple selections from a list of options.
  Users can create new options if necessary.
</Subtitle>

## Base Style

<Canvas>
  <Story id="recipes-comboboxes-combobox-multi-select--default" />
</Canvas>

## Slots, Props & Events

<ArgsTable story={PRIMARY_STORY} />

## Usage

### Import

```jsx
import { DtRecipeComboboxMultiSelect } from '@dialpad/dialtone-vue';
```

### Basic usage

```html
<dt-recipe-combobox-multi-select
  ref="comboboxMultiSelect"
  :loading-message="loadingMessage"
  :selected-items="selectedItems"
  @input="onInput"
  @select="onSelect"
  @remove="onRemove"
  @max-selected="onMaxSelected"
>
  <template #list="{ listProps }">
    <ul
      v-bind="listProps"
      class="d-p0"
    >
      <dt-list-item
        v-for="(item, i) in items"
        :key="item.id"
        role="option"
        navigation-type="arrow-keys"
        @click="onSelect(i)"
      >
        {{ item.value }}
        <template #right>
          {{ item.type }}
        </template>
      </dt-list-item>
    </ul>
  </template>
</dt-recipe-combobox-multi-select>
```

### With Max Selected Validation

Adds validation for max selection. Make sure to provide the following props:

- `maxSelected` the maximum number of selections you can make. 0 is unlimited
- `maxSelectedMessage` should be the message that shown if max selection has been reached

```html
<dt-recipe-combobox-multi-select
  ref="comboboxMultiSelect"
  :selected-items="selectedItems"
  :max-selected="maxSelected"
  :max-selected-message="maxSelectedMessage"
  @input="onInput"
  @select="onSelect"
  @remove="onRemove"
  @max-selected="onMaxSelected"
>
  <template #list="{ listProps }">
    <ul
      v-bind="listProps"
      class="d-p0"
    >
      <dt-list-item
        v-for="(item, i) in items"
        :key="item.id"
        role="option"
        navigation-type="arrow-keys"
        @click="onSelect(i)"
      >
        {{ item.value }}
        <template #right>
          {{ item.type }}
        </template>
      </dt-list-item>
    </ul>
  </template>
</dt-recipe-combobox-multi-select>
```
