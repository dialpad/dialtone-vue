{"version":3,"file":"popover-29dc8224.js","sources":["../../components/popover/popover.mdx"],"sourcesContent":["import { Canvas, Story, Subtitle, Controls, Meta } from '@storybook/blocks';\n\nimport * as PopoverStories from './popover.stories';\n\n<Meta of={PopoverStories}/>\n\n# Popovers\n\n<Subtitle>\n  A Popover displays a content overlay when its anchor element is activated.\n</Subtitle>\n\n## Base Style\n\n- Activating the anchor will display a white content box with rounded corners, and a box shadow.\n- The popover may optionally have a header / footer.\n  - Header / Footer is always placed at the top and bottom of the popover frame respectively and will remain in place as\nthe main content is scrolled.\n  - Header / Footer will remain in place as the main content is scrolled.\n- Setting the max height of the popover will make the content scrollable. Otherwise the popover will size to fit its\ncontent\n\n<Canvas>\n  <Story of={PopoverStories.Default} />\n</Canvas>\n\n## Variants\n\n### Fallback Placements\n\nThe popover uses [headless-tippy](https://atomiks.github.io/tippyjs/v6/headless-tippy/) and\n[popper](https://popper.js.org/docs/v2/modifiers/flip/), if the popover opens in a placement where it will\nbe clipped, it will move to a new position. It will do this automatically by default, but if you want to\nmanually specify which position it will move to in what order you can do so via the fallbackPlacements prop.\n\n### Padding\n\nPadding options for the popover content are provided via size classes `small`/`medium`/`large` in order to standardize\nthe look of the popover content between usages. To remove the padding from the content, you can pass `none`. Setting\n`none` will also allow you to set custom padding via utility classes (Ex: you only want padding on the left.).\n\n### Variants\n\n<Canvas>\n  <Story of={PopoverStories.Variants} />\n</Canvas>\n\n## Slots, Props & Events\n\n<Controls />\n\n## Basic Usage\n\nPopovers may be used standalone, or to create a dropdown menu or other complex control.\nSetting the `modal` prop will set an invisible overlay which will prevent interaction with anything rendered outside\nof the popover. Note we also have the [dt-modal](/story/components-modal--default) component which should be used\nfor fullscreen modals that are not displayed relative to the anchor.\n\nA popover has 2 main required slots: the **anchor** and the **content**.\n\nThe **anchor** is the control that the content will be positioned relative to and triggers the visibility of the\ncontent. Normally a button, the anchor can be any *interactive* element that could control the visibility of the popover\ncontent. For example, the anchor could be an input element with a conditionally displayed `listbox` content element to\nimplement an auto-suggest form component.\n\nThe **content** slot will be rendered lazily when the popover is open. By default, the popover content will\nbe opened when the anchor is clicked, and closed when clicking outside the content or on `ESC` key press. You may\noverride this behaviour by using `.sync` on the open prop (or `v-model:open` in Vue 3) in which you can open or close\nthe content using whichever condition you wish.\n\n### Import\n\n```jsx\nimport { DtPopover } from '@dialpad/dialtone-vue';\n```\n\n### Basic usage with named slots\n\n```jsx\n<dt-popover>\n  <template #anchor=\"{ attrs }\">\n    <dt-button\n      v-bind=\"attrs\"\n    >\n      Click to open\n    </dt-button>\n  </template>\n  <template #content>\n    <p>I will be displayed in the popover!</p>\n  </template>\n</dt-popover>\n```\n\n### Force close all opened instances\n\nWhen the popover is open, it will attach an event listener into the window object, so you can close the instances\ndispatching the `dt-popover-close` event in the window object:\n\n```js\nconst e = new Event('dt-popover-close');\nwindow.dispatchEvent(e);\n```\n\n## Accessibility\n\nPopovers, in their current implementation, are accessible when used as interactive components.\nContent will be read to screen reader users, and the popover markup by is appended to the `<body>`\n\nThere are a few important considerations to ensure popover controls are accessible.\nThe popover, by default:\n\n- the popover content will have a generic role of \"dialog\" ( `menu`, `listbox` also possible roles as well).\n- on open, focus will be transferred to the first focusable element within the popover, after close the triggering\nelement will be focused.\n- It is possible to include a screen reader visible only close button setting `visually-hidden-close`\nand `visually-hidden-close-label` props.\n\n### Anchor\n\nThe anchor element that activates the popover should be fully accessible by keyboard. The easiest way to do this is by\nusing an element like an `DtButton` that is already accessible. The user should also be able to close the popover\ncontent using the `ESC` key for most ARIA roles.\n\nThere are some required ARIA attributes for the anchor element (such as `aria-expanded` set based on `open` and\n`aria-haspopup` that matches the `role`). To make this as straightforward as possible, these ARIA attributes are passed\nwith the correct values as the `attrs` slot-scope to the anchor slot. Applying them is as simple as using `v-bind`:\n\n```jsx\n<template #anchor=\"{ attrs }\">\n  <dt-button v-bind=\"attrs\">I'm accessible now!</dt-button>\n</template>\n```\n\nBy default, the dialog content will be labeled by the entire anchor element. To change this, you can do one of 2 things:\n\n1. Pass `aria-label`, which is the text label that will be applied to the dialog content.\n2. Pass `aria-labelledby`, which is an ID of the element that should be used as the descriptive label.\n\n### Keyboard support\n\nThe below keyboard functionality is automatically implemented when using the popover component:\n\n- The user can dismiss the popover pressing the `ESC` key, after that the focus will be returned to the element\nthat launched it.\n- The user can traverse focusable elements using the `TAB` key. If the popover has a defined header, the focus will be\nmoved to the header buttons after the last focusable element inside content's container.\n\nAdditionally you must use the \"initialFocusElement\" prop to set which element is initially focused when the popover\nopens. You can set this to \"first\" to focus the first focusable element, \"dialog\" to focus the dialog itself, a string\nstarting with '#' to focus an element by id within the dialog or  you may pass in an HTMLElement directly.\nIf set to \"none\" the focus will remain on the anchor, however this is invalid behavior if the popover is modal.\n\n### References\n\n- [tippyjs](https://atomiks.github.io/tippyjs/), [popper.js](https://popper.js.org/)\n- [Apple. Human Interface Guidelines](https://developer.apple.com/design/human-interface-guidelines/ios/views/popovers/)\n, [Spectrum. Accessibility overlay trigger](https://react-spectrum.adobe.com/react-aria/useOverlayTrigger.html),\n[Slack Design. Accessibility, a powerful design tool](https://slack.design/articles/accessibility-a-powerful-design-tool/)\n"],"names":["_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Meta","PopoverStories","Subtitle","Canvas","Story","PopoverStories.Default","PopoverStories.Variants","Controls","MDXContent","MDXLayout"],"mappings":"mnCAKA,SAASA,EAAkBC,EAAO,CAChC,MAAMC,EAAc,OAAO,OAAO,CAChC,GAAI,KACJ,EAAG,IACH,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,EAAG,IACH,KAAM,OACN,OAAQ,SACR,GAAI,KACJ,IAAK,MACL,GAAI,IACL,EAAEC,EAAoB,EAAEF,EAAM,UAAU,EACzC,OAAOG,EAAAA,KAAMC,EAAAA,SAAW,CACtB,SAAU,CAACC,EAAI,IAACC,EAAM,CACpB,GAAIC,CACL,CAAA,EAAG;AAAA,EAAMF,MAAKJ,EAAY,GAAI,CAC7B,GAAI,WACJ,SAAU,UAChB,CAAK,EAAG;AAAA,EAAMI,EAAI,IAACG,EAAU,CACvB,SAAUH,EAAAA,IAAKJ,EAAY,EAAG,CAC5B,SAAU,4EAClB,CAAO,CACF,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,GAAI,aACJ,SAAU,YACX,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,GAAI,CAC9B,SAAU,CAAC;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CACpC,SAAU,gGACX,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,GAAI,CAC9B,SAAU,CAAC,qDAAsD;AAAA,EAAME,EAAAA,KAAMF,EAAY,GAAI,CAC3F,SAAU,CAAC;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CACpC,SAAU;AAAA,8BACX,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,SAAU,uEACX,CAAA,EAAG;AAAA,CAAI,CACT,CAAA,EAAG;AAAA,CAAI,CACT,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,SAAU;AAAA,QACX,CAAA,EAAG;AAAA,CAAI,CACd,CAAK,EAAG;AAAA,EAAMI,EAAI,IAACI,EAAQ,CACrB,SAAUJ,EAAI,IAACK,EAAO,CACpB,GAAIC,CACZ,CAAO,CACF,CAAA,EAAG;AAAA,EAAMN,MAAKJ,EAAY,GAAI,CAC7B,GAAI,WACJ,SAAU,UACX,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,GAAI,sBACJ,SAAU,qBACX,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,EAAG,CAC7B,SAAU,CAAC,oBAAqBI,MAAKJ,EAAY,EAAG,CAClD,KAAM,uDACN,OAAQ,SACR,IAAK,+BACL,SAAU,gBACX,CAAA,EAAG;AAAA,EAAUI,MAAKJ,EAAY,EAAG,CAChC,KAAM,gDACN,OAAQ,SACR,IAAK,+BACL,SAAU,QACX,CAAA,EAAG;AAAA;AAAA,6GAA6Q,CAClR,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,GAAI,UACJ,SAAU,SACX,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,EAAG,CAC7B,SAAU,CAAC,yEAA0EI,MAAKJ,EAAY,KAAM,CAC1G,SAAU,OACX,CAAA,EAAG,IAAKI,MAAKJ,EAAY,KAAM,CAC9B,SAAU,QACX,CAAA,EAAG,IAAKI,MAAKJ,EAAY,KAAM,CAC9B,SAAU,OACX,CAAA,EAAG;AAAA,uGAAmII,MAAKJ,EAAY,KAAM,CAC5J,SAAU,MACX,CAAA,EAAG;AAAA,EAAeI,MAAKJ,EAAY,KAAM,CACxC,SAAU,MACX,CAAA,EAAG,0GAA0G,CAC/G,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,GAAI,aACJ,SAAU,UAChB,CAAK,EAAG;AAAA,EAAMI,EAAI,IAACI,EAAQ,CACrB,SAAUJ,EAAI,IAACK,EAAO,CACpB,GAAIE,CACZ,CAAO,CACF,CAAA,EAAG;AAAA,EAAMP,MAAKJ,EAAY,GAAI,CAC7B,GAAI,sBACJ,SAAU,uBAChB,CAAK,EAAG;AAAA,EAAMI,EAAI,IAACQ,EAAU,CAAA,CAAE,EAAG;AAAA,EAAMR,EAAAA,IAAKJ,EAAY,GAAI,CACvD,GAAI,cACJ,SAAU,aACX,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,EAAG,CAC7B,SAAU,CAAC;AAAA,cAAyGI,MAAKJ,EAAY,KAAM,CACzI,SAAU,OACX,CAAA,EAAG;AAAA,wCAA6II,MAAKJ,EAAY,EAAG,CACnK,KAAM,mCACN,SAAU,UACX,CAAA,EAAG;AAAA,qEAAuG,CAC5G,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,EAAG,CAC7B,SAAU,CAAC,4CAA6CI,MAAKJ,EAAY,OAAQ,CAC/E,SAAU,QACX,CAAA,EAAG,YAAaI,MAAKJ,EAAY,OAAQ,CACxC,SAAU,SACX,CAAA,EAAG,GAAG,CACR,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,EAAG,CAC7B,SAAU,CAAC,OAAQI,MAAKJ,EAAY,OAAQ,CAC1C,SAAU,QACX,CAAA,EAAG;AAAA,oDAA0JI,MAAKJ,EAAY,GAAI,CACjL,SAAU,aACX,CAAA,EAAG;AAAA,4FAAyJI,MAAKJ,EAAY,KAAM,CAClL,SAAU,SACX,CAAA,EAAG;AAAA,0CAAgE,CACrE,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,EAAG,CAC7B,SAAU,CAAC,OAAQI,MAAKJ,EAAY,OAAQ,CAC1C,SAAU,SACX,CAAA,EAAG;AAAA,2FAA2LI,MAAKJ,EAAY,KAAM,CACpN,SAAU,KACX,CAAA,EAAG;AAAA,mCAA0DI,MAAKJ,EAAY,KAAM,CACnF,SAAU,OACX,CAAA,EAAG,yBAA0BI,MAAKJ,EAAY,KAAM,CACnD,SAAU,cACX,CAAA,EAAG;AAAA,gDAA4F,CACjG,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,GAAI,SACJ,SAAU,QACX,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,IAAK,CAC9B,SAAUI,EAAAA,IAAKJ,EAAY,KAAM,CAC/B,UAAW,eACX,SAAU;AAAA,CAClB,CAAO,CACF,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,GAAI,+BACJ,SAAU,8BACX,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,IAAK,CAC9B,SAAUI,EAAAA,IAAKJ,EAAY,KAAM,CAC/B,UAAW,eACX,SAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAClB,CAAO,CACF,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,GAAI,mCACJ,SAAU,kCACX,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,EAAG,CAC7B,SAAU,CAAC;AAAA,kBAAuII,MAAKJ,EAAY,KAAM,CACvK,SAAU,kBACX,CAAA,EAAG,8BAA8B,CACnC,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,IAAK,CAC9B,SAAUI,EAAAA,IAAKJ,EAAY,KAAM,CAC/B,UAAW,cACX,SAAU;AAAA;AAAA,CAClB,CAAO,CACF,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,GAAI,gBACJ,SAAU,eACX,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,EAAG,CAC7B,SAAU,CAAC;AAAA,4FAA8LI,MAAKJ,EAAY,KAAM,CAC9N,SAAU,QAClB,CAAO,CAAC,CACH,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,EAAG,CAC5B,SAAU;AAAA,yBACX,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,GAAI,CAC9B,SAAU,CAAC;AAAA,EAAME,OAAMF,EAAY,GAAI,CACrC,SAAU,CAAC,8DAAiEI,MAAKJ,EAAY,KAAM,CACjG,SAAU,MACX,CAAA,EAAG,KAAMI,MAAKJ,EAAY,KAAM,CAC/B,SAAU,SACX,CAAA,EAAG,gCAAgC,CACrC,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,SAAU;AAAA,yBACX,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,GAAI,CAC9B,SAAU,CAAC,+EAAgFI,MAAKJ,EAAY,KAAM,CAChH,SAAU,uBACX,CAAA,EAAG;AAAA,MAAUI,MAAKJ,EAAY,KAAM,CACnC,SAAU,6BACX,CAAA,EAAG,SAAS,CACd,CAAA,EAAG;AAAA,CAAI,CACT,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,GAAI,SACJ,SAAU,QACX,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,EAAG,CAC7B,SAAU,CAAC;AAAA,2BAAqJI,MAAKJ,EAAY,KAAM,CACrL,SAAU,UACX,CAAA,EAAG;AAAA,oBAAsGI,MAAKJ,EAAY,KAAM,CAC/H,SAAU,KACX,CAAA,EAAG,2BAA2B,CAChC,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,EAAG,CAC7B,SAAU,CAAC,2EAA4EI,MAAKJ,EAAY,KAAM,CAC5G,SAAU,eACX,CAAA,EAAG,iBAAkBI,MAAKJ,EAAY,KAAM,CAC3C,SAAU,MACX,CAAA,EAAG;AAAA,EAAUI,MAAKJ,EAAY,KAAM,CACnC,SAAU,eACX,CAAA,EAAG,qBAAsBI,MAAKJ,EAAY,KAAM,CAC/C,SAAU,MACX,CAAA,EAAG;AAAA,iCAAqHI,MAAKJ,EAAY,KAAM,CAC9I,SAAU,OACX,CAAA,EAAG,uEAAwEI,MAAKJ,EAAY,KAAM,CACjG,SAAU,QACX,CAAA,EAAG,GAAG,CACR,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,IAAK,CAC9B,SAAUI,EAAAA,IAAKJ,EAAY,KAAM,CAC/B,UAAW,eACX,SAAU;AAAA;AAAA;AAAA,CAClB,CAAO,CACF,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,EAAG,CAC5B,SAAU,0HACX,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,GAAI,CAC9B,SAAU,CAAC;AAAA,EAAME,OAAMF,EAAY,GAAI,CACrC,SAAU,CAAC,QAASI,MAAKJ,EAAY,KAAM,CACzC,SAAU,YACX,CAAA,EAAG,uEAAuE,CAC5E,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,GAAI,CAC9B,SAAU,CAAC,QAASI,MAAKJ,EAAY,KAAM,CACzC,SAAU,iBACX,CAAA,EAAG,+EAA+E,CACpF,CAAA,EAAG;AAAA,CAAI,CACT,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,GAAI,mBACJ,SAAU,kBACX,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,EAAG,CAC5B,SAAU,iGACX,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,GAAI,CAC9B,SAAU,CAAC;AAAA,EAAME,OAAMF,EAAY,GAAI,CACrC,SAAU,CAAC,iDAAkDI,MAAKJ,EAAY,KAAM,CAClF,SAAU,KACX,CAAA,EAAG;AAAA,kBAA+E,CACpF,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,GAAI,CAC9B,SAAU,CAAC,sDAAuDI,MAAKJ,EAAY,KAAM,CACvF,SAAU,KACX,CAAA,EAAG;AAAA,yFAAwJ,CAC7J,CAAA,EAAG;AAAA,CAAI,CACT,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,EAAG,CAC5B,SAAU;AAAA;AAAA;AAAA,gHACX,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,GAAI,aACJ,SAAU,YACX,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,GAAI,CAC9B,SAAU,CAAC;AAAA,EAAME,OAAMF,EAAY,GAAI,CACrC,SAAU,CAACI,EAAAA,IAAKJ,EAAY,EAAG,CAC7B,KAAM,qCACN,OAAQ,SACR,IAAK,+BACL,SAAU,SACX,CAAA,EAAG,KAAMI,MAAKJ,EAAY,EAAG,CAC5B,KAAM,yBACN,OAAQ,SACR,IAAK,+BACL,SAAU,WACpB,CAAS,CAAC,CACH,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,GAAI,CAC9B,SAAU,CAACI,EAAAA,IAAKJ,EAAY,EAAG,CAC7B,KAAM,oFACN,OAAQ,SACR,IAAK,+BACL,SAAU,mCACX,CAAA,EAAG;AAAA,IAAQI,MAAKJ,EAAY,EAAG,CAC9B,KAAM,qEACN,OAAQ,SACR,IAAK,+BACL,SAAU,yCACX,CAAA,EAAG;AAAA,EAAOI,MAAKJ,EAAY,EAAG,CAC7B,KAAM,sEACN,OAAQ,SACR,IAAK,+BACL,SAAU,qDACpB,CAAS,CAAC,CACH,CAAA,EAAG;AAAA,CAAI,CACd,CAAK,CAAC,CACN,CAAG,CACH,CACA,SAASa,EAAWd,EAAQ,GAAI,CAC9B,KAAM,CAAC,QAASe,CAAS,EAAI,OAAO,OAAO,CAAE,EAAEb,EAAoB,EAAEF,EAAM,UAAU,EACrF,OAAOe,EAAYV,EAAAA,IAAKU,EAAW,OAAO,OAAO,CAAE,EAAEf,EAAO,CAC1D,SAAUK,EAAAA,IAAKN,EAAmBC,CAAK,CAC3C,CAAG,CAAC,EAAID,EAAkBC,CAAK,CAC/B"}