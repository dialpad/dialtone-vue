{"version":3,"file":"ivr_node.stories-75a45a3c.js","sources":["../../recipes/cards/ivr_node/ivr_node_constants.js","../../recipes/cards/ivr_node/ivr_node.vue","../../recipes/cards/ivr_node/avatar.png","../../recipes/cards/ivr_node/ivr_node_default.story.vue"],"sourcesContent":["export const IVR_NODE_PROMPT_MENU = 'promptmenu';\nexport const IVR_NODE_PROMPT_COLLECT = 'promptcollect';\nexport const IVR_NODE_PROMPT_PLAY = 'promptplay';\nexport const IVR_NODE_EXPERT = 'gotoexpert';\nexport const IVR_NODE_GO_TO = 'goto';\nexport const IVR_NODE_BRANCH = 'branch';\nexport const IVR_NODE_TRANSFER = 'transfer';\nexport const IVR_NODE_HANGUP = 'hangup';\n\nexport const IVR_NODE_ICON_TYPES = {\n  [IVR_NODE_PROMPT_MENU]: 'keypad',\n  [IVR_NODE_PROMPT_COLLECT]: 'dialer',\n  [IVR_NODE_PROMPT_PLAY]: 'volume-2',\n  [IVR_NODE_EXPERT]: 'expert-node',\n  [IVR_NODE_BRANCH]: 'branch',\n  [IVR_NODE_GO_TO]: 'call-merge',\n  [IVR_NODE_TRANSFER]: 'transfer',\n  [IVR_NODE_HANGUP]: 'phone-hang-up',\n};\n\nexport const IVR_NODE_LABELS = {\n  [IVR_NODE_PROMPT_MENU]: 'Menu',\n  [IVR_NODE_PROMPT_COLLECT]: 'Collect',\n  [IVR_NODE_PROMPT_PLAY]: 'Play',\n  [IVR_NODE_EXPERT]: 'Expert',\n  [IVR_NODE_BRANCH]: 'Branch',\n  [IVR_NODE_GO_TO]: 'Go-to',\n  [IVR_NODE_TRANSFER]: 'Transfer',\n  [IVR_NODE_HANGUP]: 'Hangup',\n};\n\nconst IVR_NODE_COLORS = {\n  PROMPT: {\n    normal: 'd-bc-blue-200',\n    selected: 'd-bc-blue-300',\n  },\n  LOGIC: {\n    normal: 'd-bc-purple-200',\n    selected: 'd-bc-purple-400',\n  },\n  TERMINAL: {\n    normal: 'd-bc-red-100',\n    selected: 'd-bc-red-200',\n  },\n};\n\nexport const IVR_NODE_COLOR_MAPPING = {\n  [IVR_NODE_PROMPT_MENU]: IVR_NODE_COLORS.PROMPT,\n  [IVR_NODE_PROMPT_COLLECT]: IVR_NODE_COLORS.PROMPT,\n  [IVR_NODE_PROMPT_PLAY]: IVR_NODE_COLORS.PROMPT,\n  [IVR_NODE_EXPERT]: IVR_NODE_COLORS.LOGIC,\n  [IVR_NODE_BRANCH]: IVR_NODE_COLORS.LOGIC,\n  [IVR_NODE_GO_TO]: IVR_NODE_COLORS.LOGIC,\n  [IVR_NODE_TRANSFER]: IVR_NODE_COLORS.TERMINAL,\n  [IVR_NODE_HANGUP]: IVR_NODE_COLORS.TERMINAL,\n};\n","<template>\n  <div\n    class=\"d-d-flex d-fd-column d-ai-center d-c-pointer ivr_node__width\"\n    v-on=\"$listeners\"\n  >\n    <div\n      v-if=\"dtmfKey\"\n      data-qa=\"dt-top-connector-dtmf\"\n      class=\"ivr-connector d-w24 d-h24 d-bar-circle d-mbn12 d-fc-white d-fs-200\"\n      :class=\"{ 'd-mbn16': isSelected }\"\n    >\n      {{ dtmfKey }}\n    </div>\n    <slot\n      v-if=\"$slots.connector\"\n      name=\"connector\"\n    />\n    <div\n      v-if=\"!dtmfKey && !$slots.connector\"\n      data-qa=\"dt-top-connector\"\n      class=\"ivr-connector d-w8 d-h8 d-bar-circle d-mbn4\"\n      :class=\"{ 'd-mbn8': isSelected }\"\n    />\n    <dt-card\n      content-class=\"d-bt d-bc-black-300 d-px12 d-pt8 d-pb12\"\n      :container-class=\"[\n        'd-w100p',\n        { 'd-ba d-bar8 d-baw4': isSelected },\n        headerColor,\n      ]\"\n      :header-class=\"[\n        'd-mtn1',\n        'd-bt',\n        'd-btw4',\n        'd-p0',\n        headerColor,\n        { 'd-btr4': !isSelected },\n      ]\"\n    >\n      <template #header>\n        <!-- node label and icon section on left of the header -->\n        <div class=\"d-d-flex d-ai-center\">\n          <dt-button\n            :aria-label=\"nodeType\"\n            importance=\"clear\"\n            kind=\"muted\"\n            data-qa=\"dt-ivr-node-icon\"\n          >\n            <template #icon>\n              <dt-icon\n                :name=\"nodeIcon\"\n                size=\"200\"\n                :class=\"['', { 'ivr_node__goto_icon': isGotoNode }]\"\n              />\n            </template>\n          </dt-button>\n          <p\n            class=\"d-fs-200 d-fw-bold\"\n            data-qa=\"ivr-node-label\"\n          >\n            {{ nodeLabel }}\n          </p>\n        </div>\n        <!-- node menu for actions like edit, copy, delete -->\n        <dt-dropdown\n          placement=\"bottom\"\n          :open.sync=\"isOpen\"\n        >\n          <template #anchor>\n            <dt-button\n              importance=\"clear\"\n              kind=\"muted\"\n              :aria-label=\"menuButtonAriaLabel\"\n              @click.stop.prevent=\"openMenu\"\n            >\n              <template #icon>\n                <dt-icon\n                  name=\"more-vertical\"\n                  size=\"200\"\n                />\n              </template>\n            </dt-button>\n          </template>\n          <template #list=\"{ close }\">\n            <div class=\"d-w164\">\n              <slot\n                name=\"menuItems\"\n                :close=\"close\"\n              />\n            </div>\n          </template>\n        </dt-dropdown>\n      </template>\n      <template #content>\n        <slot name=\"content\" />\n      </template>\n    </dt-card>\n  </div>\n</template>\n\n<script>\nimport { DtCard } from '@/components/card';\nimport { DtButton } from '@/components/button';\nimport { DtDropdown } from '@/components/dropdown';\nimport { DtIcon } from '@/components/icon';\nimport {\n  IVR_NODE_ICON_TYPES, IVR_NODE_COLOR_MAPPING, IVR_NODE_GO_TO,\n} from './ivr_node_constants';\n\nexport default {\n  name: 'DtRecipeIvrNode',\n\n  components: {\n    DtCard,\n    DtButton,\n    DtDropdown,\n    DtIcon,\n  },\n\n  props: {\n\n    /**\n     * type of IVR Node.\n     */\n    nodeType: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * Descriptive label for the node name.\n     */\n\n    nodeLabel: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * Selected state of the node\n     */\n    isSelected: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Translated aria-label for header menu button\n     */\n    menuButtonAriaLabel: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * DTMF input\n     */\n    dtmfKey: {\n      type: String,\n      default: null,\n    },\n  },\n\n  emits: [\n    /**\n     * Add node click event\n     *\n     * @event click\n     * @type {PointerEvent | KeyboardEvent}\n     */\n    'click',\n  ],\n\n  data () {\n    return {\n      isOpen: false,\n    };\n  },\n\n  computed: {\n    nodeIcon () {\n      return IVR_NODE_ICON_TYPES[this.nodeType];\n    },\n\n    headerColor () {\n      const { normal, selected } = IVR_NODE_COLOR_MAPPING[this.nodeType];\n      return this.isSelected ? selected : normal;\n    },\n\n    isGotoNode () {\n      return this.nodeType === IVR_NODE_GO_TO;\n    },\n  },\n\n  methods: {\n    openMenu () {\n      this.isOpen = true;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.ivr_node__width {\n  width: 280px;\n}\n.ivr_node__goto_icon {\n  transform: rotate(90deg);\n}\n.ivr-connector{\n  z-index: var(--zi-base1);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-color: var(--purple-600);\n  background-color: var(--purple-600);\n}\n</style>\n","export default \"__VITE_ASSET__4b43ac78__\"","<template>\n  <dt-recipe-ivr-node\n    :node-label=\"label\"\n    :node-type=\"nodeType\"\n    :is-selected=\"isSelected\"\n    :dtmf-key=\"dtmfKey\"\n    :menu-button-aria-label=\"menuButtonAriaLabel\"\n    @click=\"onClick($event)\"\n  >\n    <template\n      v-if=\"connector\"\n      #connector\n    >\n      <div\n        class=\"ivr-connector d-px8 d-h24 d-bar-pill d-mbn12 d-fc-white d-fs-100\"\n      >\n        Add branch\n      </div>\n    </template>\n    <template\n      v-if=\"content\"\n      #content\n    >\n      <span v-html=\"content\" />\n    </template>\n    <template\n      v-else\n      #content\n    >\n      <div v-if=\"expert\">\n        <p class=\"d-fw-bold\">\n          Account Issues\n        </p>\n        <p>\n          19 Nodes\n        </p>\n        <dt-button\n          importance=\"clear\"\n          kind=\"muted\"\n          icon-position=\"right\"\n        >\n          Launch Expert\n          <template #icon>\n            <dt-icon\n              size=\"300\"\n              name=\"external-link\"\n            />\n          </template>\n        </dt-button>\n      </div>\n      <div v-if=\"transfer\">\n        <div class=\"d-d-flex d-ai-center d-gg8\">\n          <dt-avatar seed=\"seed\">\n            <img\n              data-qa=\"dt-avatar-image\"\n              :src=\"avatarSrc\"\n              alt=\"Person Avatar\"\n            >\n          </dt-avatar>\n          <p>Carolina Garcia Rodriguez</p>\n        </div>\n      </div>\n      <div v-if=\"hangup || branch || goTo\">\n        <p class=\"d-fw-bold\">\n          Name\n        </p>\n        <p>\n          Description\n        </p>\n      </div>\n      <div v-if=\"play\">\n        <p class=\"d-fc-purple-700\">\n          2022-Greeting.mp3\n        </p>\n      </div>\n      <div v-if=\"collect || menu\">\n        <p class=\"d-fw-bold\">\n          {{ label }} prompt\n        </p>\n        <p class=\"d-fc-purple-700\">\n          {{ fileName }}\n        </p>\n      </div>\n    </template>\n    <template\n      v-if=\"menuItems\"\n      #menuItems\n    >\n      <span v-html=\"menuItems\" />\n    </template>\n    <template\n      v-else\n      #menuItems=\"{ close }\"\n    >\n      <dt-list-item\n        role=\"menuitem\"\n        navigation-type=\"arrow-keys\"\n        @click=\"close\"\n      >\n        Edit\n      </dt-list-item>\n      <dt-list-item\n        role=\"menuitem\"\n        navigation-type=\"arrow-keys\"\n        @click=\"close\"\n      >\n        Copy\n        <template #right>\n          <dt-keyboard-shortcut\n            screen-reader-text=\"Ctrl and C\"\n            shortcut=\"Ctrl + C\"\n          />\n        </template>\n      </dt-list-item>\n      <dt-list-item\n        role=\"menuitem\"\n        navigation-type=\"arrow-keys\"\n        @click=\"close\"\n      >\n        Delete\n        <template #right>\n          <dt-keyboard-shortcut\n            screen-reader-text=\"Delete\"\n            shortcut=\"Del\"\n          />\n        </template>\n      </dt-list-item>\n    </template>\n  </dt-recipe-ivr-node>\n</template>\n\n<script>\nimport DtRecipeIvrNode from './ivr_node.vue';\nimport {\n  IVR_NODE_BRANCH,\n  IVR_NODE_EXPERT, IVR_NODE_GO_TO, IVR_NODE_HANGUP,\n  IVR_NODE_LABELS,\n  IVR_NODE_PROMPT_COLLECT,\n  IVR_NODE_PROMPT_MENU,\n  IVR_NODE_PROMPT_PLAY, IVR_NODE_TRANSFER,\n} from './ivr_node_constants';\nimport { DtIcon } from '@/components/icon';\nimport { DtButton } from '@/components/button';\nimport { DtAvatar } from '@/components/avatar';\nimport { DtListItem } from '@/components/list_item';\nimport { DtKeyboardShortcut } from '@/components/keyboard_shortcut';\nimport avatarImage from './avatar.png';\n\nexport default {\n  name: 'DtRecipeIvrNodeDefault',\n  components: { DtButton, DtRecipeIvrNode, DtIcon, DtAvatar, DtListItem, DtKeyboardShortcut },\n  props: {\n    nodeType: {\n      type: String,\n      default: null,\n    },\n  },\n\n  computed: {\n    avatarSrc () {\n      return avatarImage;\n    },\n\n    items () {\n      return [\n        { name: 'Edit', id: 1 },\n        { name: 'Copy', id: 2 },\n        { name: 'Delete', id: 3 },\n      ];\n    },\n\n    expert () {\n      return this.nodeType === IVR_NODE_EXPERT;\n    },\n\n    menu () {\n      return this.nodeType === IVR_NODE_PROMPT_MENU;\n    },\n\n    collect () {\n      return this.nodeType === IVR_NODE_PROMPT_COLLECT;\n    },\n\n    play () {\n      return this.nodeType === IVR_NODE_PROMPT_PLAY;\n    },\n\n    goTo () {\n      return this.nodeType === IVR_NODE_GO_TO;\n    },\n\n    branch () {\n      return this.nodeType === IVR_NODE_BRANCH;\n    },\n\n    transfer () {\n      return this.nodeType === IVR_NODE_TRANSFER;\n    },\n\n    hangup () {\n      return this.nodeType === IVR_NODE_HANGUP;\n    },\n\n    label () {\n      return this.nodeLabel || IVR_NODE_LABELS[this.nodeType];\n    },\n\n    fileName () {\n      return this.menu\n        ? 'americas_office-workflow_main-menu-2022--FINAL.mp3'\n        : 'americas_office-collect-menu-2022-FINAL.mp3';\n    },\n  },\n};\n</script>\n"],"names":["IVR_NODE_PROMPT_MENU","IVR_NODE_PROMPT_COLLECT","IVR_NODE_PROMPT_PLAY","IVR_NODE_EXPERT","IVR_NODE_GO_TO","IVR_NODE_BRANCH","IVR_NODE_TRANSFER","IVR_NODE_HANGUP","IVR_NODE_ICON_TYPES","IVR_NODE_LABELS","IVR_NODE_COLORS","IVR_NODE_COLOR_MAPPING","_sfc_main","DtCard","DtButton","DtDropdown","DtIcon","normal","selected","avatarImage","DtRecipeIvrNode","DtAvatar","DtListItem","DtKeyboardShortcut"],"mappings":"4dAAO,MAAMA,EAAuB,aACvBC,EAA0B,gBAC1BC,EAAuB,aACvBC,EAAkB,aAClBC,EAAiB,OACjBC,EAAkB,SAClBC,EAAoB,WACpBC,EAAkB,SAElBC,GAAsB,CACjC,CAACR,CAAoB,EAAG,SACxB,CAACC,CAAuB,EAAG,SAC3B,CAACC,CAAoB,EAAG,WACxB,CAACC,CAAe,EAAG,cACnB,CAACE,CAAe,EAAG,SACnB,CAACD,CAAc,EAAG,aAClB,CAACE,CAAiB,EAAG,WACrB,CAACC,CAAe,EAAG,eACrB,EAEaE,GAAkB,CAC7B,CAACT,CAAoB,EAAG,OACxB,CAACC,CAAuB,EAAG,UAC3B,CAACC,CAAoB,EAAG,OACxB,CAACC,CAAe,EAAG,SACnB,CAACE,CAAe,EAAG,SACnB,CAACD,CAAc,EAAG,QAClB,CAACE,CAAiB,EAAG,WACrB,CAACC,CAAe,EAAG,QACrB,EAEMG,EAAkB,CACtB,OAAQ,CACN,OAAQ,gBACR,SAAU,eACX,EACD,MAAO,CACL,OAAQ,kBACR,SAAU,iBACX,EACD,SAAU,CACR,OAAQ,eACR,SAAU,cACX,CACH,EAEaC,GAAyB,CACpC,CAACX,CAAoB,EAAGU,EAAgB,OACxC,CAACT,CAAuB,EAAGS,EAAgB,OAC3C,CAACR,CAAoB,EAAGQ,EAAgB,OACxC,CAACP,CAAe,EAAGO,EAAgB,MACnC,CAACL,CAAe,EAAGK,EAAgB,MACnC,CAACN,CAAc,EAAGM,EAAgB,MAClC,CAACJ,CAAiB,EAAGI,EAAgB,SACrC,CAACH,CAAe,EAAGG,EAAgB,QACrC,ECsDA,MAAAE,GAAA,CACA,KAAA,kBAEA,WAAA,CACA,OAAAC,GACA,SAAAC,GACA,WAAAC,GACA,OAAAC,EACA,EAEA,MAAA,CAKA,SAAA,CACA,KAAA,OACA,SAAA,EACA,EAMA,UAAA,CACA,KAAA,OACA,SAAA,EACA,EAKA,WAAA,CACA,KAAA,QACA,QAAA,EACA,EAKA,oBAAA,CACA,KAAA,OACA,SAAA,EACA,EAKA,QAAA,CACA,KAAA,OACA,QAAA,IACA,CACA,EAEA,MAAA,CAOA,OACA,EAEA,MAAA,CACA,MAAA,CACA,OAAA,EACA,CACA,EAEA,SAAA,CACA,UAAA,CACA,OAAAR,GAAA,KAAA,QAAA,CACA,EAEA,aAAA,CACA,KAAA,CAAA,OAAAS,EAAA,SAAAC,CAAA,EAAAP,GAAA,KAAA,QAAA,EACA,OAAA,KAAA,WAAAO,EAAAD,CACA,EAEA,YAAA,CACA,OAAA,KAAA,WAAAb,CACA,CACA,EAEA,QAAA,CACA,UAAA,CACA,KAAA,OAAA,EACA,CACA,CACA,49FCvMA,MAAee,GAAA,GAAA,IAAA,IAAA,sBAAA,YAAA,GAAA,EAAA,KCoJfP,GAAA,CACA,KAAA,yBACA,WAAA,CAAA,SAAAE,GAAA,gBAAAM,GAAA,OAAAJ,GAAA,SAAAK,GAAA,WAAAC,GAAA,mBAAAC,EAAA,EACA,MAAA,CACA,SAAA,CACA,KAAA,OACA,QAAA,IACA,CACA,EAEA,SAAA,CACA,WAAA,CACA,OAAAJ,EACA,EAEA,OAAA,CACA,MAAA,CACA,CAAA,KAAA,OAAA,GAAA,CAAA,EACA,CAAA,KAAA,OAAA,GAAA,CAAA,EACA,CAAA,KAAA,SAAA,GAAA,CAAA,CACA,CACA,EAEA,QAAA,CACA,OAAA,KAAA,WAAAhB,CACA,EAEA,MAAA,CACA,OAAA,KAAA,WAAAH,CACA,EAEA,SAAA,CACA,OAAA,KAAA,WAAAC,CACA,EAEA,MAAA,CACA,OAAA,KAAA,WAAAC,CACA,EAEA,MAAA,CACA,OAAA,KAAA,WAAAE,CACA,EAEA,QAAA,CACA,OAAA,KAAA,WAAAC,CACA,EAEA,UAAA,CACA,OAAA,KAAA,WAAAC,CACA,EAEA,QAAA,CACA,OAAA,KAAA,WAAAC,CACA,EAEA,OAAA,CACA,OAAA,KAAA,WAAAE,GAAA,KAAA,QAAA,CACA,EAEA,UAAA,CACA,OAAA,KAAA,KACA,qDACA,6CACA,CACA,CACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}