import { Canvas, Story, Subtitle, ArgsTable, PRIMARY_STORY } from '@storybook/addon-docs/blocks';
import DtEmoji from './emoji';

# Emoji

<Subtitle>
  Renders an emoji from a shortcode such as :smile: or unicode character such as ðŸ˜„.
</Subtitle>

<Canvas>
  <Story id="components-emoji--default" />
</Canvas>

## Variants

<Canvas>
  <Story id="components-emoji--variants" />
</Canvas>

## Slots, Props & Events

<ArgsTable story={PRIMARY_STORY} />

## Usage

### Import

```jsx
import { DtEmoji } from '@dialpad/dialtone-vue';
```

### Smile

```html
<dt-emoji
  code=":smile:"
/>
```

### With Unicode Smile

```html
<dt-emoji
  code="ðŸ˜„"
/>
```

### With Skin Tone

```html
<dt-emoji
  code=":raised_hand_medium_skin_tone:"
/>
```

## Assets

Dialtone Vue uses [JoyPixels](https://www.joypixels.com/) to render emojis. When using this component,
Dialtone Vue will use the free joypixels assets hosted on jsdelivr CDN by default. You may wish to use self hosted
joypixels assets such as the SVGs only available to premium license holders. The examples shown here use the premium
SVGs. In order to do this set your custom asset URL with the following function during initialization of your app:

```js
import { setEmojiAssetUrl } from 'dialtone-vue'

setEmojiAssetUrl('https://my.example.website.com/joypixels/svg/unicode/', '.svg')
```

Please be aware of [JoyPixels licensing requirements](https://www.joypixels.com/licenses). You may not use JoyPixels
assets for business use without a license.

## Emoji Metadata

You may access the master list of supported emojis and all emoji metadata by importing the following function and
executing it:

```js
import { getEmojiJson } from 'dialtone-vue'
const emojiData = await getEmojiJson();
```

You may retrieve the data for an emoji by using the unicode string as an object key

```js
emojiData['1f600'].name // returns "grinning face"

// when skintone, the unicode strings for the emoji and skin tone are separated by a -
emojiData['1f482-1f3fb'].shortname // returns ":guard_tone1:"
```

## Accessibility

The emoji will be rendered with an aria-label attribute describing the emoji so it can be read by AT.

### References

- [JoyPixels](https://www.joypixels.com/) - Our emoji assets
- [emoji-toolkit](https://github.com/joypixels/emoji-toolkit) - Helper library we use to render joypixels
- [emojipedia](https://emojipedia.org/) - Good for looking up details about specific emojis.
