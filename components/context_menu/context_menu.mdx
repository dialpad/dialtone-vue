import { Canvas, Story, Subtitle, ArgsTable, PRIMARY_STORY } from '@storybook/addon-docs/blocks';
import DtContextMenu from './context_menu';

# DtContextMenu

<Subtitle>
  Some description of the component functionality.
</Subtitle>

## Base Style

Some description of how to use the base component, potential gotchas and limitations.

<Canvas>
  <Story id="<GROUP>-dt-context-menu--default" />
</Canvas>

## Variants

<Canvas>
  <Story id="<GROUP>-dt-context-menu--variants" />
</Canvas>

## Slots, Props & Events

<ArgsTable story={PRIMARY_STORY} />

## Usage

### Import

```jsx
import { DtContextMenu } from '@dialpad/dialtone-vue';
```

### With Some Variant

```vue
<dt-context-menu
  some="variant"
/>
```

### With Some Other Variant

```vue
<dt-context-menu
  some-other="variant"
/>
```

## Programatically opening the menu

Example component .vue file:

```vue
<template>
  <div @contextmenu.prevent="openContextMenu('myFirstContextMenu')">
    Right-click here to trigger the first contextual menu
  </div>

  <div @contextmenu.prevent="openContextMenu('mySecondContextMenu')">
    Right-click here to trigger the second contextual menu
  </div>

  <dt-context-menu ref="myFirstContextMenu">
    <dt-list-item>
      Menu Item 1
    </dt-list-item>
  </dt-context-menu>

  <dt-context-menu ref="mySecondContextMenu">
    <dt-list-item>
      Menu Item 2
    </dt-list-item>
  </dt-context-menu>
</template>

<script>
  import ... //all your stuff

  export default {
    ...
    methods: {
      openContextMenu (menuRef) {
        this.$refs[menuRef].showMenu();
      },
    },
  };
</script>
```

## Abstracting menus to separate files (e.g. for re-use)

Example component .vue file that uses a menu file:

```vue
<template>
  <div @contextmenu.prevent="openContextMenu('myFirstContextMenu')">
    Right-click here to trigger the first contextual menu
  </div>

  <my-first-context-menu />
</template>

<script>
  import ... //all your stuff

  import MyFirstContextMenu from './my_first_context_menu';

  export default {
    ...
    components: [
      MyFirstContextMenu,
    ],
    methods: {
      openContextMenu (menuRef) {
        this.$refs[menuRef].showMenu();
      },
    },
  };
</script>
```

Menu file `my_first_context_menu.vue`:

```vue
<template>
  <dt-context-menu>
    <dt-list-item>
      Menu Item 1
    </dt-list-item>
  </dt-context-menu>
</template>

<script>
  import ...;

  export default {
    ...
    methods: {
      showMenu() {
        $this.$children[0].showMenu();
      },
    },
  },
</script>
```
