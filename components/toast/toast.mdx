import { Canvas, Story, Subtitle, ArgsTable, PRIMARY_STORY } from '@storybook/addon-docs';

# Toast

<Subtitle>
  A toast notice, sometimes called a snackbar, is a time-based message that appears based on users' actions.
  It contains at-a-glance information about outcomes and can be paired with actions.
</Subtitle>

## Base Style

<Canvas>
  <Story id="components-toast--default" />
</Canvas>

## Variants

### Error

<Canvas>
  <Story id="components-toast--error" />
</Canvas>

### Info

<Canvas>
  <Story id="components-toast--info" />
</Canvas>

### Success

<Canvas>
  <Story id="components-toast--success" />
</Canvas>

### Warning

<Canvas>
  <Story id="components-toast--warning" />
</Canvas>

### Important

<Canvas>
  <Story id="components-toast--important" />
</Canvas>

## Slots, Props & Events

<ArgsTable story={PRIMARY_STORY} />

## Accessibility

`role="status"` is the default role attribute, and it's recommended to use this role unless you want to show an
error message where `role="alert"` will be valid. Take into account that if you invoke multiple toasts
with `role="alert"`, screen readers could override its speech queue and causes to miss a toast message.

## Usage

### Import

```jsx
import { DtToast } from '@dialpad/dialtone-vue';
```

### Methods

Instance methods can be executed assigning a reference ID to the component using
[ref](https://v3.vuejs.org/guide/component-template-refs.html) attribute.

#### show()

Instance method that shows the toast element for the default or provided duration time.

#### close()

Instance method that closes the toast and removes it from the DOM.

### Events

`close` is fired when close button is clicked.

#### Example without self-positioning *

```html
<template>
  <button type="button" @click="openToast">Click to show!</button>
  <dt-toast
    ref="toast"
    :title="title"
    :message="message"
    @close="closeToast"
  ></dt-toast>
</template>

<script>
import { DtToast } from '@dialpad/dialtone-vue';

export default {
  components: { DtToast },
  data () {
    return {
      title: 'Title',
      message: 'Message body.'
    }
  },
  methods: {
    openToast () {
      this.$refs.toast.open();
    },
    closeToast () {
      this.$refs.toast.close();
    },
  },
}
</script>
```

* If you need to self-position the toast at the top center, use the `d-toast-wrapper` Dialtone class:

```html
<aside class="d-toast-wrapper">
  <dt-toast
    ref="toast"
    :title="title"
    :message="message"
    @close="closeToast"
  ></dt-toast>
</aside>
```

### With duration

It's recommended to use a time of at least 6000 ms (minimum duration and default value) to give users enough time
to read the toast. Take into account that the time necessary to read and comprehend the message could vary in users.
For instance, users using assistive technology, or users with language barriers could potentially need more time to
read and understand the message.

```html
<dt-toast
  title="Title"
  message="Message"
  :duration="7500"
/>
```
