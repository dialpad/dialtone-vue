import{g,e as V,h as B}from"./utils-8607998d.js";import{o as i,b as u,w as l,v as O,x as k,l as L,D as z,E as N,i as h,j as H,m as c,G as F,A as v,f as o,d as m,t as $,k as P,n as M,a as r,y as I,e as _}from"./vue.esm-bundler-8a039e44.js";import{_ as f}from"./_plugin-vue_export-helper-c27b6911.js";import{D as W}from"./button-3a631ed8.js";import{D as j}from"./lazy_show-9ed40076.js";import{D as U}from"./icon-42e3648b.js";import{c as G}from"./storybook_utils-b6841212.js";const T={name:"DtCollapsibleLazyShow",inheritAttrs:!1,props:{show:{type:Boolean,default:null},appear:{type:Boolean,default:!1},elementType:{type:String,default:"div"}},data(){return{initialized:!!this.show}},computed:{isCSSEnabled(){return!0}},watch:{show:function(e){!e||this.initialized||(this.initialized=!0)}},methods:{beforeEnter(e){requestAnimationFrame(()=>{e.style.height||(e.style.height="0px"),e.style.display=null})},enter(e){requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.style.height=`${e.scrollHeight}px`})})},afterEnter(e){e.style.height=null},beforeLeave(e){requestAnimationFrame(()=>{e.style.height||(e.style.height=`${e.offsetHeight}px`)})},leave(e){requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.style.height="0px"})})},afterLeave(e){e.style.height=null}}};function Q(e,y,t,b,n,a){return i(),u(F,c({appear:t.appear,"enter-active-class":"enter-active","leave-active-class":"leave-active"},e.$attrs,{css:a.isCSSEnabled,onBeforeEnter:a.beforeEnter,onEnter:a.enter,onAfterEnter:a.afterEnter,onBeforeLeave:a.beforeLeave,onLeave:a.leave,onAfterLeave:a.afterLeave}),{default:l(()=>[O((i(),u(L(t.elementType),z(N(e.$attrs)),{default:l(()=>[n.initialized?h(e.$slots,"default",{key:0}):H("",!0)]),_:3},16)),[[k,t.show]])]),_:3},16,["appear","css","onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])}const R=f(T,[["render",Q]]);T.__docgenInfo={displayName:"DtCollapsibleLazyShow",exportName:"default",description:"",tags:{},props:[{name:"show",description:"Whether the child slot is shown.",type:{name:"boolean"},defaultValue:{func:!1,value:"null"}},{name:"appear",description:"Enable/Disable transition animation",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"elementType",description:"HTML element type (tag name) of the content wrapper element.",type:{name:"string"},defaultValue:{func:!1,value:"'div'"}}],slots:[{name:"default",description:"slot for Content within collapsible"}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/components/collapsible/collapsible_lazy_show.vue"]};const C={name:"DtCollapsible",components:{DtButton:W,DtCollapsibleLazyShow:R,DtLazyShow:j,DtIcon:U},props:{anchorText:{type:String,default:null},open:{type:Boolean,default:null},id:{type:String,default(){return g()}},elementType:{type:String,default:"div"},contentElementType:{type:String,default:"div"},anchorClass:{type:[String,Array,Object],default:null},contentClass:{type:[String,Array,Object],default:null},maxWidth:{type:String,default:null},maxHeight:{type:String,default:null},ariaLabel:{type:String,default:null},ariaLabelledBy:{type:String,default:null}},emits:["update:open","opened"],data(){return{isOpen:!0}},computed:{labelledBy(){return this.ariaLabelledBy||!this.ariaLabel&&g("DtCollapsible__anchor")},collapsibleListeners(){return V(this.$attrs)}},watch:{open:{handler:function(e){e!==null&&(this.isOpen=e)},immediate:!0}},created(){this.validateProperAnchor()},methods:{onLeaveTransitionComplete(){this.$emit("opened",!1),this.open!==null&&this.$emit("update:open",!1)},onEnterTransitionComplete(){this.$emit("opened",!0,this.$refs.content),this.open!==null&&this.$emit("update:open",!0)},defaultToggleOpen(){this.open===null&&this.toggleOpen()},toggleOpen(){this.isOpen=!this.isOpen},validateProperAnchor(){!this.anchorText&&!B(this.$slots.anchor)&&console.error("anchor text and anchor slot content cannot both be falsy")}}},J=["id"],K=["title"];function X(e,y,t,b,n,a){const d=r("dt-icon"),p=r("dt-button"),A=r("dt-collapsible-lazy-show");return i(),u(L(t.elementType),c({ref:"collapsible"},v(a.collapsibleListeners)),{default:l(()=>[o("div",{id:!t.ariaLabelledBy&&a.labelledBy,ref:"anchor",class:M(["d-dt-collapsibe__anchor",t.anchorClass])},[h(e.$slots,"anchor",{attrs:{"aria-controls":t.id,"aria-expanded":n.isOpen.toString(),role:"button"}},()=>[m(p,{importance:"clear",kind:"muted","aria-controls":t.id,"aria-expanded":`${n.isOpen}`,style:P({width:t.maxWidth}),onClick:a.defaultToggleOpen},{default:l(()=>[m(d,{name:n.isOpen?"chevron-down":"chevron-right",class:"d-icon d-icon--size-300 d-mr8 d-fl-shrink0"},null,8,["name"]),o("span",{class:"d-mr-auto d-truncate",title:t.anchorText},$(t.anchorText),9,K)]),_:1},8,["aria-controls","aria-expanded","style","onClick"])])],10,J),m(A,c({id:t.id,ref:"contentWrapper","aria-hidden":`${!n.isOpen}`,"aria-labelledby":a.labelledBy,"aria-label":t.ariaLabel,show:n.isOpen,"element-type":t.contentElementType,class:["d-dt-collapsible__content",t.contentClass],style:{"max-height":t.maxHeight,"max-width":t.maxWidth},tabindex:"-1",appear:""},v(a.collapsibleListeners),{onAfterLeave:a.onLeaveTransitionComplete,onAfterEnter:a.onEnterTransitionComplete}),{default:l(()=>[h(e.$slots,"content")]),_:3},16,["id","aria-hidden","aria-labelledby","aria-label","show","element-type","class","style","onAfterLeave","onAfterEnter"])]),_:3},16)}const D=f(C,[["render",X]]);C.__docgenInfo={displayName:"DtCollapsible",description:"A collapsible is a component consisting of an interactive anchor that toggled the expandable/collapsible element.",tags:{see:[{description:"https://dialpad.design/components/collapsible.html",title:"see"}]},exportName:"default",props:[{name:"anchorText",description:`Text that is displayed on the anchor if nothing is passed in the slot.
Ignored if the anchor slot is used.`,type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"open",description:`Controls whether the collapsible is shown. Leaving this null will have the collapsible start
expanded and trigger on click by default. If you set this value, the default trigger
behavior will be disabled, and you can control it as you need.
Supports .sync modifier`,tags:{},values:["null","true","false"],type:{name:"boolean"},defaultValue:{func:!1,value:"null"}},{name:"id",description:"The id of the content wrapper.",type:{name:"string"},defaultValue:{func:!0,value:"function() { return getUniqueString(); }"}},{name:"elementType",description:"HTML element type (tag name) of the root element of the component.",type:{name:"string"},defaultValue:{func:!1,value:"'div'"}},{name:"contentElementType",description:"HTML element type (tag name) of the content wrapper element.",type:{name:"string"},defaultValue:{func:!1,value:"'div'"}},{name:"anchorClass",description:"Additional class name for the anchor wrapper element.",type:{name:"string|array|object"},defaultValue:{func:!1,value:"null"}},{name:"contentClass",description:"Additional class name for the content wrapper element.",type:{name:"string|array|object"},defaultValue:{func:!1,value:"null"}},{name:"maxWidth",description:`The maximum width of the anchor and collapsible element.
Possible units rem|px|%|em`,type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"maxHeight",description:`The maximum height of the collapsible element.
Possible units rem|px|%|em`,type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"ariaLabel",description:"Label on the collapsible content. Should provide this or ariaLabelledBy but not both.",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"ariaLabelledBy",description:`Id of the element that labels the collapsible content. Defaults to the anchor element.
Should provide this or ariaLabel but not both.`,type:{name:"string"},defaultValue:{func:!1,value:"null"}}],events:[{name:"update:open",description:"Event fired to sync the open prop with the parent component",type:{names:["undefined"]}},{name:"opened",description:"Event fired when the content is shown or hidden",type:{names:["Boolean"]},properties:[{type:{names:["undefined"]},name:"<anonymous1>"}]}],slots:[{name:"anchor",scoped:!0,description:"Slot for the anchor element that toggles the collapsible content",bindings:[{name:"attrs",title:"binding"}]},{name:"content",description:"Slot for the collapsible element that is expanded by the anchor"}],sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/components/collapsible/collapsible.vue"]};const E={name:"DtCollapsibleDefaultStory",components:{DtCollapsible:D},data(){return{isOpen:this.open}},watch:{open(e){this.isOpen=e}}},Y=["innerHTML"],Z=["innerHTML"],ee={key:1,class:"d-ai-center d-fs-16"},te=o("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam et ex risus. In id pellentesque tellus. In hac habitasse platea dictumst. Suspendisse nec egestas nulla. Nam fermentum nisi sit amet arcu fringilla, in porta libero volutpat. Proin ac odio egestas, luctus magna a, luctus leo. Maecenas eget orci vel nibh sollicitudin maximus quis at quam. Curabitur imperdiet lacus nec malesuada pharetra. Nullam leo mi, suscipit at arcu vitae, vestibulum rutrum eros. ",-1),ae=o("p",null," Mauris convallis, elit quis imperdiet aliquet, elit elit tincidunt dui, at tincidunt ligula metus ac tortor. Vestibulum vehicula, nibh pulvinar consequat faucibus, turpis metus tempus dui, eu facilisis risus risus at ipsum. Praesent feugiat nibh non ipsum facilisis, volutpat ullamcorper dui vehicula. Nunc mollis dui porta purus tristique aliquam sed at turpis. Phasellus in aliquet sem, sed consequat turpis. Suspendisse potenti. Aenean vitae leo quam. Fusce ipsum nulla, egestas at eros sit amet, consectetur consectetur turpis. Fusce sit amet tellus rutrum, sollicitudin ante porta, consequat dolor. Quisque ut nulla iaculis, eleifend neque in, euismod massa. Sed pulvinar erat nec interdum porttitor. Pellentesque interdum tincidunt nisl, nec finibus augue faucibus sit amet. Morbi vestibulum rhoncus tristique. Duis at vehicula nulla. Sed hendrerit est id lacus placerat cursus. Cras in lacus sit amet ligula ullamcorper vehicula vitae porttitor est. ",-1),ne=[te,ae];function le(e,y,t,b,n,a){const d=r("dt-collapsible");return i(),u(d,{id:e.$attrs.id,"anchor-text":e.$attrs.anchorText,"max-height":e.$attrs.maxHeight,"max-width":e.$attrs.maxWidth,open:e.$attrs.isOpen,"initial-focus-element":"first","element-type":e.$attrs.elementType,"content-element-type":e.$attrs.contentElementType,"anchor-class":e.$attrs.anchorClass,"content-class":e.$attrs.contentClass,"aria-label":e.$attrs.ariaLabel,"aria-labelledby":e.$attrs.ariaLabelledBy},I({content:l(()=>[e.$attrs.content?(i(),_("div",{key:0,innerHTML:e.$attrs.content},null,8,Z)):(i(),_("div",ee,ne))]),_:2},[e.$attrs.anchor?{name:"anchor",fn:l(({attrs:p})=>[o("div",c(p,{innerHTML:e.$attrs.anchor}),null,16,Y)]),key:"0"}:void 0]),1032,["id","anchor-text","max-height","max-width","open","element-type","content-element-type","anchor-class","content-class","aria-label","aria-labelledby"])}const ie=f(E,[["render",le]]);E.__docgenInfo={displayName:"DtCollapsibleDefaultStory",exportName:"default",description:"",tags:{},sourceFiles:["/home/runner/work/dialtone-vue/dialtone-vue/components/collapsible/collapsible_default.story.vue"]};const q={anchorText:"Click me to toggle Content"},se={anchor:{control:"text",table:{type:{summary:"VNode"}}},content:{control:"text",table:{type:{summary:"VNode"}}},anchorText:{description:"Text on the anchor if slot is unused.",table:{type:{summary:"string"}},control:{type:"text"}},id:{table:{defaultValue:{summary:"generated unique ID"}}},opened:{description:"Emitted whenever the content is collapsed or expanded.",table:{type:{summary:"event"}}},"update:open":{table:{disable:!0}}},oe={title:"Components/Collapsible",component:D,argTypes:se,args:q,excludeStories:/.Data$/},re=e=>G(e,ie),s={render:re,args:{maxWidth:"512px"}};var x,w,S;s.parameters={...s.parameters,docs:{...(x=s.parameters)==null?void 0:x.docs,source:{originalSource:`{
  render: DefaultTemplate,
  args: {
    maxWidth: '512px'
  }
}`,...(S=(w=s.parameters)==null?void 0:w.docs)==null?void 0:S.source}}};const ue=["argsData","Default"],be=Object.freeze(Object.defineProperty({__proto__:null,Default:s,__namedExportsOrder:ue,argsData:q,default:oe},Symbol.toStringTag,{value:"Module"}));export{be as C,s as D};
//# sourceMappingURL=collapsible.stories-ced2c4f7.js.map
