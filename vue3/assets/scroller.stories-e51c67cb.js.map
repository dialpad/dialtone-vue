{"version":3,"file":"scroller.stories-e51c67cb.js","sources":["../../components/scroller/scroller_default.story.vue","../../components/scroller/person.png","../../components/scroller/scroller_dynamic.story.vue"],"sourcesContent":["<template>\n  <div>\n    <h3>Scroller</h3>\n\n    <button @click=\"scrollToItem(25)\">\n      Go to index 25\n    </button>\n    <button @click=\"scrollToItem(0)\">\n      Go to start\n    </button>\n    <button @click=\"scrollToItem(items.length - 1)\">\n      Go to end\n    </button>\n\n    <button @click=\"addItemTop\">\n      Add 10 items top\n    </button>\n\n    <br>\n    <br>\n    <button\n      class=\"autoscrolling\"\n      @click=\"switchAutoScrolling\"\n    >\n      Auto scrolling <div :class=\"{ 'enabled': autoScrolling }\" />\n    </button>\n\n    <dt-scroller\n      ref=\"scroller\"\n      class=\"scroller\"\n      :items=\"items\"\n      :item-size=\"$attrs.itemSize\"\n      :scroller-height=\"$attrs.scrollerHeight\"\n      :scroller-width=\"$attrs.scrollerWidth\"\n      :min-item-size=\"$attrs.minItemSize\"\n      :list-tag=\"$attrs.listTag\"\n      :item-tag=\"$attrs.itemTag\"\n      :direction=\"$attrs.direction\"\n      @user-position=\"$attrs.onUserPosition($event); userPosition = $event\"\n    >\n      <template #default=\"{ item }\">\n        <div class=\"user\">\n          {{ item.name }}\n        </div>\n      </template>\n    </dt-scroller>\n  </div>\n</template>\n\n<script setup>\nimport DtScroller from './DtScroller.vue';\nimport { nextTick, ref } from 'vue';\n\nconst items = ref(Array.from({ length: 50 }, (_, i) => ({\n  id: i,\n  name: `User ${i}`,\n})));\n\nconst scroller = ref('scroller');\n\nconst autoScrolling = ref(false);\n\nconst userPosition = ref(null);\n\nlet intervalId;\n\nfunction scrollToItem (index) {\n  scroller.value.scrollToItem(index);\n}\n\nfunction addItem () {\n  items.value.push({\n    id: items.value.length,\n    name: `User ${items.value.length}`,\n  });\n}\n\nfunction addItemTop () {\n  const aux = items.value.length;\n  for (let i = 1; i <= 10; i++) {\n    items.value.unshift({\n      id: aux + i,\n      name: `User ${aux + i}`,\n    });\n  }\n  scroller.value.scrollToItem(10);\n  scroller.value.updateItems();\n}\n\nfunction switchAutoScrolling () {\n  autoScrolling.value = !autoScrolling.value;\n  scroller.value.scrollToItem(items.value.length - 1);\n\n  clearInterval(intervalId);\n  intervalId = setInterval(function () {\n    if (!autoScrolling.value) return;\n    addItem();\n    nextTick(() => {\n      if (userPosition.value === 'bottom') {\n        scroller.value.scrollToItem(items.value.length - 1);\n      }\n    });\n    scroller.value.updateItemsFromBottom();\n  }, 1000);\n}\n</script>\n\n<style lang=\"less\" scoped>\n.scroller {\n  margin: 20px 0;\n  border: 1px solid red;\n}\n\n.user {\n  height: 25px;\n  padding: 0 12px;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #eee;\n}\n\n.autoscrolling{\n  display: flex;\n  align-items: center;\n  div {\n    background-color: red;\n    width: 5px;\n    height: 5px;\n    border-radius: 25px;\n    margin-left: 5px;\n\n    &.enabled{\n      background-color: #00ff00;\n    }\n  }\n}\n</style>\n","export default \"__VITE_ASSET__6d79b845__\"","<template>\n  <div>\n    <h3>Scroller with dynamic size</h3>\n\n    <button @click=\"updateItem(0)\">\n      Update Element Message\n    </button>\n    <br>\n    <br>\n    <button @click=\"replaceItems()\">\n      Replace Items\n    </button>\n    <br>\n    <br>\n    <button\n      class=\"autoscrolling\"\n      @click=\"switchAutoScrolling\"\n    >\n      Auto scrolling <div :class=\"{ 'enabled': autoScrolling }\" />\n    </button>\n\n    <dt-scroller\n      ref=\"scroller\"\n      :items=\"dynamicItems\"\n      :min-item-size=\"54\"\n      :scroller-height=\"300\"\n      :scroller-width=\"500\"\n      class=\"scroller\"\n      :dynamic=\"true\"\n      @user-position=\"userPosition = $event\"\n    >\n      <template #default=\"{ item }\">\n        <div class=\"avatar\">\n          {{ item.id }}\n          <img\n            :key=\"item.avatar\"\n            :src=\"item.avatar\"\n            alt=\"avatar\"\n            class=\"image\"\n          >\n        </div>\n        <div class=\"text\">\n          {{ item.message }}\n        </div>\n      </template>\n    </dt-scroller>\n  </div>\n</template>\n\n<script setup>\nimport DtScroller from './DtScroller.vue';\nimport { nextTick, ref } from 'vue';\n\nimport defaultAvatar from './person.png';\n\n/* eslint-disable max-len */\nconst messages = [\n  'lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor,nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam',\n  'lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl',\n  'lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet',\n  'lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet',\n  'lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam,nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit.',\n  'lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc, eget aliquam nisl ni loremlorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam, nunc nisl aliquet nunc',\n  'lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl eget ultrices aliquam',\n  'lorem ipsum dolor sit amet',\n];\n\nconst dynamicItems = ref(Array.from({ length: 37 }, (_, index) => ({\n  id: index,\n  avatar: defaultAvatar,\n  message: messages[Math.floor(Math.random() * 8)],\n})));\n\nfunction updateItem (index) {\n  dynamicItems.value[index].message = messages[Math.floor(Math.random() * 8)];\n}\n\nconst scroller = ref('scroller');\nconst autoScrolling = ref(false);\nconst userPosition = ref(null);\nlet intervalId;\n\nfunction addItem () {\n  dynamicItems.value.push({\n    id: dynamicItems.value.length,\n    avatar: defaultAvatar,\n    message: messages[Math.floor(Math.random() * 8)],\n  });\n}\n\nfunction switchAutoScrolling () {\n  autoScrolling.value = !autoScrolling.value;\n  scroller.value.scrollToBottom();\n\n  clearInterval(intervalId);\n  intervalId = setInterval(function () {\n    if (!autoScrolling.value) return;\n    addItem();\n    nextTick(() => {\n      if (userPosition.value === 'bottom') {\n        scroller.value.scrollToBottom();\n      }\n    });\n  }, 1000);\n}\n\nfunction replaceItems () {\n  dynamicItems.value = [...dynamicItems.value].reverse();\n  scroller.value.updateItems();\n}\n</script>\n\n<style lang=\"less\" scoped>\n.scroller {\n  margin: 20px 0;\n  border: 1px solid red;\n}\n\n.image{\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  margin-right: 10px;\n  object-fit: cover;\n}\n\n.autoscrolling{\n  display: flex;\n  align-items: center;\n  div {\n    background-color: red;\n    width: 5px;\n    height: 5px;\n    border-radius: 25px;\n    margin-left: 5px;\n\n    &.enabled{\n      background-color: #00ff00;\n    }\n  }\n}\n</style>\n"],"names":["items","ref","_","i","scroller","autoScrolling","userPosition","intervalId","scrollToItem","index","addItem","addItemTop","aux","switchAutoScrolling","nextTick","defaultAvatar","messages","dynamicItems","updateItem","replaceItems"],"mappings":"4gBAqDA,MAAMA,EAAQC,EAAI,MAAM,KAAK,CAAE,OAAQ,EAAI,EAAE,CAACC,EAAGC,KAAO,CACtD,GAAIA,EACJ,KAAM,QAAQA,CAAC,EACjB,EAAE,CAAC,EAEGC,EAAWH,EAAI,UAAU,EAEzBI,EAAgBJ,EAAI,EAAK,EAEzBK,EAAeL,EAAI,IAAI,EAE7B,IAAIM,EAEJ,SAASC,EAAcC,EAAO,CAC5BL,EAAS,MAAM,aAAaK,CAAK,CACnC,CAEA,SAASC,GAAW,CAClBV,EAAM,MAAM,KAAK,CACf,GAAIA,EAAM,MAAM,OAChB,KAAM,QAAQA,EAAM,MAAM,MAAM,EACpC,CAAG,CACH,CAEA,SAASW,GAAc,CACrB,MAAMC,EAAMZ,EAAM,MAAM,OACxB,QAASG,EAAI,EAAGA,GAAK,GAAIA,IACvBH,EAAM,MAAM,QAAQ,CAClB,GAAIY,EAAMT,EACV,KAAM,QAAQS,EAAMT,CAAC,EAC3B,CAAK,EAEHC,EAAS,MAAM,aAAa,EAAE,EAC9BA,EAAS,MAAM,aACjB,CAEA,SAASS,GAAuB,CAC9BR,EAAc,MAAQ,CAACA,EAAc,MACrCD,EAAS,MAAM,aAAaJ,EAAM,MAAM,OAAS,CAAC,EAElD,cAAcO,CAAU,EACxBA,EAAa,YAAY,UAAY,CAC9BF,EAAc,QACnBK,IACAI,EAAS,IAAM,CACTR,EAAa,QAAU,UACzBF,EAAS,MAAM,aAAaJ,EAAM,MAAM,OAAS,CAAC,CAE1D,CAAK,EACDI,EAAS,MAAM,wBAChB,EAAE,GAAI,CACT,spCCxGA,MAAeW,EAAA,GAAA,IAAA,IAAA,sBAAA,YAAA,GAAA,EAAA,+TCwDf,MAAMC,EAAW,CACf,6YACA,+IACA,4dACA,swBACA,+zBACA,2jBACA,oGACA,4BACF,EAEMC,EAAehB,EAAI,MAAM,KAAK,CAAE,OAAQ,EAAI,EAAE,CAACC,EAAGO,KAAW,CACjE,GAAIA,EACJ,OAAQM,EACR,QAASC,EAAS,KAAK,MAAM,KAAK,OAAM,EAAK,CAAC,CAAC,CACjD,EAAE,CAAC,EAEH,SAASE,EAAYT,EAAO,CAC1BQ,EAAa,MAAMR,CAAK,EAAE,QAAUO,EAAS,KAAK,MAAM,KAAK,SAAW,CAAC,CAAC,CAC5E,CAEA,MAAMZ,EAAWH,EAAI,UAAU,EACzBI,EAAgBJ,EAAI,EAAK,EACzBK,EAAeL,EAAI,IAAI,EAC7B,IAAIM,EAEJ,SAASG,GAAW,CAClBO,EAAa,MAAM,KAAK,CACtB,GAAIA,EAAa,MAAM,OACvB,OAAQF,EACR,QAASC,EAAS,KAAK,MAAM,KAAK,OAAM,EAAK,CAAC,CAAC,CACnD,CAAG,CACH,CAEA,SAASH,GAAuB,CAC9BR,EAAc,MAAQ,CAACA,EAAc,MACrCD,EAAS,MAAM,iBAEf,cAAcG,CAAU,EACxBA,EAAa,YAAY,UAAY,CAC9BF,EAAc,QACnBK,IACAI,EAAS,IAAM,CACTR,EAAa,QAAU,UACzBF,EAAS,MAAM,gBAEvB,CAAK,EACF,EAAE,GAAI,CACT,CAEA,SAASe,GAAgB,CACvBF,EAAa,MAAQ,CAAC,GAAGA,EAAa,KAAK,EAAE,UAC7Cb,EAAS,MAAM,aACjB;;;;;;;;;;;;;;;;;;;;;;;;"}