{"version":3,"file":"combobox-71ce66ee.js","sources":["../../components/combobox/combobox.mdx"],"sourcesContent":["import { Canvas, Story, Subtitle, Controls, Meta } from '@storybook/blocks';\n\nimport * as ComboboxStories from './combobox.stories';\n\n<Meta of={ComboboxStories}/>\n\n# Combobox\n\n<Subtitle>\n  A combobox is a semantic component that displays an input element combined with a listbox,\n  which enables the user to select items from the list.\n</Subtitle>\n\n## Base Style\n\nA combobox provides accessibility controls and common functionality. It does not render any\nfunctioning UI on it's own, but it depends on the elements passed to it via slots.\n\nA combobox has 2 major pieces that are provided as required named slots: the **input** and the **list**.\n\nThe **input** slot contains the input element that controls the items in the list. Almost always this will be a dt-input.\n\nThe **list** contains a list of items to show in the context of the input's value. Almost always this will be a list of dt-list-item.\n\n<Canvas>\n  <Story of={ComboboxStories.Default} />\n</Canvas>\n\n## Slots, Props and Events\n\n<Controls />\n\n## Accessibility\n\nThe combobox has a role of \"combobox\", the list has a role \"listbox\" and the list items have a role \"option\".\nDepending on the use case, the user should be able to use `ESC` key to hide the list and/or empty the\ninput's value, but this is not determined by the combobox.\n\nWhen `loading` prop is set to `true`, the list also has the aria-busy attribute set to `true`.\n\n[See W3C guidelines](https://www.w3.org/TR/wai-aria-practices/examples/combobox/aria1.1pattern/listbox-combo.html)\nfor more information.\n\n### Input\n\nThe input element should be fully accessible by keyboard. The easiest way to do this is by using an element like\na `DtInput` that is already accessible. There are some required ARIA attributes for the input element.\nTo make this as straightforward as possible, these ARIA attributes are passed with the correct values\nas the `inputProps` slot-scope to the input slot.\n\n### List\n\nThe list element mainly has to contain the correct ARIA attributes, which are passed as `listProps`\nslot-scope to the list slot. The combobox has a prop `listAriaLabel` that should be passed as it is\nused to describe the contents of the list. The list itself can be a Dialtone component or a native\nHTML element, such as `<ol></ol>`.\n\n### List Item\n\nThe list item should be compatible with keyboard navigation. It is recommended\nto use `DtListItem` component as it supports all the necessary accessibility props and interactions.\n\n### Focus & Keyboard\n\nA combobox has well defined standard keyboard interactions that it should support. Only the input\nelement should receive focus and the list items are not focusable. However, while the input has focus\n`UP` and `DOWN` arrows move the highlighted selection between the list items. `HOME` and\n`END` keys will jump straight to the first or the last item. Once the beginning or the end of the\nlist is reached the selection will move to the opposite end of the list by default. If you want custom\nbehavior you can pass `onBeginningOfList` and `onEndOfList` methods as props.\n\nPressing `ESC` key while the input has focus will emit an **escape** event that has to be handled\nbased on the use case. Commonly the `ESC` key might hide the list or empty the input. `ENTER` key will\nemit a **select** event with the index of the currently highlighted list item. When the highlight\nselection changes, a **highlight** event is emitted with the index of the currently highlighted item.\n\nWhen `loading` prop is set to `true`, only `ESC` key will emit an **escape** event.\n\n### Usage\n\n```js\nimport { DtCombobox, DtInput, DtListItem } from '@dialpad/dialtone-vue';\n```\n\n```html\n<dt-combobox\n  list-aria-label=\"Example list items\"\n  @escape=\"onEscape\"\n  @highlight=\"onHighlight\"\n  @select=\"onSelect\"\n>\n  <template #input=\"{ inputProps }\">\n    <dt-input v-bind=\"inputProps\" />\n  </template>\n  <template #list=\"{ listProps }\">\n    <ol v-bind=\"listProps\">\n      <dt-list-item\n        v-for=\"(item, i) in items\"\n        :key=\"item.id\"\n        navigation-type=\"arrow-keys\"\n        role=\"option\"\n        @click=\"onSelect(i)\"\n      >\n        {{ item.name }}\n      </dt-list-item>\n    </ol>\n  </template>\n</dt-combobox>\n```\n\n`onSelect` is the method event handler that receives the index of each item.\n\n#### With empty list item\n\nCombobox has a built-in empty list item you can use passing `emptyList=true` and an message to show with\n`emptyStateMessage`.\n\n```html\n<dt-combobox\n  ...\n  :empty-list=\"isComboboxEmpty\"\n  :empty-state-message=\"$i18n('No matches found.')\"\n>\n  <template #input=\"{ inputProps }\">\n    <dt-input v-bind=\"inputProps\" />\n  </template>\n  <template #list=\"{ listProps }\">\n    <ol v-bind=\"listProps\">\n      <dt-list-item\n        v-for=\"(item, i) in items\"\n        :key=\"item.id\"\n        navigation-type=\"arrow-keys\"\n        role=\"option\"\n        @click=\"onSelect(i)\"\n      >\n        {{ item.name }}\n      </dt-list-item>\n    </ol>\n  </template>\n</dt-combobox>\n<script>\nexport default {\n  ...\n  data () {\n    return {\n      items: [...],\n    }\n  }\n  computed: {\n    isComboboxEmpty () {\n      return this.items.length > 0;\n    }\n  }\n}\n</script>\n```\n\nAlso you can use a custom list item with the `emptyListItem` slot.\n\n```html\n<dt-combobox\n  ...\n  :empty-list=\"isComboboxEmpty\"\n>\n  <template #input=\"{ inputProps }\">\n    <dt-input v-bind=\"inputProps\" />\n  </template>\n  <template #list=\"{ listProps }\">\n    <ol v-bind=\"listProps\">\n      <dt-list-item\n        v-for=\"(item, i) in items\"\n        :key=\"item.id\"\n        navigation-type=\"arrow-keys\"\n        role=\"option\"\n        @click=\"onSelect(i)\"\n      >\n        {{ item.name }}\n      </dt-list-item>\n    </ol>\n  </template>\n  <template #emptyListItem>\n    <li\n      id=\"empty-list-item\"\n      tabindex=\"-1\"\n      role=\"option\"\n    >\n      {{ $i18n('No matches found.') }}\n    </li>\n  </tempalte>\n</dt-combobox>\n```\n"],"names":["_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Meta","ComboboxStories","Subtitle","Canvas","Story","ComboboxStories.Default","Controls","MDXContent","MDXLayout"],"mappings":"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"}